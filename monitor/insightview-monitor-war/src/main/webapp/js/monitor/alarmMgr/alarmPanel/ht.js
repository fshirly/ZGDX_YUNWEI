var noAlert = true;
var htl = '{\n\
"corp": "江苏飞博软件技术有限公司",\n\
"project": "2014.10.21-2015.10.22全年使用",\n\
"start": "2014-10-21",\n\
"hashCode": "4e06aa5b9d562f8921d6cc1aa73e8d54ba0fd8d718ecd48103ed0cf2d50810896df6768f5a476ce7c78af72968f97af21f1f23213529398b7860b435dc58c4d8ecd1b80acfe81f765b34065d3b3998e3d30a1fe4b22c141b446d1aa27ef0c72960a7f66baca969f2620f6e2fb14a2235ca89c67c145c963343c7943ec02e3497",\n\
"t1": "32520527994112",\n\
"t2": "1413935998844",\n\
"signature": "27531f713d168fbfab52a1ce25ff3170a81acf8bc1846e01fa73212707075fc1ae0e928e6b399971eb3f7cf60ca9e9b20b5f2bd966db5d21ef1ff78b558fb0cb93b8760df7db7736482d57681d5dabb6a4b349bbcbd962e72fb3bebd9ad6dff0e0d595784f816c81999c8b5d1fd59f76dd212b915e5bdd09c0128863484e08b5"\n\
}'
!function(c,V,U){"use strict";var G="ht";if(!c[G]){var j,w,$,Q,K=c.document,v=null,b=c[G]={},s=c[G+"config"],e=b.Default=s&&s.Default||{},D=b.Style=s&&s.Style||{},g=b.Color=s&&s.Color||{},f=b.IsGetter=s&&s.IsGetter||{},M=Math,B=M.round,o=M.floor,X=M.ceil,t=M.sqrt,k=M.max,I=M.min,y=M.abs,h=M.cos,p=M.acos,a=M.sin,F=M.pow,T=M.asin,H=M.PI,O=2*H,E=H/2,L=M.tan,Y=M.atan2,u=M.random,Z=c.parseInt||global.parseInt,J="2014-11-01",C=function(p){return p*p},l=c.setTimeout,R=c.clearTimeout,_=c.navigator?c.navigator.userAgent.toLowerCase():"",q=function(E){return E.test(_)},z=q(/msie/)||q(/trident/),d=q(/msie 10/),n=q(/firefox/),S=q(/mac/),P=e.isTouchable===U?K?"ontouchend"in K:!1:e.isTouchable,A="default",x="single",i="multiple",m="front",W="back",r="left",N="right",cn="top",Yp="bottom",lg="center",co="eye",Nc="middle",bl="east",Vp="west",An="north",Yi="none",eb="px",lk="absolute",wp="border",Zo="triangle",Mk="rect",Im="circle",ql="cylinder",$e="shape",cr="items",Ai="normal",Uq="remove",_q="clear",qg="width",Oo="height",Xo="ingroup",fe="check",de="uncheck",_m="radio",No="radioOn",yj="radioOff",fd="points",mq="values",ck="series",Gh="body",Am="label",Pi="label2",fr="note",gm="note2",Zn="icons",Ch="labelFont",or="labelColor",Sj="labelSelectColor",Pm="note.expanded",eh="note2.expanded",xo="edge.expanded",Ih="edge.points",Zc="edge.type",cg="rotation",Hk="getRotation",Gl="setRotation",xd="hidden",Gc="visible",Lk="tuv",Sn="no",lr="select",al="currentSubGraph",Me="selectBackground",po="autoMakeVisible",Ok="autoHideScrollBar",_n="scrollBarColor",Dj="scrollBarSize",Er="indent",Vd="rowHeight",ae="columnLineColor",ys="rowLineColor",Zi="columnLineVisible",Ij="rowLineVisible",Zm="visibleFunc",np="expandIcon",Cb="collapseIcon",vr="checkMode",Sp="sortFunc",Dq="editable",sc="batchEditable",fo="tristate",Eq="asc",Gg="desc",Ln="position",Wr="elevation",pm="children",ss="translateX",Ol="translateY",jo="dataModel",ld="shape3d.from.visible",Hg="shape3d.to.visible",Hr="shape3d.top.visible",gh="shape3d.bottom.visible",as="serializeValue",uq="deserializeValue",wq="centerUniform",km="rgba(255,255,255,0)",el="style",Ah="attr",zl="field",gj="string",ok="boolean",Op="color",gd="int",Oh="number",xn="ew-resize",sm="ns-resize",yl="pointer",vi="auto",bq="mousedown",cm="mousemove",ch="mouseup",Ik="mouseout",Mr="touchstart",ps="touchmove",rr="touchend",Ib="keydown",qi="keyup",Yk=n?"DOMMouseScroll":"mousewheel",Nh=P?[Mr,ps,rr]:[Ib,qi,bq,cm,ch,Ik,Yk,"contextmenu"],dm=v,Xd=v,Rb=v,Lo=ch.length,Mq=function(){Rb&&(R(Rb.timeout),Rb=v)},Hn=function(){Rb&&tb(Rb.e,Rb.info)};c.addEventListener&&(P||(c.addEventListener(Ik,function(){Mq()},!1),c.addEventListener(Yk,function(){$f()},!1)),c.addEventListener(qi,function(l){91===l.keyCode?Ep={}:delete Ep[l.keyCode]},!0),c.addEventListener(Ib,function(A){Ep[A.keyCode]=!0},!0));var To,As,ug,jn=!1,zh=v,Ig=v,Xm={},kp={},Yh={},Yf={},_b={},Ep={},fh={},hk={},qs={},eq=[],dd={},Gq=v,qd=v,ad=function(){},jq=function(){throw"Oops!"},je={x:0,y:0,width:0,height:0},vp=v,Pq=v,xi=v,tn=function(S){Pq&&!S._72O&&(xi||(xi={}),xi[S._72O=$h()]=S),To!=v?Kn()<.05&&Q&&!As&&(bc=Mq):bc=vb},vl=function(j,m,x,F){if(Pq||(Pq={}),!Pq[j]){Pq[j]=!0;var J=new Image;J.onload=function(){x&&(J.width=x),F&&(J.height=F),e.handleImageLoaded(j,J),Ym(j,J)},J.onerror=function(){Ym(j,e.handleUnfoundImage(j,m)||v)},J.src=m}},Ym=function($,j){if(kp[$]=j,delete Pq[$],kn(Pq)&&(Pq=v,xi)){for(var S in xi){var I=xi[S];I.invalidateAll&&I.invalidateAll(),I.redraw&&I.redraw(),I.iv(),delete I._72O}xi=v}if(j&&xi)for(var S in xi){var I=xi[S];I.invalidateAll&&I.invalidateAll(),I.redraw&&I.redraw(),I.iv()}},jb=function(Y,i,S){return{width:Y,height:i,comps:nn(S)?S:[S]}},os=function(c,W){return jb(16,16,{type:Zo,rect:[4,4,10,8],background:c,rotation:W?1.57:3.14})},kc=function(V,O){return jb(16,16,{type:Zo,rect:[4,4,8,7],background:V,rotation:O?3.14:0})},hs=function(U){var _=U._orientation;return"horizontal"===_||"h"===_},us=function(d){b.z=w=d},Vl=function(N){var d=2,h=0;for(var m in N)m.length===d&&Z(m,32)===qq&&(Gq=qd=N[m]),h++;return h},mj=function(b,r){return P?{x:b-5,y:r-5,width:11,height:11}:{x:b-1,y:r-1,width:3,height:3}},yq=function(A){return(/ble$/.test(A)||/ed$/.test(A)||f[A]?"is":"get")+A.charAt(0).toUpperCase()+A.slice(1)},Fc=function(w){return"set"+w.charAt(0).toUpperCase()+w.slice(1)},Ur=function(p){return typeof p===gj||p instanceof String},Nf=function(q){return typeof q===Oh},vb=function(U){return typeof U===ok},sg=function(b){return b&&"object"==typeof b},ce=function($){return"function"==typeof $},nn=function(O){return O instanceof Array},br=function(h){return h instanceof Eb},Un=function(N){return nn(N)?new Eb(N):N},Zk=function(R){return R instanceof wj},bs=function(g){return g instanceof _f},qm=function(f){return f instanceof kf},Bs=function(X){return X&&"IFRAME"===X.tagName},qe=function(W){return W==v?W:parseFloat(W.toFixed(2))},Kr=function(j,z,S){var X,W=z.length;if(S)for(var f=0;S>f;f++)if(3===W)j.push(z[0]),j.push(z[1]),j.push(z[2]);else for(X=0;W>X;X++)j.push(z[X]);else if(3===W)j.push(z[0]),j.push(z[1]),j.push(z[2]);else for(X=0;W>X;X++)j.push(z[X])},Cs=function(f){return f?sg(f)?f:{}:!1},sq=function(s,c,v){var f,h=sg(s)?s:s.prototype;for(f in c)v&&h[f]!==U||(h[f]=c[f]);return s},Rk=function(o){return String.fromCharCode(o)},_l=function(D){for(var u,U=0,v="";U<D.length;U++)u=D[D.length-1-U],"%"===u?u="'":"a"===u&&(u='"'),v+=Rk(u.charCodeAt(0)-1);return v},Cq=function(W,i,E){W.superClass.constructor.apply(i,E)},kn=function(k){for(var O in k)return!1;return!0},Lh=function($){return $?0===$.length:!0},$n=function(q,n){return q.x===n.x&&q.y===n.y&&q.width===n.width&&q.height===n.height},Kn=function(){var A=1e4*a(Lo++);return A-o(A)},ir=function(Y,J,S){return dq(Y.x,Y.y,J.x,J.y,S.x,S.y,S.x+S.width,S.y,!0)||dq(Y.x,Y.y,J.x,J.y,S.x+S.width,S.y,S.x+S.width,S.y+S.height,!0)||dq(Y.x,Y.y,J.x,J.y,S.x+S.width,S.y+S.height,S.x,S.y+S.height,!0)||dq(Y.x,Y.y,J.x,J.y,S.x,S.y+S.height,S.x,S.y,!0)},dq=function(l,V,$,e,Z,N,s,z,p){var B=(s-Z)*(V-N)-(z-N)*(l-Z),U=(z-N)*($-l)-(s-Z)*(e-V);if(0!==U){var Q=B/U,X=l+Q*($-l),_=V+Q*(e-V);return p&&(X+Kg<I(l,$)||X-Kg>k(l,$)||X+Kg<I(Z,s)||X-Kg>k(Z,s)||_+Kg<I(V,e)||_-Kg>k(V,e)||_+Kg<I(N,z)||_-Kg>k(N,z))?v:[X,_]}return v},fm=function(R,G,o){if(R&&o){if(!G)return R[yq(o)]();if(G===el)return R.getStyle(o);if(G===Ah)return R.getAttr(o);if(G===zl)return R[o]}return U},rk=function(U,$,l,y){if(U&&l)if($){if($===el)U.s(l,y);else if($===Ah)U.a(l,y);else if($===zl){var x=U[l];U[l]=y,U.fp("f:"+l,x,y)}}else U[Fc(l)](y)},Ag=function(o,J,P,b,i){J&&mg(o,P,b,1,i,J)},Pk=function(J,D,p,t){var K=1-J;return K*K*D+2*J*K*p+J*J*t},aq=function(K,F,x,z,g){var J=1-K;return J*J*J*F+3*J*J*K*x+3*J*K*K*z+K*K*K*g},Te=function(Z){var j,M,T,q,p=0;return Z.forEach(function(C){if(j=C.length,j>0)for(M=C[0],q=1;j>q;q++)T=C[q],p+=Lp(M,T),M=T}),p},_c=function(r,c,_){var h="__"+r,x=function(k){_["handle_"+r](k)};_[h]||(_[h]=x,c.addEventListener(r,x,!1))},Jn=function(D,m,j){var c="__"+D,G=j[c];G&&(m.removeEventListener(D,G,!1),delete j[c])},Id=function(i,H){var E="_"+H;i[yq(H)]=function(){return this[E]},i[Fc(H)]=function(S){var C=this[E];this[E]=S,this.fp(H,C,S)}},Vi=function(c,G){var e=new c;for(var S in G){var k=Fc(S),q=G[S];e[k]?(e[k](q),"setToolTip"===k&&e.enableToolTip&&e.enableToolTip()):e[S]=q}return e},uh=function(T){if(!T.element){var E,Y;(E=T.textField)?Y=Vi(Lb.TextField,E):(E=T.textArea)?Y=Vi(Lb.TextArea,E):(E=T.button)?Y=Vi(Lb.Button,E):(E=T.comboBox)?Y=Vi(Lb.ComboBox,E):(E=T.checkBox)?Y=Vi(Lb.CheckBox,E):(E=T.radioButton)?Y=Vi(Lb.RadioButton,E):(E=T.slider)?Y=Vi(Lb.Slider,E):(E=T.image)&&(Y=Vi(Lb.Image,E)),Y&&(T.element=Y)}},zj=function(Y){var n=K.createElement("div"),e=n.style;return n.tabIndex=-1,n.onkeydown=Ye,e.msTouchAction=Yi,e.cursor=A,Bf(n,v,0),P&&e.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",v),Y&&(e.overflow=xd),n},Pd=function(z){var l=K.createElement("canvas"),a=l.style;return a.msTouchAction=Yi,a.pointerEvents=Yi,Bf(l,v,0),z&&hq(z,l),l},Bf=function(z,D,H){var h=z.style;h.border=D?D+" solid 1px":0,h.outline=0,h.padding=H?"0 "+H+eb:0,Nn(z)},Nn=function(i){var Q=i.style;Q.position=lk,Q.margin=0,Q.setProperty("box-sizing","border-box",v),Q.setProperty("-moz-box-sizing","border-box",v)},Vm=function(L,w,r,f){f||(f=um),w!=v&&(L.width=w*f,L.style.width=w+eb),r!=v&&(L.height=r*f,L.style.height=r+eb)},hq=function(q,y,p){q.appendChild(y),p&&(y.style.position=lk)},gr=function(r,q,e,g,Q){r.font=g?g:Hm,r.fillStyle=Q?Q:uj,r.textAlign=lg,r.textBaseline=Nc;var T,O;e?e.width===U?(T=e.x,O=e.y):(T=e.x+e.width/2,O=e.y+e.height/2):(T=0,O=0),r.fillText(q,B(T),B(O))},Wf=function(u){u.getView&&(u=u.getView());var l=u.offsetWidth||u.scrollWidth;return!l&&u.style.width&&(l=Z(u.style.width)),l},Rc=function(L){L.getView&&(L=L.getView());var _=L.offsetHeight||L.scrollHeight;return!_&&L.style.height&&(_=Z(L.style.height)),_},Sl=function(){var X=function(c){Ye(c),c.stopPropagation()},Q=P?[Mr]:[Ib,bq,Yk];return function(k){var f=zj(),I=f.style;return I.backgroundColor=e.disabledBackground,k&&(I.backgroundImage="url("+k+")",I.backgroundPosition="50% 50%",I.backgroundRepeat="no-repeat no-repeat"),Q.forEach(function(F){f.addEventListener(F,X)}),f}}(),ei=function(x){var u=x.getContext("2d");return u.save(),u.lineCap=e.lineCap,u.lineJoin=e.lineJoin,u},bc=function(R,f,G,d){zr(R,f*um,G*um),d*=um,1!==d&&R.scale(d,d)},zr=function(V,i,Q){V.translate(i,Q)},lc=function(q,M){q.rotate(M)},Xp=function(M){if(K.activeElement!==M)if(P)M.focus();else{var W=xg(),Y=W.target;M.focus(),Y.scrollLeft=W.left,Y.scrollTop=W.top}},Qn=function(k){return k&&k.getView?k.getView():k},Ro=function(e,Q,j,H,n){2===arguments.length&&(j=Q.y,H=Q.width,n=Q.height,Q=Q.x);var f=Qn(e),V=f.style;Q!==U&&(V.left=Q+eb),j!==U&&(V.top=j+eb),H!==U&&(V.width=H+eb),n!==U&&(V.height=n+eb),e.endEditing&&!P&&e.endEditing(),e.redraw&&e.redraw(),e.invalidate&&e.invalidate(),e.onLayouted&&e.onLayouted(Q,j,H,n),e._41O&&e._41O("layout")},Iq=function(K){var Y=K.touches[0];return Y?Y:K.changedTouches[0]},Jd=function(V){e.popup&&e.popup.close(),e.popup=V},pg=v,Mp=function(S){pg.handleWindowTouchMove(S)},Lf=function(F){pg.handleWindowTouchEnd(F),c.removeEventListener(ps,Mp,!1),c.removeEventListener(rr,Lf,!1),pg=v},ih=function(S){pg.handleWindowMouseMove(S)},sh=function(J){pg.handleWindowMouseUp(J),c.removeEventListener(cm,ih,!1),c.removeEventListener(ch,sh,!1),pg=v},Cf=function(v){return 1===Ke(v)},Nj=function(e,M){return M?M.keyCode===e:Ep[e]},dk=function(w){return Zr(w)&&Nj(65,w)},up=function(x){return Nj(46,x)||Nj(8,x)},Ar=function(M){return function(c){return c?c.keyCode===M:Ep[M]}},qq=573,Or=[65,83,68,87,37,38,39,40,32,13,27],ej=Ar(Or[0]),Tk=Ar(Or[1]),Xj=Ar(Or[2]),Km=Ar(Or[3]),Fi=Ar(Or[4]),bf=Ar(Or[5]),pc=Ar(Or[6]),xf=Ar(Or[7]),op=Ar(Or[8]),Rn=Ar(Or[9]),ip=Ar(Or[10]),kk={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},Fl=[2,2,2,2,2,2,2,2,2,2,3,3,3,5,5,5,5,5,5,5,5,131],Bo=v,ms=v,Cm=function(N,f){Bo||(Bo=Pd()),Vm(Bo,N,f,1);var U=ei(Bo);return U.clearRect(0,0,N,f),U},xc=function(){var F,z={};return function(S){var K,X=z[S];return X||(F||(F=Pd(),Vm(F,1,1,1)),K=F.getContext("2d"),K.clearRect(0,0,1,1),mg(K,0,0,1,1,S),X=K.getImageData(0,0,1,1).data,X=z[S]=[X[0],X[1],X[2],X[3]]),X}}(),cb=function(T){if(!Ur(T))return T;var p=xc(T);return p.CA||(p.CA=[p[0]/255,p[1]/255,p[2]/255,p[3]/255]),p.CA},iq=function(E,D,Q,Y){var J=Pd();J.width=Q,J.height=Y;var H=J.getContext("2d");H.drawImage(E,0,0,Q,Y);try{for(var F=H.getImageData(0,0,Q,Y),g=F.data,i=0,d=g.length;d>i;i+=4){var R=g[i+0],k=g[i+1],c=g[i+2];g[i+0]=D[0]*R,g[i+1]=D[1]*k,g[i+2]=D[2]*c}H.putImageData(F,0,0)}catch(W){return E}return J},Wg=function(O,n,f){return n&&(n="miter"===f?8*n+20:n+1,O&&gg(O,n)),n},Ci=function(l,a){if(a){var P=new Fe(a),R=l.width/2,H=l.height/2,p=vn([P.tf(-R,-H),P.tf(R,-H),P.tf(R,H),P.tf(-R,H)]);return p.x+=l.x+R,p.y+=l.y+H,p}return l},Gm=function(t,Z,I,R){if(t.beginPath(),I&&I.size()){for(var A,e,V,T,J=0,f=0,i=I.size();i>f;f++)A=I.get(f),1===A?(e=Z.get(J++),t.moveTo(e.x,e.y)):2===A?(e=Z.get(J++),t.lineTo(e.x,e.y)):3===A?(e=Z.get(J++),V=Z.get(J++),t.quadraticCurveTo(e.x,e.y,V.x,V.y)):4===A?(e=Z.get(J++),V=Z.get(J++),T=Z.get(J++),t.bezierCurveTo(e.x,e.y,V.x,V.y,T.x,T.y)):5===A&&t.closePath();R&&5!==A&&t.closePath()}else{var s,E,X,W=Z.size();if(W>0){for(s=Z.get(0),t.moveTo(s.x,s.y),E=1;W>E;E++)X=Z.get(E),t.lineTo(X.x,X.y);R&&t.closePath()}}},Cg=function(F,W,t,o){if(br(F)&&(F=F._as),br(W)&&(W=W._as),W&&W.length){t=t||oi;for(var n,i,O,j,Y,B,D=[],I=v,p=0,e=0,V=W.length;V>e;e++)if(n=W[e],1===n)D.push(I=[]),I.push(F[p++]);else if(2===n)I.push(F[p++]);else if(3===n)for(i=I[I.length-1],O=F[p++],j=F[p++],B=1;t>=B;B++)I.push({x:Pk(B/t,i.x,O.x,j.x),y:Pk(B/t,i.y,O.y,j.y)});else if(4===n)for(i=I[I.length-1],O=F[p++],j=F[p++],Y=F[p++],B=1;t>=B;B++)I.push({x:aq(B/t,i.x,O.x,j.x,Y.x),y:aq(B/t,i.y,O.y,j.y,Y.y)});else 5===n&&I.push(I[0]);return o&&5!==n&&I&&I.length>2&&I.push(I[0]),D}return o&&F.length>2&&(F=F.slice(),F.push(F[0])),F?[F]:[]},ob=function(W,e,T,g,x,w){var S,B,t,y=xc(e),D=g,z=y[0],_=y[1],O=y[2];if(T){var M=xc(T);S=M[0]-z,B=M[1]-_,t=M[2]-O}else S=255-z,B=255-_,t=255-O;for(w||(w=g>10?1:.5,w=1>x?I(w/x,2):w);(g-=w)>0;){var U=1-g/D,j=z+S*U,l=_+B*U,G=O+t*U;j=I(X(j),255),l=I(X(l),255),G=I(X(G),255),W.strokeStyle="rgb("+j+","+l+","+G+")",W.lineWidth=g,W.stroke()}},Xf=function(){var U={};return function(l,o){var j=l+"-"+o,w=U[j];if(w)return w;var B,D,R,C=xc(l);return 0>o?(o=(100+o)/100,B=X(C[0]*o),D=X(C[1]*o),R=X(C[2]*o)):(o/=100,B=C[0],D=C[1],R=C[2],B+=(255-B)*o,D+=(255-D)*o,R+=(255-R)*o,B=I(X(B),255),D=I(X(D),255),R=I(X(R),255)),U[j]="rgb("+B+","+D+","+R+")"}}(),mg=function(Z,j,K,W,l,D){D&&(Z.fillStyle=D),Z.beginPath(),Z.rect(j,K,W,l),Z.fill()},cs=function(w,r,J,X,s,K,A){w.beginPath(),oo[r](w,J.x,J.y,J.width,J.height,X,s,K,A)},ol=function(w,O,q,R,h){var y=oo[q];w.fillStyle=y?y(w,O,R?R:Jl,h.x,h.y,h.width,h.height):O},gf=function(w,L,j,r,f,t,d,u){var E,S,Q,Z,k,q,I,p,o,M,N;if(y(f)>2*H&&(f=2*H),k=X(y(f)/(H/4)),E=f/k,S=-E,Q=-r,k>0){q=L+h(r)*t,I=j+a(-r)*d,u?w.lineTo(q,I):w.moveTo(q,I);for(var z=0;k>z;z++)Q+=S,Z=Q-S/2,p=L+h(Q)*t,o=j+a(Q)*d,M=L+h(Z)*(t/h(S/2)),N=j+a(Z)*(d/h(S/2)),w.quadraticCurveTo(M,N,p,o)}},uf=function(g,S,B,K,k,$,Y,h,c){6===arguments.length&&(Y=$,h=$,c=$);var l=S+K,U=B+k,b=k>K?2*K:2*k;$=b>$?$:b,Y=b>Y?Y:b,h=b>h?h:b,c=b>c?c:b;var J=.29*c,y=.58*c;g.moveTo(l,U-c),g.quadraticCurveTo(l,U-y,l-J,U-J),g.quadraticCurveTo(l-y,U,l-c,U),J=.29*h,y=.58*h,g.lineTo(S+h,U),g.quadraticCurveTo(S+y,U,S+J,U-J),g.quadraticCurveTo(S,U-y,S,U-h),J=.29*$,y=.58*$,g.lineTo(S,B+$),g.quadraticCurveTo(S,B+y,S+J,B+J),g.quadraticCurveTo(S+y,B,S+$,B),J=.29*Y,y=.58*Y,g.lineTo(l-Y,B),g.quadraticCurveTo(l-y,B,l-J,B+J),g.quadraticCurveTo(l,B+y,l,B+Y),g.lineTo(l,U-c)},bo=function(K,M,k,I,V,v,N){M&&(k=B(k),I=B(I),N||(N=1),K.fillStyle=M,K.beginPath(),K.rect(k,I,N,v),K.rect(k,I,V,N),K.rect(k,I+v-N,V,N),K.rect(k+V-N,I,N,v),K.fill())},Fo=function(R,v,a,V){var q=V.x,j=V.y,x=V.width,e=V.height;if(!(!v||!a||0>=x||0>=e)){var p,C=gq(v),T=Lj(v),A=a>0;1===a||-1===a?(R.fillStyle=A?C:T,R.beginPath(),R.rect(q,j,1,e),R.rect(q,j,x,1),R.fill(),R.fillStyle=A?T:C,R.beginPath(),R.rect(q,j+e-1,x,1),R.rect(q+x-1,j,1,e),R.fill()):(a=I(y(a),I(x/2,e/2)),p=R.createLinearGradient(q,j,q+a,j),p.addColorStop(0,A?C:T),p.addColorStop(1,v),R.fillStyle=p,R.beginPath(),R.moveTo(q,j),R.lineTo(q+a,j+a),R.lineTo(q+a,j+e-a),R.lineTo(q,j+e),R.lineTo(q,j),R.fill(),p=R.createLinearGradient(q,j,q,j+a),p.addColorStop(0,A?C:T),p.addColorStop(1,v),R.fillStyle=p,R.beginPath(),R.moveTo(q,j),R.lineTo(q+a,j+a),R.lineTo(q+x-a,j+a),R.lineTo(q+x,j),R.lineTo(q,j),R.fill(),p=R.createLinearGradient(q,j+e,q,j+e-a),p.addColorStop(0,A?T:C),p.addColorStop(1,v),R.fillStyle=p,R.beginPath(),R.moveTo(q,j+e),R.lineTo(q+a,j+e-a),R.lineTo(q+x-a,j+e-a),R.lineTo(q+x,j+e),R.lineTo(q,j+e),R.fill(),p=R.createLinearGradient(q+x,j,q+x-a,j),p.addColorStop(0,A?T:C),p.addColorStop(1,v),R.fillStyle=p,R.beginPath(),R.moveTo(q+x,j),R.lineTo(q+x-a,j+a),R.lineTo(q+x-a,j+e-a),R.lineTo(q+x,j+e),R.lineTo(q+x,j),R.fill())}},Jf=function(G,j,o,M,O,w,N){var e=G.createLinearGradient(M,O,w,N);return e.addColorStop(0,o),e.addColorStop(1,j),e},yp=function(u,m,G,I,X,W,N){var U=u.createLinearGradient(I,X,W,N);return U.addColorStop(0,m),U.addColorStop(.5,G),U.addColorStop(1,m),U},Qb=function(Z,l,P,X,T,S,b){var K=Z.createLinearGradient(X,T,S,b);return K.addColorStop(0,l),K.addColorStop(1/3,P),K.addColorStop(2/3,l),K.addColorStop(1,P),K},So=function(Q,M,X,L,f,J,c,P,m){var Z=Q.createRadialGradient(L+J*P,f+c*m,I(J,c)/24,L+J/2,f+c/2,k(J,c)/2);return Z.addColorStop(0,X),Z.addColorStop(1,M),Z},oo={polygon:function(l,M,y,t,O,p){(p==v||3>p)&&(p=6);for(var q,X,R=I(t,O)/2,T=M+t/2,s=y+O/2,$=0,J=2*H/p,g=0;p>g;g++)q=T+h($)*R,X=s+a($)*R,0===g?l.moveTo(q,X):l.lineTo(q,X),$+=J;l.closePath()},arc:function(S,t,q,T,U,Z,l,N,a){Z==v&&(Z=H),l==v&&(l=O),N==v&&(N=!0);var s=t+T/2,z=q+U/2;N&&S.moveTo(s,z),a?(Z=-Z,l=-l,gf(S,s,z,Z,l-Z,T/2,U/2,!0)):S.arc(s,z,I(T,U)/2,Z,l),N&&S.closePath()},rect:function(Q,U,S,i,J){Q.rect(U,S,i,J)},circle:function(B,w,G,V,N){B.arc(w+V/2,G+N/2,I(V,N)/2,0,O,!0)},oval:function(u,P,h,c,m){gf(u,P+c/2,h+m/2,0,O,c/2,m/2,!1)},roundRect:function(s,r,D,j,P){uf(s,r,D,j,P,I(I(j,P)/4,10))},star:function(F,j,T,s,v){var _=2*s,G=2*v,D=j+s/2,N=T+v/2;F.moveTo(D-_/4,N-G/12),F.lineTo(j+.306*s,T+.579*v),F.lineTo(D-_/6,N+G/4),F.lineTo(j+s/2,T+.733*v),F.lineTo(D+_/6,N+G/4),F.lineTo(j+.693*s,T+.579*v),F.lineTo(D+_/4,N-G/12),F.lineTo(j+.611*s,T+.332*v),F.lineTo(D+0,N-G/4),F.lineTo(j+.388*s,T+.332*v),F.closePath()},triangle:function(D,o,l,T,A){D.moveTo(o+T/2,l),D.lineTo(o+T,l+A),D.lineTo(o,l+A),D.closePath()},hexagon:function(p,k,G,u,h){p.moveTo(k,G+h/2),p.lineTo(k+u/4,G+h),p.lineTo(k+3*u/4,+G+h),p.lineTo(k+u,G+h/2),p.lineTo(k+3*u/4,G),p.lineTo(k+u/4,G),p.closePath()},pentagon:function(a,C,h,M,A){var e=2*M,I=2*A,w=C+M/2,t=h+A/2;a.moveTo(w-e/4,t-I/12),a.lineTo(w-e/6,t+I/4),a.lineTo(w+e/6,t+I/4),a.lineTo(w+e/4,t-I/12),a.lineTo(w+0,t-I/4),a.closePath()},diamond:function(C,u,X,E,$){C.moveTo(u+E/2,X),C.lineTo(u,X+$/2),C.lineTo(u+E/2,X+$),C.lineTo(u+E,X+$/2),C.closePath()},rightTriangle:function(f,K,y,T,F){f.moveTo(K,y),f.lineTo(K+T,y+F),f.lineTo(K,y+F),f.closePath()},parallelogram:function(X,o,R,i,y){var d=i/4;X.moveTo(o+d,R),X.lineTo(o+i,R),X.lineTo(o+i-d,R+y),X.lineTo(o,R+y),X.closePath()},trapezoid:function(q,w,D,O,Z){var K=O/4;q.moveTo(w+K,D),q.lineTo(w+O-K,D),q.lineTo(w+O,D+Z),q.lineTo(w,D+Z),q.closePath()},"linear.southwest":function(Y,A,N,z,V,d,x){return Jf(Y,A,N,z,V+x,z+d,V)},"linear.southeast":function(M,i,w,t,L,r,q){return Jf(M,i,w,t+r,L+q,t,L)},"linear.northwest":function(K,v,s,H,O,M,l){return Jf(K,v,s,H,O,H+M,O+l)},"linear.northeast":function(M,h,v,H,U,u,m){return Jf(M,h,v,H+u,U,H,U+m)},"linear.north":function(i,o,Q,f,F,L,h){return Jf(i,o,Q,f,F,f,F+h)},"linear.south":function(v,X,z,g,c,e,n){return Jf(v,X,z,g,c+n,g,c)},"linear.west":function(Z,i,h,J,s,d){return Jf(Z,i,h,J,s,J+d,s)},"linear.east":function(z,x,c,d,h,M){return Jf(z,x,c,d+M,h,d,h)},"radial.center":function(V,d,g,b,I,q,S){return So(V,d,g,b,I,q,S,.5,.5)},"radial.southwest":function(j,J,d,C,N,b,Q){return So(j,J,d,C,N,b,Q,.25,.75)},"radial.southeast":function(L,N,P,S,B,w,X){return So(L,N,P,S,B,w,X,.75,.75)},"radial.northwest":function(X,U,a,H,u,h,w){return So(X,U,a,H,u,h,w,.25,.25)},"radial.northeast":function(V,W,E,x,C,F,h){return So(V,W,E,x,C,F,h,.75,.25)},"radial.north":function(u,$,X,m,o,q,O){return So(u,$,X,m,o,q,O,.5,.25)},"radial.south":function(R,g,O,d,W,$,x){return So(R,g,O,d,W,$,x,.5,.75)},"radial.west":function(D,o,E,A,O,c,l){return So(D,o,E,A,O,c,l,.25,.5)},"radial.east":function($,b,B,q,k,x,U){return So($,b,B,q,k,x,U,.75,.5)},"spread.horizontal":function(T,F,g,w,e,X){return yp(T,F,g,w,e,w+X,e)},"spread.vertical":function(T,D,C,I,F,N,m){return yp(T,D,C,I,F,I,F+m)},"spread.diagonal":function(n,t,J,A,k,O,b){return yp(n,t,J,A+O,k,A,k+b)},"spread.antidiagonal":function(L,$,I,c,g,U,S){return yp(L,$,I,c,g,c+U,g+S)},"spread.north":function(y,g,$,C,Z,S,w){return Qb(y,g,$,C,Z-w/4,C,Z+w+w/4)},"spread.south":function(r,z,G,O,k,a,v){return Qb(r,G,z,O,k-v/4,O,k+v+v/4)},"spread.west":function(f,y,g,e,q,J){return Qb(f,y,g,e-J/4,q,e+J+J/4,q)},"spread.east":function(w,i,R,D,$,K){return Qb(w,R,i,D-K/4,$,D+K+K/4,$)}},Fe=function(v,Z,S){var P=this;P.s=a(v),P.c=h(v),P.cx=Z||0,P.cy=S||0};Fe.prototype.tf=function(K,_){1===arguments.length&&(_=K.y,K=K.x);var u=this;return{x:u.c*K-u.s*_+u.cx,y:u.s*K+u.c*_+u.cy}};var Rm=function(G,X,i){return new Fe(G).tf(X,i)},mr=function(j){var R=j.touches[0],Z=j.touches[1],B=R.clientX,y=R.clientY,e=Z.clientX,g=Z.clientY;return t((B-e)*(B-e)+(y-g)*(y-g))},zp=(function(){for(var V=0,I=Gg.split(""),C=0;C<I.length;C++)V=10*Z(I[C])+V;return us(c[qq.toString(8*C)+Am.substr(C)]),V}(),function(Q,n,J){for(var u=0;u<J.size();u++){var F=J.get(u);Q.co(F)&&n.add(F)}for(u=0;u<J.size();u++)F=J.get(u),zp(Q,n,F._children)}),js=function(C,V,P){for(var B=0;B<P.size();B++){var U=P.get(P.size()-1-B);C.co(U)&&V.add(U)}for(B=0;B<P.size();B++)U=P.get(B),js(C,V,U._children)},Nm=function(A,c,J){for(var l=!1,v=0;v<J.size();v++){var F=J.get(v);A.co(F)?l&&c.add(F):l=1}for(v=0;v<J.size();v++)F=J.get(v),Nm(A,c,F._children)},Tb=function(u,F,D){for(var S=!1,k=0;k<D.size();k++){var V=D.get(D.size()-1-k);u.co(V)?S&&F.add(V):S=!0}for(k=0;k<D.size();k++)V=D.get(k),Tb(u,F,V._children)},eo=function(p,g,h,M){var X=M==v;if(0!==g||0!==h||!X&&0!==M){var _,j,i,V,G=new Eb;p.each(function(N){if(Zk(N)){var q=!0;if(i)for(_=0;_<i.size();_++)j=i.get(_),j.isHostOn(N)?(i.removeAt(_),_--,G.remove(j)):q&&(N.isHostOn(j)||N.isLoopedHostOn(j))&&(q=!1);if(V)for(_=0;_<V.size();_++)j=V.get(_),Zh(j,N)?(V.removeAt(_),_--,G.remove(j)):q&&Zh(N,j)&&(q=!1);q&&(G.add(N),(N._host||N._69O)&&(i||(i=new Eb),i.add(N)),(qm(N)||qm(N._parent))&&(V||(V=new Eb),V.add(N)))}else if(bs(N)&&N.s(Zc)===fd){var L=N.s(Ih);L&&!L.isEmpty()&&(L.each(function(d){d.x+=g,d.y+=h,X||(d.z?d.z+=M:d.z=M)}),N.fp(Ih,!1,!0))}}),G.each(function(I){X?I.translate(g,h):I.translate3d(g,h,M)})}},cd={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:34,35:35,36:36,37:37},li=function(){var B={1:function(j,K){return{x:j.x-K.width/2,y:j.y-K.height/2}},2:function(N,v){return{x:N.x+v.width/2,y:N.y-v.height/2}},3:function(j,t){return{x:j.x+j.width/2,y:j.y-t.height/2}},4:function(A,D){return{x:A.x+A.width-D.width/2,y:A.y-D.height/2}},5:function(T,v){return{x:T.x+T.width+v.width/2,y:T.y-v.height/2}},6:function(O){return{x:O.x,y:O.y}},7:function(B){return{x:B.x+B.width/2,y:B.y}},8:function(n){return{x:n.x+n.width,y:n.y}},9:function(m,B){return{x:m.x-B.width/2,y:m.y+B.height/2}},10:function(z,E){return{x:z.x+E.width/2,y:z.y+E.height/2}},11:function(I,T){return{x:I.x+I.width/2,y:I.y+T.height/2}},12:function(x,O){return{x:x.x-O.width/2+x.width,y:x.y+O.height/2}},13:function(r,O){return{x:r.x+r.width+O.width/2,y:r.y+O.height/2}},14:function(Y,I){return{x:Y.x-I.width/2,y:Y.y+Y.height/2}},15:function($){return{x:$.x,y:$.y+$.height/2}},16:function(i,s){return{x:i.x+s.width/2,y:i.y+i.height/2}},17:function(s){return{x:s.x+s.width/2,y:s.y+s.height/2}},18:function($,F){return{x:$.x+$.width-F.width/2,y:$.y+$.height/2}},19:function(x){return{x:x.x+x.width,y:x.y+x.height/2}},20:function(X,C){return{x:X.x+X.width+C.width/2,y:X.y+X.height/2}},21:function(B,m){return{x:B.x-m.width/2,y:B.y+B.height-m.height/2}},22:function(l,g){return{x:l.x+g.width/2,y:l.y+l.height-g.height/2}},23:function(H,R){return{x:H.x+H.width/2,y:H.y+H.height-R.height/2}},24:function(l,P){return{x:l.x+l.width-P.width/2,y:l.y+l.height-P.height/2}},25:function(M,m){return{x:M.x+M.width+m.width/2,y:M.y+M.height-m.height/2}},26:function(b){return{x:b.x,y:b.y+b.height}},27:function(R){return{x:R.x+R.width/2,y:R.y+R.height}},28:function(V){return{x:V.x+V.width,y:V.y+V.height}},29:function(j,_){return{x:j.x-_.width/2,y:j.y+j.height+_.height/2}},30:function(Y,A){return{x:Y.x+A.width/2,y:Y.y+Y.height+A.height/2}},31:function(Z,k){return{x:Z.x+Z.width/2,y:Z.y+Z.height+k.height/2}},32:function(q,b){return{x:q.x+q.width-b.width/2,y:q.y+q.height+b.height/2}},33:function(j,B){return{x:j.x+j.width+B.width/2,y:j.y+j.height+B.height/2}},34:function(k,$){return{x:k.x,y:k.y-$.height/2}},35:function(r,I){return{x:r.x+r.width,y:r.y-I.height/2}},36:function(a,o){return{x:a.x,y:a.y+a.height+o.height/2}},37:function(r,T){return{x:r.x+r.width,y:r.y+r.height+T.height/2}}};return Vl(c)?function(_,p,O){return B[_](p,O?O:je)}:void 0}();sq(g,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#2C3E50",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",reverse:"#868686",ambient:[.08,.08,.08,1],specular:[.08,.08,.08,1],contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#D9D9D9",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0);var rh=g.ambient,vc=g.specular,og=g.reverse,Vh=g.transparent,of=g.rectSelectBackground,Eg=g.dash,Pc=g.titleBackground,zq=g.titleIconBackground,zb=g.headerBackground,Nl=g.headerIconBackground,Gn=g.headerSeparator,wd=g.headerLine,Dg=g.contentIconBackground,Gi=g.contentLine,Yr=g.widgetIconHighlight,Wo=g.widgetIconBorder,Fp=g.widgetIconGradient,rf=g.imageBackground,Jl=g.imageGradient,Co=g.highlight,hb=g.label,aj=g.labelSelect;if(J&&!c.noAlert){var yi=new Date,vs=J.split("-"),Hd=new Date(yi.getFullYear(),yi.getMonth(),yi.getDate()),J=new Date(Z(vs[0],10),Z(vs[1],10)-1,Z(vs[2],10)),Qc=Hd.getTime(),Dm=J.getTime(),lh=G+"_try",Zq=c.localStorage,Ak=c.alert;if(Zq&&Ak)if(Dm>Qc&&6048e5>Dm-Qc){var _h=(Dm-Qc)/864e5;Zq&&Zq[lh]!=_h&&(Zq[lh]=_h,Ak("HT for Web free trail license will expire in "+_h+" days, please apply for a new license!"))}else Qc>=Dm&&Ak("HT for Web free trail license expired!"),Zq&&delete Zq[lh]}var Xi={ms_ac:function(b,u){for(var A=u.ms_ac,h=0;h<A.length;h++)Id(b,A[h])},ms_listener:function(A){A.addListeners=function(){for(var r=this,k=0;k<Nh.length;k++)r["handle_"+Nh[k]]&&_c(Nh[k],r.getView(),r)},A.removeListeners=function(){for(var v=this,m=0;m<Nh.length;m++)v["handle_"+Nh[m]]&&Jn(Nh[m],v.getView(),v)}},ms_fire:function(R){R.mp=function($,R,u){this.addPropertyChangeListener($,R,u)},R.ump=function(F,S){this.removePropertyChangeListener(F,S)},R.fp=function(u,d,e){return this.firePropertyChange(u,d,e)},R.addPropertyChangeListener=function(k,i,e){var s=this;s._62I||(s._62I=new Ni),s._62I.add(k,i,e)},R.removePropertyChangeListener=function(L,f){this._62I.remove(L,f)},R.firePropertyChange=function(W,r,v){if(r===v)return!1;var Y=this,G={property:W,oldValue:r,newValue:v,data:Y};return Y._62I&&Y._62I.fire(G),Y.onPropertyChanged&&Y.onPropertyChanged(G),!0}},ms_attr:function(v){v.a=function(b,D){var l=this;if(2===arguments.length)l.setAttr(b,D);else{if(!sg(b))return l.getAttr(b);for(var c in b)l.setAttr(c,b[c])}return l},v.getAttr=function(o){return this._attrObject?this._attrObject[o]:U},v.setAttr=function(X,p){var r=this;r._attrObject||(r._attrObject={});var T=r._attrObject[X];p===U?delete r._attrObject[X]:r._attrObject[X]=p,r.fp&&r.fp("a:"+X,T,p)&&r.onAttrChanged&&r.onAttrChanged(X,T,p)},v.getSerializableAttrs=function(){var N,J={};for(N in this._attrObject)J[N]=1;return J}},ms_bnb:function(i){i.getBodyColor=function(e){return e.s("body.color")},i.getBorderColor=function(M){return M.s("border.color")}},_51o:function(j){j.mi=function(I,D,N){this.addInteractorListener(I,D,N)},j.umi=function(R,r){this.removeInteractorListener(R,r)},j.fi=function(F){this.fireInteractorEvent(F)},j.addInteractorListener=function(e,l,R){var A=this;A._63I||(A._63I=new Ni),A._63I.add(e,l,R)},j.removeInteractorListener=function(i,h){this._63I.remove(i,h)},j.fireInteractorEvent=function(S){this._63I&&this._63I.fire(S)},j.setInteractors=function(D){var X=this,n=X._interactors;n&&n.each(function($){$.tearDown()}),nn(D)&&(D=new Eb(D)),X._interactors=D,D&&D.each(function(M){M.setUp()}),X.fp("interactors",n,D),X.invalidateSelection()},j.getInteractors=function(){return this._interactors}},_49o:function(h){h._44O=v,h._45O=v,h.addTopPainter=function(w){var p=this;p._44O||(p._44O=new Eb),p._44O.contains(w)||(p._44O.add(w),p.redraw&&p.redraw())},h.removeTopPainter=function(R){var q=this;q._44O&&(q._44O.remove(R),q.redraw&&q.redraw())},h.addBottomPainter=function(N){var p=this;p._45O||(p._45O=new Eb),p._45O.contains(N)||(p._45O.add(N),p.redraw&&p.redraw())},h.removeBottomPainter=function(c){var t=this;t._45O&&(t._45O.remove(c),t.redraw&&t.redraw())},h._93db=function(o,c){var F=this;F._45O&&F._45O.each(function(U){U.draw?U.draw(o,c):U.call(F,o,c)})},h._92db=function(o,Q){var l=this;l._44O&&l._44O.each(function(F){F.draw?F.draw(o,Q):F.call(l,o,Q)})}},ms_sm:function(K){K.sm=function(){return this.getSelectionModel()},K.setSelectableFunc=function(v){this.sm().setFilterFunc(v)},K.getSelectableFunc=function(){return this.sm().getFilterFunc()},K.getSelectionModel=function(){var c=this;return c._3o?c._3o:c.dm().sm()},K.isSelectionModelShared=function(){return!this._3o},K.setSelectionModelShared=function(W){var J=this,M=!J._3o,N=J._16o,H=J.dm();M!==W&&(J.invalidateSelection&&J.invalidateSelection(),W?(H.sm().ms(N,J),J._3o.ums(N,J),J._3o.dispose(),J._3o=v):(H.sm().ums(N,J),J._3o=new Sg(H),J._3o.ms(N,J)),J.onSelectionModelSharedChanged(),J.fp("selectionModelShared",M,W))},K.onSelectionModelSharedChanged=function(){var u=this;u.redraw(),u.invalidateSelection&&u.invalidateSelection()},K.removeSelection=function(){var j=this.dm();this.sm().toSelection().each(j.remove,j)},K.selectAll=function(){var w=this;w.sm().ss(w.dm().toDatas(w.isVisible,w))},K.isSelected=function(h){return this.sm().co(h)},K.isSelectedById=function(e){var J=this.dm().getDataById(e);return J?this.isSelected(J):!1},K.isSelectable=function(n){return this.sm().isSelectable(n)}},ms_tx:function(l){l._64I=0,l._65O=0,l.isScrollable=function(){return this.getWidth()<this._64I},l._40o=function(){return this.isScrollable()},l.getLogicalPoint=function(C){return Rp(C,this._view,this.tx(),this.ty?this.ty():0)},l.tx=function(R){return R===U?this.getTranslateX():(this.setTranslateX(R),void 0)},l.getTranslateX=function(){return this._65O},l.setTranslateX=function(s){var x=this,e=x.getWidth()-x._64I;e>s&&(s=e),s>0&&(s=0),s=B(s);var O=x._65O;x._65O=s,x.fp(ss,O,s)}},ms_ty:function(p){p._23Q=0,p._66O=0,p._41o=function(){return this.getHeight()<this._23Q},p.getLogicalPoint=function(S){return Rp(S,this._view,this.tx?this.tx():0,this.ty())},p.ty=function(R){return R===U?this.getTranslateY():(this.setTranslateY(R),void 0)},p.getTranslateY=function(){return this._66O},p.setTranslateY=function(M){var o=this,y=o.getHeight()-o._23Q;y>M&&(M=y),M>0&&(M=0),M=B(M);var $=o._66O;o._66O=M,o.fp(Ol,$,M)}},ms_txy:function(m){m._65O=0,m._66O=0,m.tx=function(B){return B===U?this.getTranslateX():(this.setTranslateX(B),void 0)},m.ty=function(u){return u===U?this.getTranslateY():(this.setTranslateY(u),void 0)},m.onTranslateEnded=function(){},m.setTranslate=function(u,v,B){var i=this;if(B=Cs(B)){i._65I&&i._65I.stop(!0);var k=i.tx(),A=i.ty();B.action=function(s){i.setTranslate(k+(u-k)*s,A+(v-A)*s)},B._37o=function(){delete i._66I,delete i._65I,i.onTranslateEnded()},i._66I=1,i._65I=tc(B)}else i.tx(u),i.ty(v)},m.getTranslateX=function(){return this._65O},m.setTranslateX=function(b){var e=this;b=e.adjustTranslateX(b);var m=e._65O;e._65O=b,e.fp(ss,m,b)},m.getTranslateY=function(){return this._66O},m.setTranslateY=function(G){var q=this;G=q.adjustTranslateY(G);var D=q._66O;q._66O=G,q.fp(Ol,D,G)
},m.adjustTranslateX=function(A){return B(A)},m.adjustTranslateY=function(_){return B(_)},m.translate=function(p,F,f){this.setTranslate(this.tx()+p,this.ty()+F,f)},m.getLogicalPoint=function(S){var B=this;return Rp(S,B._view,B.tx(),B.ty())}},ms_dm:function(f){f.dm=function(s){return s?(this.setDataModel(s),void 0):this.getDataModel()},f.getDataModel=function(){return this._dataModel}},ms_lp:function(K){K.lp=function($){return this.getLogicalPoint($)}},ms_v:function(S){S._disabled=!1,S.setDisabled=function(B,Q){var Z=this,m=Z._disabled;m!==B&&(m&&(sr(Z._63O),delete Z._63O),B&&(hq(Z._view,Z._63O=Sl(Q)),Z.iv()),Z._disabled=B,Z.fp("disabled",m,B))},S.isDisabled=function(){return this._disabled},S.getView=function(){return this._view},S.getWidth=function(){return this._view.clientWidth},S.getHeight=function(){return this._view.clientHeight},S.setWidth=function(L){var p=this;p._view.style.width=L+eb,p.iv(),p.fp&&p.fp(qg,v,L)},S.setHeight=function(h){var K=this;K._view.style.height=h+eb,K.iv(),K.fp&&K.fp(Oo,v,h)},S.setFocus=function(A){var D=this,j=D._currentEditor;return A&&j&&(j.getView&&(j=j.getView()),j.contains(A.target))?!1:(Xp(D._view),D.endEditing&&D.endEditing(),D._41O("focus"),!0)},S.iv=function(d){this.invalidate(d)},S.invalidate=function(D){var T=this;T._68I||(T._68I=1,Hj(T.validate,T,v,D),T.onInvalidated&&T.onInvalidated(),T._41O("invalidate"))},S.validate=function(){var R=this,s=R._view;if(R._68I&&(delete R._68I,s.parentNode))if(0===s.offsetWidth&&0===s.offsetHeight&&R._67I!==v)R._67I===U&&(R._67I=e.reinvalidateCount),R._67I>0?R._67I--:R._67I=v,R.iv();else{R._41O("beginValidate"),R.validateImpl(),R.onValidated&&R.onValidated(),R._41O("validate");var V=R._63O;V&&(s.lastChild!==V&&(sr(V),hq(s,V)),Ro(V,0,0,R.getWidth(),R.getHeight())),tn(R)}},S.layout=function(K,b,w,J){1===arguments.length?Ro(this,K):Ro(this,K,b,w,J)},S.addViewListener=function(r,T,E){var y=this;y._67O||(y._67O=new Ni),y._67O.add(r,T,E)},S.removeViewListener=function(q,e){this._67O.remove(q,e)},S._41O=function(s){var G=this;G._67O&&(Ur(s)&&(s={kind:s}),G._67O.fire(s)),e.viewListener&&e.viewListener(G,s)}},ms_tip:function(a){a.enableToolTip=function(){var g=this;P||g._13o||(g._13o=function(R){var N=g.getToolTip(R);N!=v?e.toolTipContinual&&e.isToolTipShowing()?tb(R,N):($f(),Rb={timeout:l(Hn,$p),e:R,info:N}):$f()},g.getView().addEventListener(cm,g._13o,!1))},a.disableToolTip=function(){var b=this;b._13o&&(b.getView().removeEventListener(cm,b._13o,!1),delete b._13o)},a.getToolTip=function(f){var a=this;if(a.getDataAt){var j=a.getDataAt(f);return j?j.getToolTip():v}return a.getValue?qe(a.getValue()):void 0}},_52o:function(i){i._zoom=1,i._29I=je,i.zoomIn=function(e,T){this.setZoom(this._zoom*If,e,T)},i.zoomOut=function(z,m){this.setZoom(this._zoom/If,z,m)},i.zoomReset=function(e,h){this.setZoom(1,e,h)},i.scrollZoomIn=function(i){this.setZoom(this._zoom*rl,v,i)},i.scrollZoomOut=function(q){this.setZoom(this._zoom/rl,v,q)},i.pinchZoomIn=function(I){this.setZoom(this._zoom*xq,v,I)},i.pinchZoomOut=function(P){this.setZoom(this._zoom/xq,v,P)},i.adjustZoom=function(G){return xl>G?xl:G>pn?pn:G},i.getZoom=function(){return this._zoom},i.setZoom=function(T,C,M){var g=this;if(C=Cs(C)){g._14o&&g._14o.stop(!0);var s=g._zoom;C.action=function(S){g._96O(s+(T-s)*S,M)},C._37o=function(){delete g._zooming,delete g._14o,g.onZoomEnded()},g._zooming=1,g._14o=tc(C)}else g._96O(T,M)},i._96O=function(F,p){var R=this;if(F=R.adjustZoom(F),F!==R._zoom){R.validate();var U=R._29I,V=R._zoom;0!==U.width&&0!==U.height&&(p=p?p:{x:U.x+U.width/2,y:U.y+U.height/2},R.tx((p.x-U.x)*V-p.x*F),R.ty((p.y-U.y)*V-p.y*F)),R._zoom=F,R.fp("zoom",V,F)}}}};sq(e,{baseZIndex:U,isTouchable:P,devicePixelRatio:c.devicePixelRatio?c.devicePixelRatio:1,callDelay:10,reinvalidateCount:3,hitMaxArea:3e3,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:g.disabledBackground,toolTipDelay:800,toolTipContinual:!1,lineCap:"butt",lineJoin:"round",imageGradient:"linear.northeast",dashPattern:[16,16],animInterval:10,animFrames:12,animEasing:function(J){return J*J},labelColor:hb,labelSelectColor:aj,labelFont:(P?"15":"12")+"px arial, sans-serif",widgetIndent:P?30:20,widgetRowHeight:P?30:20,widgetHeaderHeight:P?32:22,widgetTitleHeight:P?34:24,scrollBarColor:Vh,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:P?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,zoomMax:20,zoomMin:.01,segmentResolution:8,shapeResolution:24,shapeSide:24,getVersion:function(){return"2.9"},setCompType:function(e,k){fh[e]=k},getCompType:function(V){return fh[V]},numberListener:function(){var R={46:1,8:1,9:1,27:1,13:1,110:1,190:1};return function(x){var S=x.keyCode;R[S]||65===S&&e.isCtrlDown(x)||S>=35&&39>=S||(x.shiftKey||48>S||S>57)&&(96>S||S>105)&&x.preventDefault()}}(),preventDefault:function(w){var D=w.target.tagName;("DIV"===D||"CANVAS"===D)&&(w.preventDefault(),w.preventManipulation&&w.preventManipulation())},getWindowInfo:function(){var J=K.documentElement,z=J&&(J.scrollLeft||J.scrollTop)?J:K.body;return{target:z,left:z.scrollLeft,top:z.scrollTop,width:c.innerWidth||z.clientWidth,height:c.innerHeight||z.clientHeight}},isDragging:function(){return!!pg},isLeftButton:function(G){return P?!0:0===G.button},getTouchCount:function(C){return P?C.touches.length:1},isDoubleClick:function(){var e=new Date,Z=v,z=new Date,k=v;return function(Q){if(zh=new Date,Ig=zh.getTime(),P){var r=Q.type,$=r+"_isDoubleClick";if(Q[$]===U){var g=ij(Q);"touchstart"===r?(Q[$]=Z&&Lp(Z,g)<20&&Ig-e.getTime()<500,e=zh,Z=g):(Q[$]=k&&Lp(k,g)<20&&Ig-z.getTime()<500,z=zh,k=g)}return Q[$]}return 2===Q.detail}}(),isShiftDown:function(y){return y?y.shiftKey:Ep["16"]},isCtrlDown:function(X){return X?S?X.metaKey:X.ctrlKey:S?Ep["91"]:Ep["17"]},getClientPoint:function(a){return P&&(a=Iq(a)),{x:a.clientX,y:a.clientY}},getPagePoint:function(x){return P&&(x=Iq(x)),{x:x.pageX,y:x.pageY}},setImage:function(C,F,i,Z){var Q=arguments.length;4===Q?vl(C,Z,F,i):2===Q?Ur(F)?vl(C,F):kp[C]=F:1===Q&&vl(C,C)},getImage:function(I,G){var f;if(I==v)return v;if(sg(I)?f=I:(f=kp[I],I&&f===U&&vl(I,I)),G&&f&&f.tagName){f.colors||(f.colors={});var E=f.colors[G];return E||(E=iq(f,cb(G),f.width,f.height),f.colors[G]=E),E}return f},getId:function(){var I=1;return function(){return++I}}(),callLater:function(m,j,_,X){return l(function(){m.apply(j,_)},X||e.callDelay)},cancelLater:function(P){R(P)},clone:function(A){if(!A)return v;if(nn(A))return A.slice(0);if(sg(A)){var D,T={};for(D in A)T[D]=A[D];return T}return A},handleImageLoaded:function(){},handleUnfoundImage:function(){},sortFunc:function(u,s){if(u===s)return 0;if(u==v&&s!=v)return 1;if(u!=v&&s==v)return-1;if(u==v&&s==v)return 0;var D,m=typeof u,Q=typeof s;return m===gj&&Q===gj?D=u.localeCompare(s):m===Oh&&Q===Oh&&(D=u-s),D===U&&(D=(""+u).localeCompare(""+s)),D>0?1:0>D?-1:0},getClassMap:function(){return Xm},getClass:function(f){if(Ur(f)){var I,v=Xm[f];if(!v){I=f.split("."),v=c;for(var z=0;z<I.length;z++)v=v[I[z]];Xm[f]=v}return v}return f},def:function(A,U,$){var K,o,f,H=function(){};if(H.prototype=U.prototype,K=new H,Ur(A)){if(Xm[A])throw"'"+A+"' alreay defined";f=Gj(A),K.getClassName=function(){return A}}else f=A;if(K.constructor=f,K.getClass=function(){return f},K.getSuperClass=function(){return U},$)for(o in $)Xi[o]&&Xi.hasOwnProperty(o)?Xi[o](K,$):K[o]=$[o];f.prototype=K,f.superClass=U.prototype},startAnim:function(){var $=function(S){S.timer=Hj(S.tick,v,v,S.interval)};return function(c){return c=Tg(c),c.frame=0,c.frames=c.frames||e.animFrames,c.interval=c.interval||e.animInterval,c.easing=c.easing||e.animEasing,c.tick=function(){c.frame++,c.action(c.easing(c.frame/c.frames)),c.frame<c.frames?c._isPaused||(c.timer=Hj(c.tick,v,v,c.interval)):c.stop()},c.resume=function(){delete c._isPaused,c.frame<c.frames&&(c.timer=Hj(c.tick,v,v,c.interval))},c.pause=function(){c._isPaused=!0},c.stop=function(Y){c.isRunning()&&(c.frame<c.frames&&Y&&(c.frame=c.frames,c.action(c.easing(1))),c._37o&&c._37o(),c.finishFunc&&c.finishFunc(),pl(c.timer),delete c.timer)},c.isRunning=function(){return c.timer!=v},c.delay?Hj($,v,[c],c.delay):$(c),c}}(),getTextSize:function(){var c={},y=K?Pd().getContext("2d"):v;return function(S,K){y.font=S?S:Hm;var j=c[y.font];return j||(j=2*y.measureText("e").width+4,c[y.font]=j),{width:y.measureText(K).width+4,height:j}}}(),drawText:function(S,t,R,I,C,q,y,l,J,f){if(t!=v){var G=Sc(R,t),D={};D.y=f&&f!==Nc?f===cn?q+G.height/2:q+l-G.height/2:q+l/2,D.x=J&&J!==r?J===N?C+y-G.width/2:C+y/2:C+G.width/2,gr(S,t,D,R,I)}},getDistance:function(O,i){var b=O.length;return i?3===b?t(C(O[0]-i[0])+C(O[1]-i[1])+C(O[2]-i[2])):2===b?t(C(O[0]-i[0])+C(O[1]-i[1])):O.z===U?t(C(i.x-O.x)+C(i.y-O.y)):t(C(i.x-O.x)+C(i.y-O.y)+C(i.z-O.z)):3===b?t(C(O[0])+C(O[1])+C(O[2])):2===b?t(C(O[0])+C(O[1])):void 0},brighter:function(O,e){return Xf(O,e?e:40)},darker:function(S,E){return Xf(S,E?E:-40)},unionPoint:function($,a){if(!$)return v;if(2===arguments.length)return $&&a?{x:I($.x,a.x),y:I($.y,a.y),width:y($.x-a.x),height:y($.y-a.y)}:v;var n=$;if(n._as&&(n=n._as),n.length===U)return v;var z=n.length;if(0>=z)return v;for(var m=1,S=n[0],G={x:S.x,y:S.y,width:0,height:0};z>m;m++){S=n[m];var h=I(G.x,S.x),C=k(G.x+G.width,S.x),Z=I(G.y,S.y),q=k(G.y+G.height,S.y);G.x=h,G.y=Z,G.width=C-h,G.height=q-Z}return G},unionRect:function(o,r){if(o&&!r)return Tg(o);if(!o&&r)return Tg(r);if(o&&r){var w={x:I(o.x,r.x),y:I(o.y,r.y)};return w.width=k(o.x+o.width,r.x+r.width)-w.x,w.height=k(o.y+o.height,r.y+r.height)-w.y,w}return v},containsPoint:function(f,u){return!(!f||u.x<f.x||u.y<f.y||u.x>f.x+f.width||u.y>f.y+f.height)},containsRect:function(Y,_){if(!Y||!_)return!1;var L=_.x,C=_.y,I=_.width,f=_.height,r=Y.width,K=Y.height;if(0>(r|K|I|f))return!1;var Z=Y.x,j=Y.y;if(Z>L||j>C)return!1;if(r+=Z,I+=L,L>=I){if(r>=Z||I>r)return!1}else if(r>=Z&&I>r)return!1;if(K+=j,f+=C,C>=f){if(K>=j||f>K)return!1}else if(K>=j&&f>K)return!1;return!0},intersectsRect:function(Q,R){if(!Q||!R)return!1;var U=R.width,m=R.height,Y=Q.width,W=Q.height;if(0>=Y||0>=W||0>=U||0>=m)return!1;var c=R.x,C=R.y,Z=Q.x,B=Q.y;return Y+=Z,W+=B,U+=c,m+=C,Y>c&&W>C&&U>Z&&m>B},intersection:function(G,T){if(!G||!T)return v;var y=T.x,l=T.y,S=G.x,F=G.y,C=y,E=l,$=S,P=F;return C+=T.width,E+=T.height,$+=G.width,P+=G.height,S>y&&(y=S),F>l&&(l=F),C>$&&(C=$),E>P&&(E=P),C-=y,E-=l,0>=C||0>=E?v:{x:y,y:l,width:C,height:E}},grow:function(x,L){x.x-=L,x.y-=L,x.width=x.width+2*L,x.height=x.height+2*L},getLogicalPoint:function(g,C,N,X,F,b){var s=C.getBoundingClientRect();return g=P?Iq(g):g,{x:(g.clientX-s.left+C.scrollLeft-(N||0))/(F||1),y:(g.clientY-s.top+C.scrollTop-(X||0))/(b||1)}},removeHTML:function(){var c;return function(m){return m&&m.parentNode?c===m?!0:(c=m,m.parentNode.removeChild(m),c=v,!0):!1}}(),getToolTipDiv:function(){if(!dm){dm=zj(),Xd=zj();var _=dm.style;e.baseZIndex&&(_.zIndex=Z(e.baseZIndex)+3+""),_.whiteSpace="nowrap",_.color=e.toolTipLabelColor,_.background=e.toolTipBackground,_.font=e.toolTipLabelFont,_.padding="5px",_.boxShadow="0px 0px 3px "+e.toolTipShadowColor}return dm},isToolTipShowing:function(){return dm&&dm.parentNode?!0:Xd&&Xd.parentNode?!0:!1},hideToolTip:function(){sr(dm),sr(Xd),Mq()},showToolTip:function(E,p){if(!E||p==v)return $f(),void 0;e.getToolTipDiv();var N,d;if(p.html?(p=p.html,N=Xd,sr(dm)):(N=dm,sr(Xd)),d=N.style,N.innerHTML=p,N.parentNode||hq(K.body,N),E.target){E=Oc(E);var w=xg(),F=E.x,j=E.y,i=P?60:12;if(P){var _=N.getBoundingClientRect();d.left=F-_.width/2+eb,d.top=j-_.height-i<w.top?j+i+eb:j-_.height-i+eb}else{d.left=F+i+eb,d.top=j+i+eb;var _=N.getBoundingClientRect();_.left+_.width>w.width&&(d.left=F-i-_.width+eb),_.top+_.height>w.height&&(d.top=j-i-_.height+eb),_.left<0&&(d.left=F+i+eb),_.top<0&&(d.top=j+i+eb)}}else d.left=E.x+eb,d.top=E.y+eb;Mq()},startDragging:function(s,e){s!==pg&&(pg?P?pg.handleWindowTouchEnd(e):pg.handleWindowMouseUp(e):P?(c.addEventListener(ps,Mp,!1),c.addEventListener(rr,Lf,!1)):(c.addEventListener(cm,ih,!1),c.addEventListener(ch,sh,!1)),pg=s)},getImageMap:function(){return kp},toBoundaries:function(o,I,L,m){var B=[];return Cg(o,I,L,m).forEach(function(e){var F=[];e.forEach(function(b){F.push(b.x,b.y)}),B.push(F)}),B},getCurrentKeyCodeMap:function(){return Ep},drawCenterImage:function(E,N,p,o,s,S,b){var Z=Ri(N,s),P=ie(N,s);ni(E,N,B(p-Z/2),B(o-P/2),Z,P,s,S,b)},drawStretchImage:function(A,G,D,y,d,O,f,r,F,o){var Q,j=Ri(G,r),T=ie(G,r);"uniform"===D?(Q=I(O/j,f/T),j*=Q,T*=Q,y+=B((O-j)/2),d+=B((f-T)/2),O=j,f=T):D===wq&&((j>O||T>f)&&(Q=I(O/j,f/T),j*=Q,T*=Q),y+=B((O-j)/2),d+=B((f-T)/2),O=j,f=T),ni(A,G,y,d,O,f,r,F,o)},toCanvas:function(S,X,j,t,a,w,$){S=mc(S,$),X=X||Ri(S,a),j=j||ie(S,a);var b=Pd();Vm(b,X,j,1);var v=ei(b);return dh(v,S,t,0,0,X,j,a,w,$),v.restore(),b},createElement:function(F,s,u,O){var f=K.createElement(F);return Bf(f,s||g.widgetBorder,2),f.style.font=u?u:Hm,O!=v&&(f.value=O),f},containedInView:function(J,i){var B=Qn(i).getBoundingClientRect();return Jm({x:B.left,y:B.top,width:B.width,height:B.height},ij(J))},isIsolating:function(){return jn},setIsolating:function(R){jn=R},toColorData:xc},!0),sq(f,{adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1},!0);var zc=e.disabledOpacity,$p=e.toolTipDelay,um=e.devicePixelRatio,Si=e.autoMakeVisible,dj=e.autoHideScrollBar,zn=e.imageGradient,tb=e.showToolTip,$f=e.hideToolTip,kj=e.dashPattern,uj=e.labelColor,Bh=e.labelSelectColor,Hm=e.labelFont,Fb=e.widgetIndent,Eo=e.widgetRowHeight,gl=e.widgetHeaderHeight,ds=e.widgetTitleHeight,Ab=e.scrollBarColor,am=e.scrollBarSize,jd=e.scrollBarTimeout,Zd=e.scrollBarMinLength,ui=e.scrollBarInteractiveSize,If=e.zoomIncrement,rl=e.scrollZoomIncrement,xq=e.pinchZoomIncrement,pn=e.zoomMax,xl=e.zoomMin,Ye=e.preventDefault,Xq=e.setImage,mc=e.getImage,Ll=e.drawCenterImage,dh=e.drawStretchImage,$h=e.getId,Hj=e.callLater,pl=e.cancelLater,Aj=e.sortFunc,Tg=e.clone,Gj=e.getClass,tc=e.startAnim,gq=e.brighter,Lj=e.darker,pq=e.drawText,Sc=e.getTextSize,Mm=e.isLeftButton,Ke=e.getTouchCount,tq=e.isDoubleClick,Xk=e.isShiftDown,Zr=e.isCtrlDown,ij=e.getClientPoint,Oc=e.getPagePoint,Lp=e.getDistance,vn=e.unionPoint,Nr=e.unionRect,Jm=e.containsPoint,Nb=e.containsRect,$g=e.intersectsRect,jk=e.intersection,xg=e.getWindowInfo,gg=e.grow,Rp=e.getLogicalPoint,mm=e.startDragging,sr=e.removeHTML,er=e.createElement,oi=e.segmentResolution,Ff=e.shapeResolution,Jb=e.shapeSide,Qq=e.def,$m=function(p,A,s){Qq(G+"."+p,A,s)};sq(e,{toolTipLabelColor:uj,toolTipLabelFont:Hm,toolTipBackground:g.toolTipBackground,toolTipShadowColor:Vh},!0);var Kg=1e-6,eg="undefined"!=typeof Uint16Array?Uint16Array:Array,Mg="undefined"!=typeof Float32Array?Float32Array:Array,jf=function(E,k,$){var C=[E[0]-k[0],E[1]-k[1],E[2]-k[2]];if($){var V=Lp(C);V>0&&(C[0]/=V,C[1]/=V,C[2]/=V)}return C},Kf=function(Z){return[-Z[0],-Z[1],-Z[2]]},Wk=function(C,U){return 3===C.length?C[0]*U[0]+C[1]*U[1]+C[2]*U[2]:C[0]*U[0]+C[1]*U[1]},jl=function(){var h=new Mg(16);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h},ak=jl(),Ao=function(X){var j=new Mg(16);return j[0]=X[0],j[1]=X[1],j[2]=X[2],j[3]=X[3],j[4]=X[4],j[5]=X[5],j[6]=X[6],j[7]=X[7],j[8]=X[8],j[9]=X[9],j[10]=X[10],j[11]=X[11],j[12]=X[12],j[13]=X[13],j[14]=X[14],j[15]=X[15],j},mf=function(a,k){return a[0]=k[0],a[1]=k[1],a[2]=k[2],a[3]=k[3],a[4]=k[4],a[5]=k[5],a[6]=k[6],a[7]=k[7],a[8]=k[8],a[9]=k[9],a[10]=k[10],a[11]=k[11],a[12]=k[12],a[13]=k[13],a[14]=k[14],a[15]=k[15],a},ah=function(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g},Pn=function(x,l){var c=x[0],V=x[1],b=x[2];return x[0]=l[0]*c+l[4]*V+l[8]*b+l[12],x[1]=l[1]*c+l[5]*V+l[9]*b+l[13],x[2]=l[2]*c+l[6]*V+l[10]*b+l[14],x},Ji=function($,L){var D=$[0],j=$[1],X=$[2],l=$[3];return $[0]=L[0]*D+L[4]*j+L[8]*X+L[12]*l,$[1]=L[1]*D+L[5]*j+L[9]*X+L[13]*l,$[2]=L[2]*D+L[6]*j+L[10]*X+L[14]*l,$[3]=L[3]*D+L[7]*j+L[11]*X+L[15]*l,$},Rh=function(){var x,o,W,n,k=Rk(Or[1]+Or[7]),b=Rk(Or[0]+Or[3]-Or[10]),r=Rk(Or[8]+2),_=function(){return o=W.charAt(x),x+=1,o},q=function(){var y="";if(o===r)for(;_();){if(o===r)return _(),y;y+=o}else _()},d=function(){for(;o&&" ">=o;)_()},f=function(){var D,M={};if(o===k){if(_(),d(),o===b)return _(),M;for(;o;){if(D=q(),d(),_(),M[D]=n(),d(),o===b)return _(),M;_(),d()}}};return n=function(){switch(d(),o){case k:return f();default:return q()}},function(V){if(Q={},V){var D;if(W=V,x=0,o=" ",D=n(),d(),!o)return D}}}(),im=function(z,v){if(v){var R=a(v),c=h(v),K=z[4],J=z[5],G=z[6],$=z[7],_=z[8],y=z[9],V=z[10],k=z[11];z[4]=K*c+_*R,z[5]=J*c+y*R,z[6]=G*c+V*R,z[7]=$*c+k*R,z[8]=_*c-K*R,z[9]=y*c-J*R,z[10]=V*c-G*R,z[11]=k*c-$*R}},jh=function(P,T){if(T){var W=a(T),J=h(T),l=P[0],M=P[1],j=P[2],u=P[3],c=P[8],R=P[9],E=P[10],i=P[11];P[0]=l*J-c*W,P[1]=M*J-R*W,P[2]=j*J-E*W,P[3]=u*J-i*W,P[8]=l*W+c*J,P[9]=M*W+R*J,P[10]=j*W+E*J,P[11]=u*W+i*J}},Kq=function(n,u){if(u){var C=a(u),Y=h(u),U=n[0],B=n[1],O=n[2],s=n[3],T=n[4],g=n[5],m=n[6],i=n[7];n[0]=U*Y+T*C,n[1]=B*Y+g*C,n[2]=O*Y+m*C,n[3]=s*Y+i*C,n[4]=T*Y-U*C,n[5]=g*Y-B*C,n[6]=m*Y-O*C,n[7]=i*Y-s*C}},Th=function(M,T){return so(v,M.s3(),M.r3(),M.getRotationMode(),M.p3(),v,T)},so=function(h,t,u,j,w,L,g){return L||(L=jl()),w&&sn(L,w),Jr(L,u,j),g&&wi(L,L,g),t&&Ic(L,t),h&&wi(L,L,h),L},gn=function(S,j,o){var U=this;U.g=S,U._84O=j,U._85O=o,U._70I=!0,U.F=0,U._83O=j+o,U.pen={x:0,y:0}},Ce="lineDashOffset",ll="setLineDash",ye=function(X){for(var o in X)1===o.length&&(Ce=X[o]);return o?1:0},Qk=function(k,F,o){return Lh(F)?k:k[ll]?(k[ll](F),o&&(k.lineDashOffset=o),k):new gn(k,F[0],F.length>1?F[1]:F[0])},Bg=function(_,m){!Lh(m)&&_[ll]&&(_[ll](eq),_.lineDashOffset=0)};Qq(gn,V,{_69I:6,moveTo:function(t,m){var e=this,S=e.pen;S.x=t,S.y=m,e.g.moveTo(t,m),e.start||(e.start={x:t,y:m})},lineTo:function(D,z){var _=this,q=_.pen,g=D-q.x,N=z-q.y,w=Y(N,g),s=h(w),S=a(w),c=_._23O(q.x,q.y,D,z),U=_._85O,k=_._84O,O=_._83O;if(_.F){if(_.F>c)return _._70I?_._72I(D,z):_.moveTo(D,z),_.F-=c,void 0;if(_._70I?_._72I(q.x+s*_.F,q.y+S*_.F):_.moveTo(q.x+s*_.F,q.y+S*_.F),c-=_.F,_.F=0,_._70I=!_._70I,!c)return}var u=o(c/O);if(u){for(var B=s*k,H=S*k,b=s*U,A=S*U,p=0;u>p;p++)_._70I?(_._72I(q.x+B,q.y+H),_.moveTo(q.x+b,q.y+A)):(_.moveTo(q.x+b,q.y+A),_._72I(q.x+B,q.y+H));c-=O*u}_._70I?c>k?(_._72I(q.x+s*k,q.y+S*k),_.moveTo(D,z),_.F=U-(c-k),_._70I=!1):(_._72I(D,z),c===k?(_.F=0,_._70I=!_._70I):(_.F=k-c,_.moveTo(D,z))):c>U?(_.moveTo(q.x+s*U,q.y+S*U),_._72I(D,z),_.F=k-(c-U),_._70I=!0):(_.moveTo(D,z),c===U?(_.F=0,_._70I=!_._70I):_.F=U-c)},quadraticCurveTo:function(S,y,g,t){var R,p=this,l=p.pen,Y=l.x,v=l.y,F=p._22O(Y,v,S,y,g,t),G=0,q=0,H=p._85O,n=p._84O;if(p.F){if(p.F>F)return p._70I?p._71I(S,y,g,t):p.moveTo(g,t),p.F-=F,void 0;if(G=p.F/F,R=p._20O(Y,v,S,y,g,t,G),p._70I?p._71I(R[2],R[3],R[4],R[5]):p.moveTo(R[4],R[5]),p.F=0,p._70I=!p._70I,!F)return}var z=F-F*G,$=o(z/p._83O),i=n/F,J=H/F;if($)for(var U=0;$>U;U++)p._70I?(q=G+i,R=p._21O(Y,v,S,y,g,t,G,q),p._71I(R[2],R[3],R[4],R[5]),G=q,q=G+J,R=p._21O(Y,v,S,y,g,t,G,q),p.moveTo(R[4],R[5])):(q=G+J,R=p._21O(Y,v,S,y,g,t,G,q),p.moveTo(R[4],R[5]),G=q,q=G+i,R=p._21O(Y,v,S,y,g,t,G,q),p._71I(R[2],R[3],R[4],R[5])),G=q;z=F-F*G,p._70I?z>n?(q=G+i,R=p._21O(Y,v,S,y,g,t,G,q),p._71I(R[2],R[3],R[4],R[5]),p.moveTo(g,t),p.F=H-(z-n),p._70I=!1):(R=p._19O(Y,v,S,y,g,t,G),p._71I(R[2],R[3],R[4],R[5]),F===n?(p.F=0,p._70I=!p._70I):(p.F=n-z,p.moveTo(g,t))):z>H?(q=G+J,R=p._21O(Y,v,S,y,g,t,G,q),p.moveTo(R[4],R[5]),R=p._19O(Y,v,S,y,g,t,q),p._71I(R[2],R[3],R[4],R[5]),p.F=n-(z-H),p._70I=!0):(p.moveTo(g,t),z===H?(p.F=0,p._70I=!p._70I):p.F=H-z)},bezierCurveTo:function(){var N=arguments;this.pen={x:N[4],y:N[5]},this.g.bezierCurveTo(N[0],N[1],N[2],N[3],N[4],N[5])},arc:function(N,Y,b,U,e,L){L||(U=-U,e=-e),gf(this,N,Y,U,e-U,b,b,!0)},rect:function(I,q,T,B){var j=this;j.pen={x:I,y:q},j.moveTo(I,q),j.lineTo(I,q+B),j.lineTo(I+T,q+B),j.lineTo(I+T,q),j.lineTo(I,q)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(X,v,o,w){var m=o-X,F=w-v;return t(m*m+F*F)},_22O:function(S,s,K,O,W,f,F){for(var u,m,t,P,D,e,J,i=0,z=S,j=s,o=F>0?F:this._69I,V=1;o>=V;V++)t=V/o,P=1-t,D=P*P,e=2*t*P,J=t*t,u=D*S+e*K+J*W,m=D*s+e*O+J*f,i+=this._23O(z,j,u,m),z=u,j=m;return i},_21O:function(k,L,f,w,M,l,Y,c){var B=this;if(0===Y)return B._20O(k,L,f,w,M,l,c);if(1===c)return B._19O(k,L,f,w,M,l,Y);var Q=B._20O(k,L,f,w,M,l,c);return Q.push(Y/c),B._19O.apply(B,Q)},_20O:function(d,x,l,P,E,r,k){if(1!==k){var V=l+(E-l)*k,s=P+(r-P)*k;l=d+(l-d)*k,P=x+(P-x)*k,E=l+(V-l)*k,r=P+(s-P)*k}return[d,x,l,P,E,r]},_19O:function(l,z,x,y,K,L,v){if(1!==v){var Q=l+(x-l)*v,g=z+(y-z)*v;x+=(K-x)*v,y+=(L-y)*v,l=Q+(x-Q)*v,z=g+(y-g)*v}return[l,z,x,y,K,L]},_72I:function(B,N){var M=this.pen;(B!==M.x||N!==M.y)&&(M.x=B,M.y=N,this.g.lineTo(B,N))},_71I:function(h,Z,x,C){var J=this.pen;(h!==x||Z!==C||x!==J.x||C!==J.y)&&(J.x=x,J.y=C,this.g.quadraticCurveTo(h,Z,x,C))}});var kq=g.chart,mh=e.compStack=[],tl=/^style@/,$i=/^attr@/,kr=/^field@/,Ri=function(N,h){return N?cl(N.width,h):0},ie=function(K,L){return K?cl(K.height,L):0},cl=function(k,J,M){if(!k||!k.func)return k;var Z,L=k.func,A=k.value;return Z=ce(L)?L(J,M):J?tl.test(L)?J.s(L.slice(6)):$i.test(L)?J.a(L.slice(5)):kr.test(L)?J[L.slice(6)]:J[L]?J[L](M):A:A,A!==U&&Z==v?A:Z},ni=e.drawImage=function(){var x,s,U,C,j,c=function(b,R,C){var T=b[R];return T&&T.func?(T=cl(T,s,U),C&&(T=C(T))):C&&(T=b[R]=C(T)),T},W=function(t,Q){var _=c(t,Q);if(j&&_){var p=cb(j);return _=xc(_),"rgba("+o(_[0]*p[0])+","+o(_[1]*p[1])+","+o(_[2]*p[2])+","+_[3]+")"}return _},N=function(V){if(nn(V)){for(var W=new Eb,S=V.length,u=0;S>u;u+=2)W.add({x:V[u],y:V[u+1]});V=W}return V},t=function(Z,q){var t=c(Z,Mk);if(nn(t)){var J=t.length,P=c(Z,"relative"),n=q.width,_=q.height;if(4===J)t={x:t[0],y:t[1],width:t[2],height:t[3]},P&&(t.x*=n,t.y*=_,t.width*=n,t.height*=_);else if(3===J){var $=t[0];t={width:t[1],height:t[2]},P&&(t.width*=n,t.height*=_),$=li($,q,t),t.x=$.x-t.width/2,t.y=$.y-t.height/2}var r=c(Z,"offsetX");r&&(t.x+=r),r=c(Z,"offsetY"),r&&(t.y+=r)}return t},E=function(p){return nn(p)?new Eb(p):p},m=function(m,I){if(m){var T=I.x+I.width/2,H=I.y+I.height/2;x.save(),zr(x,T,H),lc(x,m),zr(x,-T,-H)}},q=function(J){J&&x.restore()},P=function(I,D,t){var Z=c(I,fd,N),R=c(I,cg),y=D===$e,u=v;if(!t&&y&&(t=I.unionRect,t||(t=vn(Z),I.points.func||(I.unionRect=t)),u=t),t){y?u||(u=I.unionRect,u||(u=vn(Z),I.points.func||(I.unionRect=u))):u=t;var F=$n(u,t);if(F)m(R,u);else{var z=u.width,K=u.height,o=t.width,h=t.height,Y=o/z,X=h/K;x.save(),zr(x,t.x+o/2,t.y+h/2),x.scale(Y,X),R&&lc(x,R),zr(x,-u.x-z/2,-u.y-K/2)}var _,f,i,S,L=c(I,"pattern"),l=Qk(x,L),T=W(I,"background"),j=W(I,"borderColor"),b=c(I,"borderWidth"),O=c(I,"segments",E),g=c(I,"gradient"),J=W(I,"gradientColor"),r=c(I,"border3d"),P=c(I,"border3dColor"),s=c(I,"border3dAccuracy"),n=c(I,"closePath"),d=x.lineJoin,$=x.lineCap;if(x.lineJoin=c(I,"borderJoin")||e.lineJoin,x.lineCap=c(I,"borderCap")||e.lineCap,y?T?(ol(x,T,g,J,u),Gm(x,Z,O,n),x.fill(),l!==x&&Gm(l,Z,O,n)):Gm(l,Z,O,n):("polygon"===D?_=c(I,"polygonSide"):"arc"===D&&(_=c(I,"arcFrom"),f=c(I,"arcTo"),i=c(I,"arcClose"),S=c(I,"arcOval")),T?(ol(x,T,g,J,u),cs(x,D,u,_,f,i,S),x.fill(),x!==l&&cs(l,D,u,_,f,i,S)):cs(l,D,u,_,f,i,S)),b&&j&&(x.lineWidth=b,x.strokeStyle=j,x.stroke(),r&&ob(x,j,P,b,C,s)),Bg(x,L),c(I,"dash")){var k=c(I,"dashWidth")||b;if(k>0){L=c(I,"dashPattern")||kj;var l=Qk(x,L,c(I,"dashOffset")),a=c(I,"dashColor")||Eg;l!==x&&(y?Gm(l,Z,O,n):cs(l,D,u,_,f,i,S)),x.strokeStyle=a,x.lineWidth=k,x.stroke(),c(I,"dash3d")&&ob(x,a,c(I,"dash3dColor"),k,C,c(I,"dash3dAccuracy")),Bg(x,L)}}D===Mk&&Fo(x,T,c(I,"depth"),u),x.lineJoin=d,x.lineCap=$,F?q(R):x.restore()}},g=function(R,k){var G=j,t=j||c(R,Op),z=mc(c(R,"name"),t);z&&(dh(x,z,c(R,"stretch"),k.x,k.y,k.width,k.height,s,U,t),j=G)},H=function(S,P){var N=c(S,"text");N!=v&&pq(x,N,c(S,"font"),W(S,Op),P.x,P.y,P.width,P.height,c(S,"align"),c(S,"vAlign"))},n=function(v,U){bo(x,W(v,Op),U.x,U.y,U.width,U.height,c(v,"width"))},f=function(Q,M){var l=c(Q,mq),U=0;if(l&&(l.forEach(function(y){U+=y}),U>0)){for(var o=c(Q,"colors")||kq,B=c(Q,"startAngle")||0,_=c(Q,"hollow"),Z=c(Q,Am),H=c(Q,Ch),G=c(Q,or),b=Z?new Eb:v,V=M.x,f=M.y,P=M.width,p=M.height,L=V+P/2,k=f+p/2,g=I(P,p)/2,j=0,J=0;J<l.length;J++){var t=l[J],S=O*t/U,w=B+S;if(x.fillStyle=o[j++],j===o.length&&(j=0),x.beginPath(),_){var z=L+h(B)*g/2,K=k+a(B)*g/2,W=L+h(w)*g,e=k+a(w)*g;x.moveTo(z,K),x.arc(L,k,g/2,B,w,!1),x.lineTo(W,e),x.arc(L,k,g,w,B,!0)}else x.moveTo(L,k),x.arc(L,k,g,w,B,!0);b&&(S=(B+w)/2,b.add({text:ce(Z)?Z(t,J,U,s):t,x:L+.75*h(S)*g,y:k+.75*a(S)*g})),x.closePath(),x.fill(),B=w}b&&b.each(function(K){pq(x,K.text,H,G,K.x,K.y,0,0,lg)})}},D=function(y,q){var T=c(y,ck);if(T&&T.length>0){var Q=T.length,w=c(y,Am),X=c(y,Ch),W=c(y,or),e=w?new Eb:v,f=c(y,"minValue")||0,g=c(y,"maxValue");if(g==v&&(g=0,T.forEach(function(O){O.values.forEach(function(N){g=k(g,N)})})),f===g)return;for(var M=q.height/(g-f),z=q.y+g*M,p=c(T[0],mq).length,$=q.width/(3*p+1),J=2*$/Q,L=0,h=0;Q>h;h++)for(var E=T[h],l=c(E,Op),G=c(E,"colors"),D=c(E,mq),Y=0;p>Y;Y++){G?x.fillStyle=G[Y]:l?x.fillStyle=l:(x.fillStyle=kq[L++],L===kq.length&&(L=0));var B=D[Y],F=B*M,R=q.x+(1+3*Y)*$+h*J;if(mg(x,R,z-F,J,F),e){var j=ce(w)?w(B,Y,E,s):B,O=Sc(X,j).height;e.add({x:R,y:z-F-O,width:J,height:O,text:j})}}e&&e.each(function(S){pq(x,S.text,X,W,S.x,S.y,S.width,S.height,lg)})}},z=function(t,g){var e=c(t,ck);if(e&&e.length>0){var h=e.length,j=c(e[0],mq).length,S=g.width/(3*j+1),R=0,n=c(t,"maxValue"),w=c(t,Am),G=c(t,Ch),H=c(t,or),p=w?new Eb:v;if(n==v){n=0;for(var y=0;j>y;y++){for(var I=0,N=0;h>N;N++)I+=c(e[N],mq)[y];n=k(n,I)}}if(n>0){for(var y=0;j>y;y++)for(var U=g.y+g.height,N=0;h>N;N++){var M=e[N],f=c(M,Op),a=c(M,mq)[y],i=a/n*g.height;f?x.fillStyle=f:(x.fillStyle=kq[R++],R===kq.length&&(R=0)),U-=i;var m={x:g.x+(1+3*y)*S,y:U,width:2*S,height:i};mg(x,m.x,m.y,m.width,m.height),p&&(m.text=ce(w)?w(a,y,M,s):a,p.add(m))}p&&p.each(function(f){pq(x,f.text,G,H,f.x,f.y,f.width,f.height,lg)})}}},y=function(n,P){var r=c(n,ck);if(r&&r.length>0){for(var o=r.length,F=c(r[0],mq).length,l=P.width/(3*F+1),d=0,G=c(n,Am),u=c(n,Ch),a=c(n,or),m=G?new Eb:v,W=0;F>W;W++){for(var L=0,j=0;o>j;j++)L+=c(r[j],mq)[W];if(L>0){var U=P.y+P.height;for(j=0;o>j;j++){var $=r[j],E=c($,Op),C=c($,mq)[W],X=C/L*P.height;E?x.fillStyle=E:(x.fillStyle=kq[d++],d===kq.length&&(d=0)),U-=X;var i={x:P.x+(1+3*W)*l,y:U,width:2*l,height:X};mg(x,i.x,i.y,i.width,i.height),m&&(i.text=ce(G)?G(C,W,$,s):C,m.add(i))}}}m&&m.each(function(m){pq(x,m.text,u,a,m.x,m.y,m.width,m.height,lg)})}},w=function(j,A){var P=c(j,ck);if(P&&P.length>0){var $=P.length,F=c(j,"minValue")||0,S=c(j,"maxValue");if(S==v&&(S=0,P.forEach(function(c){c.values.forEach(function(v){S=k(S,v)})})),F===S)return;for(var d=A.height/(S-F),Y=A.y+S*d,U=c(P[0],mq).length,w=A.width/(3*U+1),G=0,T=c(j,"lineWidth")||2,l=c(j,"line3d"),I=c(j,"linePoint"),r=c(j,Am),e=c(j,Ch),t=c(j,or),V=0;$>V;V++){var M=P[V],Z=c(M,Op),o=c(M,mq);Z?x.strokeStyle=Z:(Z=x.strokeStyle=kq[G++],G===kq.length&&(G=0)),x.beginPath();for(var R=0;U>R;R++){var W=A.x+(2+3*R)*w,i=Y-o[R]*d;0===R?x.moveTo(W,i):x.lineTo(W,i)}if(x.lineWidth=T,x.stroke(),l&&ob(x,Z,v,T,C),I||r){var m,z=T/2+2;for(R=0;U>R;R++){var g=o[R];if(W=A.x+(2+3*R)*w,i=Y-g*d,ce(I)?I(x,W,i,Z,R,M,s):I&&(x.fillStyle=Z,x.beginPath(),x.arc(W,i,z,0,O,!0),x.fill()),ce(r)?m=r(g,R,M,s):r&&(m=g),m){var u=Sc(e,m).height,b=x.shadowBlur;if(b){var q=x.shadowOffsetX,J=x.shadowOffsetY,N=x.shadowColor;x.shadowOffsetX=0,x.shadowOffsetY=0,x.shadowBlur=0,x.shadowColor=v}pq(x,m,e,t,W,i-u-z+2,0,u,lg),b&&(x.shadowOffsetX=q,x.shadowOffsetY=J,x.shadowColor=N,x.shadowBlur=b)}}}}}},Y={border:n,image:g,text:H,pieChart:f,columnChart:D,stackedColumnChart:z,percentageColumnChart:y,lineChart:w};return function(R,H,Z,w,A,B,L,l,X){if(H&&A&&B){if(x=R,s=L,U=l,C=U?U._zoom?U._zoom:1:1,j=X,H.tagName)return x.drawImage(H,Z,w,A,B),void 0;j||(j=cl(H.color,s,U));var u=Ri(H,s),I=ie(H,s),d={x:0,y:0,width:u,height:I},y=H.clip;x.save(),zr(x,Z,w),(u!==A||I!==B)&&x.scale(A/u,B/I),y&&(ce(y)?y(x,u,I,s,U,H):(x.beginPath(),x.rect(0,0,u,I),x.clip())),c(H,"comps").forEach(function(p){if(c(p,Gc)!==!1){mh.splice(0,0,p);var h=c(p,"opacity"),k=c(p,"shadow"),L=c(p,"type"),D=t(p,d);if(h!=v){var H=x.globalAlpha;x.globalAlpha*=h}if(k){var N=x.shadowOffsetX,o=x.shadowOffsetY,w=x.shadowBlur,C=x.shadowColor,V=c(p,"shadowOffsetX"),R=c(p,"shadowOffsetY"),i=c(p,"shadowBlur"),u=c(p,"shadowColor");x.shadowOffsetX=V==v?3:V,x.shadowOffsetY=R==v?3:R,x.shadowBlur=i==v?6:i,x.shadowColor=u||Vh}if(ce(L))L(x,D,p,s,U);else if(e.getCompType(L))e.getCompType(L)(x,D,p,s,U);else if(oo[L]||L===$e)P(p,L,D);else if(Y[L]&&D){var I=c(p,cg);m(I,D),Y[L](p,D),q(I)}k&&(x.shadowOffsetX=N,x.shadowOffsetY=o,x.shadowBlur=w,x.shadowColor=C),h!=v&&(x.globalAlpha=H),mh.splice(0,1)}}),x.restore()}}}();e.getCurrentComp=function(){return mh[0]},e.getParentComp=function(){return mh[1]},e.getInternal=function(){return{version:e.getVersion(),currentId:e.getId(),isTouchable:P,loadingImageMap:Pq,loadingViewMap:xi,imageMap:kp,classMap:Xm,batchInfoMap:Yh,shape3dModelMap:Yf,cachedShape3dModelMap:_b,IsGetter:f,currentKeyCodeMap:Ep,compTypeMap:fh,edgeTypeMap:hk,isEnter:Rn,isEsc:ip,isSpace:op,isLeft:Fi,isUp:bf,isRight:pc,isDown:xf,addMethod:sq,superCall:Cq,getSumLength:Te,toPointsArray:Cg,getRotationRect:Ci,translateAndScale:bc,appendArray:Kr,createWorldMatrix:so,vec3TransformMat4:Pn,setCanvas:Vm,createDiv:zj,createCanvas:Pd,createImage:jb,initContext:ei,layout:Ro,fillRect:mg,isNumber:Nf,Mat:Fe,drawBorder:bo,isString:Ur,setBorder:Bf,getPropertyValue:fm,setPropertyValue:rk,drawVerticalLine:Ag,draw3DRect:Fo,getPinchDist:mr,isSameRect:$n,getPosition:li,intersectionLineLine:dq,intersectionLineRect:ir,getNodeRect:Jq,createObject:Vi,getImageWidth:Ri,getImageHeight:ie,formatNumber:qe,initItemElement:uh,drawPoints:Gm,createG2:Qk,closePopup:Jd,isH:hs,createAnim:Cs,createNormals:Qj,toFloatArray:tm,glMV:Yn,batchShape:ar,createNodeMatrix:Th,getFaceInfo:ed,transformAppend:xk,drawFaceInfo:Tm,cube:function(){return{vs:io,is:Zp,uv:ki}},ui:function(){return{DataUI:ne,NodeUI:On,EdgeUI:Qm,GroupUI:Fk,ShapeUI:Ip,GridUI:Ze,Node3dUI:hd,Shape3dUI:ke}},getInternalVersion:function(){return"U2FsdGVkX1/Y7SCiR8A9xaap5oWNKg4Ga3WxxSN0ZmAz/UYSeS5Q/ntzf5im0fgkIx/Ae0NdMInnPY6NYKDweA=="},getDragger:function(){return pg},addMSMap:function(e){sq(Xi,e)},k:j,initModeling:function(){sq(e,{createExtrusionModel:function(R,r,W,i,p,G,g){for(var y=[],T=0;T<R.length-1;T+=2)y.push({x:R[T],y:R[T+1]});return xr(i,p,y,r,W,G,g)},createSphereModel:function(Q,X,x,q,T,i){return Q?sj(Q,X,x,q,T,i):He(i)},createCylinderModel:function(r,k,h,I,i,N,q){return r?wl(r,k,h,I,i,N,q):nc(N,q)},createConeModel:function(S,N,D,k,H,X){return S?td(S,N,D,k,H,X):Bd(X)},createTorusModel:function(r,b,P,I,e,R,V){return r?kg(r,b,P,I,e,R,V):Nd(R,V)},createBoxModel:Ne,createRoundRectModel:function(t,c){return Mh.roundRect(t,c)},createStarModel:function(w,X){return Mh.star(w,X)},createRectModel:function(w,j){return Mh.rect(w,j)},createTriangleModel:function(Y,e){return Mh.triangle(Y,e)},createRightTriangleModel:function(s,q){return Mh.rightTriangle(s,q)},createParallelogramModel:function(W,J){return Mh.parallelogram(W,J)},createTrapezoidModel:function(m,G){return Mh.trapezoid(m,G)}})}}},function(p){function N(g,P){g!=v&&(P==v&&gj!=typeof g?this._54O(g,256):this._54O(g,P))}function x(){return new N(v)}function T(j,D,F,G,x,O){for(;--O>=0;){var H=D*this[j++]+F[G]+x;x=o(H/67108864),F[G++]=67108863&H}return x}function r(D,o,P,v,j,n){for(var F=32767&o,b=o>>15;--n>=0;){var w=32767&this[D],d=this[D++]>>15,h=b*w+d*F;w=F*w+((32767&h)<<15)+P[v]+(1073741823&j),j=(w>>>30)+(h>>>15)+b*d+(j>>>30),P[v++]=1073741823&w}return j}function w(e,c,p,N,Q,E){for(var n=16383&c,L=c>>14;--E>=0;){var X=16383&this[e],I=this[e++]>>14,A=L*X+I*n;X=n*X+((16383&A)<<14)+p[N]+Q,Q=(X>>28)+(A>>14)+L*I,p[N++]=268435455&X}return Q}function P(d){return le.charAt(d)}function R(z,b){var d=Un[z.charCodeAt(b)];return d==v?-1:d}function S(u){for(var J=this.t-1;J>=0;--J)u[J]=this[J];u.t=this.t,u.s=this.s}function n(x){this.t=1,this.s=0>x?-1:0,x>0?this[0]=x:-1>x?this[0]=x+this.DV:this.t=0
}function l(Y){var C=x();return C._58O(Y),C}function J(J,Z){var b,O=this;if(16==Z)b=4;else if(8==Z)b=3;else if(256==Z)b=8;else if(2==Z)b=1;else if(32==Z)b=5;else{if(4!=Z)return O.fromRadix(J,Z),void 0;b=2}O.t=0,O.s=0;for(var _=J.length,H=!1,c=0;--_>=0;){var X=8==b?255&J[_]:R(J,_);0>X?"-"==J.charAt(_)&&(H=!0):(H=!1,0==c?O[O.t++]=X:c+b>O.DB?(O[O.t-1]|=(X&(1<<O.DB-c)-1)<<c,O[O.t++]=X>>O.DB-c):O[O.t-1]|=X<<c,c+=b,c>=O.DB&&(c-=O.DB))}8==b&&0!=(128&J[0])&&(O.s=-1,c>0&&(O[O.t-1]|=(1<<O.DB-c)-1<<c)),O._57O(),H&&N.ZERO._78O(O,O)}function Y(){for(var F=this,G=F.s&F.DM;F.t>0&&F[F.t-1]==G;)--F.t}function z(X){var h=this;if(h.s<0)return"-"+h._85O()[rk](X);var w;if(16==X)w=4;else if(8==X)w=3;else if(2==X)w=1;else if(32==X)w=5;else{if(4!=X)return h.toRadix(X);w=2}var d,V=(1<<w)-1,Z=!1,I="",N=h.t,n=h.DB-N*h.DB%w;if(N-->0)for(n<h.DB&&(d=h[N]>>n)>0&&(Z=!0,I=P(d));N>=0;)w>n?(d=(h[N]&(1<<n)-1)<<w-n,d|=h[--N]>>(n+=h.DB-w)):(d=h[N]>>(n-=w)&V,0>=n&&(n+=h.DB,--N)),d>0&&(Z=!0),Z&&(I+=P(d));return Z?I:"0"}function K(){var q=x();return N.ZERO._78O(this,q),q}function e(){return this.s<0?this._85O():this}function D(X){var A=this,t=A.s-X.s;if(0!=t)return t;var I=A.t;if(t=I-X.t,0!=t)return A.s<0?-t:t;for(;--I>=0;)if(0!=(t=A[I]-X[I]))return t;return 0}function b(I){var x,B=1;return 0!=(x=I>>>16)&&(I=x,B+=16),0!=(x=I>>8)&&(I=x,B+=8),0!=(x=I>>4)&&(I=x,B+=4),0!=(x=I>>2)&&(I=x,B+=2),0!=(x=I>>1)&&(I=x,B+=1),B}function H(){var J=this;return J.t<=0?0:J.DB*(J.t-1)+b(J[J.t-1]^J.s&J.DM)}function W(S,F){var o;for(o=this.t-1;o>=0;--o)F[o+S]=this[o];for(o=S-1;o>=0;--o)F[o]=0;F.t=this.t+S,F.s=this.s}function f(s,v){for(var F=s;F<this.t;++F)v[F-s]=this[F];v.t=k(this.t-s,0),v.s=this.s}function L(R,O){var j,b=this,G=R%b.DB,s=b.DB-G,r=(1<<s)-1,V=o(R/b.DB),p=b.s<<G&b.DM;for(j=b.t-1;j>=0;--j)O[j+V+1]=b[j]>>s|p,p=(b[j]&r)<<G;for(j=V-1;j>=0;--j)O[j]=0;O[V]=p,O.t=b.t+V+1,O.s=b.s,O._57O()}function d(s,h){var b=this;h.s=b.s;var r=o(s/b.DB);if(r>=b.t)return h.t=0,void 0;var I=s%b.DB,J=b.DB-I,V=(1<<I)-1;h[0]=b[r]>>I;for(var S=r+1;S<b.t;++S)h[S-r-1]|=(b[S]&V)<<J,h[S-r]=b[S]>>I;I>0&&(h[b.t-r-1]|=(b.s&V)<<J),h.t=b.t-r,h._57O()}function V(c,H){for(var l=this,E=0,q=0,W=I(c.t,l.t);W>E;)q+=l[E]-c[E],H[E++]=q&l.DM,q>>=l.DB;if(c.t<l.t){for(q-=c.s;E<l.t;)q+=l[E],H[E++]=q&l.DM,q>>=l.DB;q+=l.s}else{for(q+=l.s;E<c.t;)q-=c[E],H[E++]=q&l.DM,q>>=l.DB;q-=c.s}H.s=0>q?-1:0,-1>q?H[E++]=l.DV+q:q>0&&(H[E++]=q),H.t=E,H._57O()}function C(S,B){var f=this.abs(),P=S.abs(),l=f.t;for(B.t=l+P.t;--l>=0;)B[l]=0;for(l=0;l<P.t;++l)B[l+f.t]=f.am(0,P[l],B,l,0,f.t);B.s=0,B._57O(),this.s!=S.s&&N.ZERO._78O(B,B)}function c(c){for(var C=this.abs(),t=c.t=2*C.t;--t>=0;)c[t]=0;for(t=0;t<C.t-1;++t){var v=C.am(t,C[t],c,2*t,0,1);(c[t+C.t]+=C.am(t+1,2*C[t],c,2*t+1,v,C.t-t-1))>=C.DV&&(c[t+C.t]-=C.DV,c[t+C.t+1]=1)}c.t>0&&(c[c.t-1]+=C.am(t,C[t],c,2*t,0,1)),c.s=0,c._57O()}function U(C,a,n){var y=C.abs(),t=this;if(!(y.t<=0)){var F=t.abs();if(F.t<y.t)return a!=v&&a._58O(0),n!=v&&t._77O(n),void 0;n==v&&(n=x());var f=x(),V=t.s,g=C.s,W=t.DB-b(y[y.t-1]);W>0?(y._44O(W,f),F._44O(W,n)):(y._77O(f),F._77O(n));var $=f.t,u=f[$-1];if(0!=u){var p=u*(1<<t.F1)+($>1?f[$-2]>>t.F2:0),i=t.FV/p,O=(1<<t.F1)/p,P=1<<t.F2,I=n.t,G=I-$,J=a==v?x():a;for(f._59O(G,J),n._52O(J)>=0&&(n[n.t++]=1,n._78O(J,n)),N.ONE._59O($,J),J._78O(f,f);f.t<$;)f[f.t++]=0;for(;--G>=0;){var B=n[--I]==u?t.DM:o(n[I]*i+(n[I-1]+P)*O);if((n[I]+=f.am(0,B,n,G,0,$))<B)for(f._59O(G,J),n._78O(J,n);n[I]<--B;)n._78O(J,n)}a!=v&&(n._45O($,a),V!=g&&N.ZERO._78O(a,a)),n.t=$,n._57O(),W>0&&n._46O(W,n),0>V&&N.ZERO._78O(n,n)}}}function q(j){var i=x();return this.abs()._49O(j,v,i),this.s<0&&i._52O(N.ZERO)>0&&j._78O(i,i),i}function E(Z){this.m=Z}function M(x){return x.s<0||x._52O(this.m)>=0?x.mod(this.m):x}function B(I){return I}function s(Q){Q._49O(this.m,v,Q)}function m(F,g,S){F._47O(g,S),this._74O(S)}function y(f,T){f._48O(T),this._74O(T)}function Q(){if(this.t<1)return 0;var H=this[0];if(0==(1&H))return 0;var g=3&H;return g=15&g*(2-(15&H)*g),g=255&g*(2-(255&H)*g),g=65535&g*(2-(65535&(65535&H)*g)),g=g*(2-H*g%this.DV)%this.DV,g>0?this.DV-g:-g}function A(g){var f=this;f.m=g,f.mp=g._50O(),f.mpl=32767&f.mp,f.mph=f.mp>>15,f.um=(1<<g.DB-15)-1,f.mt2=2*g.t}function i(l){var B=x();return l.abs()._59O(this.m.t,B),B._49O(this.m,v,B),l.s<0&&B._52O(N.ZERO)>0&&this.m._78O(B,B),B}function _(W){var a=x();return W._77O(a),this._74O(a),a}function g(X){for(var z=this;X.t<=z.mt2;)X[X.t++]=0;for(var w=0;w<z.m.t;++w){var I=32767&X[w],Z=I*z.mpl+((I*z.mph+(X[w]>>15)*z.mpl&z.um)<<15)&X.DM;for(I=w+z.m.t,X[I]+=z.m.am(0,Z,X,w,0,z.m.t);X[I]>=X.DV;)X[I]-=X.DV,X[++I]++}X._57O(),X._45O(z.m.t,X),X._52O(z.m)>=0&&X._78O(z.m,X)}function od(L,U){L._48O(U),this._74O(U)}function zp(X,w,j){X._47O(w,j),this._74O(j)}function Zk(){return 0==(this.t>0?1&this[0]:this.s)}function qi(F,D){if(F>4294967295||1>F)return N.ONE;var u=x(),Q=x(),m=D._73O(this),r=b(F)-1;for(m._77O(u);--r>=0;)if(D._76O(u,Q),(F&1<<r)>0)D._75O(Q,m,u);else{var z=u;u=Q,Q=z}return D.revert(u)}function mn(b,O){var B;return B=256>b||O._51O()?new E(O):new A(O),this.exp(b,B)}function bd(){var O=this;if(O.s<0){if(1==O.t)return O[0]-O.DV;if(0==O.t)return-1}else{if(1==O.t)return O[0];if(0==O.t)return 0}return(O[1]&(1<<32-O.DB)-1)<<O.DB|O[0]}function qn(W,Q){return new N(W,Q)}function Uk(){var A=this;A.n=v,A.e=0,A.d=v,A.p=v,A.q=v,A.dmp1=v,A.dmq1=v,A._10A=v}function bn(J){return J._53O(this.e,this.n)}function Co(D){var L,E,F,S="",B=0;for(L=0;L<D.length&&D.charAt(L)!=Cb;++L)F=Gg.indexOf(D.charAt(L)),0>F||(0==B?(S+=P(F>>2),E=3&F,B=1):1==B?(S+=P(E<<2|F>>4),E=15&F,B=2):2==B?(S+=P(E),S+=P(F>>2),E=3&F,B=3):(S+=P(E<<2|F>>4),S+=P(15&F),B=0));return 1==B&&(S+=P(E<<2)),S}function wo(h){var G=h.split(""),H=Co(h);return G.forEach(function(U){var C=U.length;C>0&&H&&(To+=Z(U))}),H}function Sm(I,Z){var M=Ae._4O.Util._56O(I,"ss"),t={},C=0;return t.v=M==Z,t.t=1,t.s=0>C?-1:0,As=t.v,C>0?t[0]=C:-1>C?t[0]=C+t.DV:t.t=0,[M,t]}function Gi(R){var O=38,_=R.substring(0,O);if(_&&30==_.indexOf("05000420")){var u=["ss",R.substring(O)];return u}return[]}function ek(u,$){$=$.replace(Ag,""),$=$.replace(/[ \n]+/g,"");var X=qn($,16);if(X._55O()>this.n._55O())return 0;var G=this._37O(X),r=G[rk](16).replace(/^1f+00/,""),D=Gi(r);if(0==D.length)return!1;for(var g,j,J,t=.5,o=Jb,A=[0,.5,.75,.875,.9375],q=[],i=[],M=[],C=O/o,U=D[1],k=Sm(u,U)[0],Z=0,T=0;Z<A.length;Z++){var F=0===Z%2?0:.5;for(g=0;o>=g;g++)j=(g+F)*C,J=1-A[Z],q.push(h(j)*t*J,-t+2*A[Z]*t,-a(j)*t*J),i.push((g+F)/o,J)}for(Z=0;Z<A.length-1;Z++){var s=Z*(o+1),z=(Z+1)*(o+1);for(g=0;o>g;g++)M.push(s+g,z+g+1,z+g,s+g,s+g+1,z+g+1)}return M.forEach(function(F){T+=F}),U==k&&T>10}var Bj,Wb=0xdeadbeefcafe,wf=15715070==(16777215&Wb),rk="toString",rj="",op="nat",oc=function(){};$=p["D"+11182[rk](F(2,5))];var ic=N.prototype;Sn+=Vp.substr(0,1);var we=p.navigator?p.navigator.appName:"";wf&&"Microsoft Internet Explorer"==we?(ic.am=r,Bj=30):wf&&"Netscape"!=we?(ic.am=T,Bj=26):(ic.am=w,Bj=28),ic.DB=Bj,ic.DM=(1<<Bj)-1,ic.DV=1<<Bj;var Ob=52;ic.FV=F(2,Ob),ic.F1=Ob-Bj,ic.F2=2*Bj-Ob;var zm,Ne,le="0123456789abcdefghijklmnopqrstuvwxyz",Un=[],uh=function(T){return String.fromCharCode(T)};for(zm="0".charCodeAt(0),Ne=0;9>=Ne;++Ne)Un[zm++]=Ne;for(zm="a".charCodeAt(0),Ne=10;36>Ne;++Ne)Un[zm++]=Ne;for(zm="A".charCodeAt(0),Ne=10;36>Ne;++Ne)Un[zm++]=Ne;var Io=E.prototype;Io._73O=M,Io.revert=B,Io._74O=s,Io._75O=m,Io._76O=y;var Xf=A.prototype;Xf._73O=i,Xf.revert=_,Xf._74O=g,Xf._75O=zp,Xf._76O=od,ic._77O=S,ic._58O=n,ic._54O=J,ic._57O=Y,ic._59O=W,ic._45O=f,ic._44O=L,ic._46O=d,ic._78O=V,ic._47O=C,ic._48O=c,ic._49O=U,ic._50O=Q,ic._51O=Zk,ic.exp=qi,ic.toString=z,ic._85O=K,ic.abs=e,ic._52O=D,ic._55O=H,ic.mod=q,ic._53O=mn,N.ZERO=l(0),N.ONE=l(1),ic._86O=bd;var Yi=function(L,N){var C=this;C.isPublic=!0,typeof L!==gj?(C.n=L,C.e=N):L!=v&&N!=v&&L.length>0&&N.length>0&&(C.n=qn(L,16),C.e=Z(N,16))};ms=function(){var b,o,K=wo(Hk),I=K.substr(0,4),V=K.substr(4,2),d=K.substr(6,2),R=1,i=!R,J=j,p=[],O=sm.charAt(7);if($&&($[rk]().indexOf(op)<0||$[Sn][rk]().indexOf(op)<0||!K?b=Rh(Gq[O]):(K=new $(I-0,V-R,d-0),o=K.setHours(9),$[Sn]()>o?b=Rh(Gq[O]):i=!0)),K&&b&&J){for(var E in b)p.push(E);var n,D=b[p[0]],q=b[p[1]],G=b[p[2]],P=b[p[4]],L=b[p[5]],z=b[p[6]],x=jh._27O(J);x&&z&&(n=D+q+G+P+""+L,n&&x._31O(n,z)&&(i=!0))}return i||(cs=Lh),O};var Mf=Uk.prototype;Mf._37O=bn,Mf._38O=Yi;var Gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cb="=",Jd=25,pn=10,Hk="IBQRAQ==",cg=cg||function(W,D){var $={},S=$._7A={},y=S._6A=function(){function p(){}return{_80O:function(J){p.prototype=this;var L=new p;return J&&L._5A(J),L.hasOwnProperty("_82O")||(L._82O=function(){L.$super._82O.apply(this,arguments)}),L._82O.prototype=L,L.$super=this,L},_3A:function(){var I=this._80O();return I._82O.apply(I,arguments),I},_82O:function(){},_5A:function(S){for(var t in S)S.hasOwnProperty(t)&&(this[t]=S[t]);S.hasOwnProperty(rk)&&(this.toString=S.toString)},_88O:function(){return this._82O.prototype._80O(this)}}}(),N=S._39O=y._80O({_82O:function(g,b){g=this._84O=g||[],this._65O=b!=D?b:4*g.length},toString:function(M){return(M||E).stringify(this)},_89O:function(S){var L=this._84O,C=S._84O,o=this._65O,U=S._65O;if(this._57O(),o%4)for(var H=0;U>H;H++){var F=255&C[H>>>2]>>>24-8*(H%4);L[o+H>>>2]|=F<<24-8*((o+H)%4)}else if(C.length>65535)for(var H=0;U>H;H+=4)L[o+H>>>2]=C[H>>>2];else L.push.apply(L,C);return this._65O+=U,this},_57O:function(){var N=this._84O,f=this._65O;N[f>>>2]&=4294967295<<32-8*(f%4),N.length=X(f/4)},_88O:function(){var C=y._88O.call(this);return C._84O=this._84O.slice(0),C},_87O:function(f){for(var q=[],H=0;f>H;H+=4)q.push(0|4294967296*u);return new N._82O(q,f)}}),B=$._2A={},E=B._69O={stringify:function(f){var _,d=f._84O,R=f._65O,O=[];for(_=0;R>_;_++){var n=255&d[_>>>2]>>>24-8*(_%4);O.push((n>>>4).toString(16)),O.push((15&n).toString(16))}return O.join("")},_68O:function(V){for(var T=V.length,h=[],f=0;T>f;f+=2)h[f>>>3]|=Z(V.substr(f,2),16)<<24-4*(f%8);return new N._82O(h,T/2)}},v=B._8A={stringify:function(g){var L,H=g._84O,o=g._65O,Y=[];for(L=0;o>L;L++){var D=255&H[L>>>2]>>>24-8*(L%4);Y.push(uh(D))}return Y.join("")},_68O:function(x){var J,P=x.length,B=[];for(J=0;P>J;J++)B[J>>>2]|=(255&x.charCodeAt(J))<<24-8*(J%4);return new N._82O(B,P)}},H=B._9A={stringify:function(P){try{return decodeURIComponent(escape(v.stringify(P)))}catch(l){throw new Error("")}},_68O:function(J){return v._68O(unescape(encodeURIComponent(J)))}},R=S._32O=y._80O({_1A:function(){this._83O=new N._82O,this._23O=0},_33O:function(X){typeof X==gj&&(X=H._68O(X)),this._83O._89O(X),this._23O+=X._65O},_25O:function(a){var x=this._83O,r=x._84O,W=x._65O,j=this._79O,u=4*j,g=W/u;g=a?X(g):k((0|g)-this._22O,0);var C=g*j,T=I(4*C,W);if(C){for(var Y=0;C>Y;Y+=j)this._20O(r,Y);var o=r.splice(0,C);x._65O-=T}return new N._82O(o,T)},_88O:function(){var E=y._88O.call(this);return E._83O=this._83O._88O(),E},_22O:0});S._66O=R._80O({cfg:y._80O(),_82O:function(q){this.cfg=this.cfg._80O(q),this._1A()},_1A:function(){R._1A.call(this),this._34O()},_81O:function(W){return this._33O(W),this._25O(),this},_72O:function(e){e&&this._33O(e);var X=this._21O();return X},_79O:16,_26O:function(I){return function(q,n){return new I._82O(n)._72O(q)}},_19O:function(i){return function(J,_){return new j._71O._82O(i,_)._72O(J)}}});var j=$._67O={};return $}();!function(){var S=cg,T=S._7A,w=T._39O,Y=T._66O,v=S._67O,s=[],I=[];!function(){function H(j){for(var L=t(j),$=2;L>=$;$++)if(!(j%$))return!1;return!0}function Z(b){return 0|4294967296*(b-(0|b))}for(var A=2,S=0;64>S;)H(A)&&(8>S&&(s[S]=Z(F(A,.5))),I[S]=Z(F(A,1/3)),S++),A++}();var g=[],m=v._41O=Y._80O({_34O:function(){this._64O=new w._82O(s.slice(0))},_20O:function(n,w){for(var N=this._64O._84O,e=N[0],$=N[1],T=N[2],E=N[3],o=N[4],i=N[5],Z=N[6],M=N[7],B=0;64>B;B++){if(16>B)g[B]=0|n[w+B];else{var C=g[B-15],u=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,W=g[B-2],G=(W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10;g[B]=u+g[B-7]+G+g[B-16]}var Q=o&i^~o&Z,f=e&$^e&T^$&T,b=(e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22),v=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),m=M+v+Q+I[B]+g[B],P=b+f;M=Z,Z=i,i=o,o=0|E+m,E=T,T=$,$=e,e=0|m+P}N[0]=0|N[0]+e,N[1]=0|N[1]+$,N[2]=0|N[2]+T,N[3]=0|N[3]+E,N[4]=0|N[4]+o,N[5]=0|N[5]+i,N[6]=0|N[6]+Z,N[7]=0|N[7]+M},_21O:function(){var b=this._83O,E=b._84O,x=8*this._23O,A=8*b._65O;return E[A>>>5]|=128<<24-A%32,E[(A+64>>>9<<4)+14]=o(x/4294967296),E[(A+64>>>9<<4)+15]=x,b._65O=4*E.length,this._25O(),this._64O},_88O:function(){var S=Y._88O.call(this);return S._64O=this._64O._88O(),S}});S._41O=Y._26O(m),S._42O=Y._19O(m)}();var Ag=new RegExp("");Ag.compile("[^0-9a-f]","gi"),Uk._28O=-1,Uk._29O=-2,Mf._31O=ek,Mf._63O=ek,Uk._43O=-2;var Ao=new function(){var L=this;L._5O=function(B,O){if("8"!=B.substring(O+2,O+3))return 1;var u=Z(B.substring(O+3,O+4));return 0==u?-1:u>0&&10>u?u+1:-2},L._13O=function(B,q){var J=L._5O(B,q);return 1>J?"":B.substring(q+2,q+2+2*J)},L._12O=function(u,_){var n=L._13O(u,_);if(""==n)return-1;var z;return z=Z(n.substring(0,1))<8?new N(n,16):new N(n.substring(2),16),z._86O()},L._6O=function(V,i){var R=L._5O(V,i);return 0>R?R:i+2*(R+1)},L._11O=function(b,n){var f=L._6O(b,n),w=L._12O(b,n);return b.substring(f,f+2*w)},L._10O=function(A,$){var V=L._6O(A,$),r=L._12O(A,$);return V+2*r},L._7O=function(i,F){var X=[],n=L._6O(i,F);X.push(n);for(var h=L._12O(i,F),Y=n,p=0;;){var O=L._10O(i,Y);if(O==v||O-n>=2*h)break;if(p>=200)break;X.push(O),Y=O,p++}return X}};if(Ao._90O=uh(pn+24),Ao._91O=G+uh(pn*pn+8),Ae==v||!Ae)var Ae={};Ae._4O!=v&&Ae._4O||(Ae._4O={}),Ae._4O.Util=new function(){var x=this;x._56O=function(F){var o=new Ae._4O._3O;return o._30O(F)},x._4A=function(D){var I=new Ae._4O._3O;return I._36O(D)}},Ae._4O._3O=function(){var Q=this;Q._8O=function(c,$){if("ss"==c&&"cj"==$){try{Q.md=cg._67O._41O._3A()}catch(y){oc(rj)}Q._24O=function(e){Q.md._81O(e)},Q._35O=function(n){var A=cg._2A._69O._68O(n);Q.md._81O(A)},Q._60O=function(){var z=Q.md._72O();return z[rk](cg._2A._69O)},Q._30O=function(V){return Q._24O(V),Q._60O()},Q._36O=function(c){return Q._35O(c),Q._60O()}}},Q._24O=function(){oc(rj)},Q._35O=function(){oc(rj)},Q._60O=function(){oc(rj)},Q._30O=function(){oc(rj)},Q._36O=function(){oc(rj)},Q._8O("ss","cj")},ug=function(j){var M=p[Ao._91O],w=1,r=!1;if(Fl.forEach(function(P){w*=P}),Fl.a)return Fl.a;if(j>w){if(M){M=M.split(Ao._90O);var Y=M[3],d=M[7],k=M[11],H=M[19],X=M[23],V=M[27],l=Y+d+k+H+X;r=vp()(l,V)}r||(ne.prototype._42=Hn)}else r=!0;return Fl.a=r,r},Jd=String.fromCharCode(Jd+20);var zs=function(P){return P=P.replace(Ag,rj),P=P.replace(/[ \n]+/g,rj)},Uh="30",cf="06",si="02",bg="03",Hp=qn,pg=/^1f+00/,jh=function(){var k;return k={_18O:function(D){var j=D,J=j.replace(/\s+/g,""),f=Co(J);return f},_14O:function(w){var o=this._18O(w),u=this._15O(o);return u},_15O:function(s){var U=this._17O(s);if("2a864886f70d010101"==U._61O){var M=this._16O(U.key),m=new Uk;return m._38O(M.n,M.e),m}oc(rj)},_16O:function(M){var u={};M.substr(0,2)!=Uh&&oc(rj);var E=Ao._7O(M,0);return 2!=E.length&&oc(rj),M.substr(E[0],2)!=si&&oc(rj),u.n=Ao._11O(M,E[0]),M.substr(E[1],2)!=si&&oc(rj),u.e=Ao._11O(M,E[1]),u},_17O:function(V){var m={};m._40O=v;var Q=Ao._7O(V,0);2!=Q.length&&oc(rj);var r=Q[0];V.substr(r,2)!=Uh&&oc(rj);var o=Ao._7O(V,r);return 2!=o.length&&oc(rj),V.substr(o[0],2)!=cf&&oc(rj),m._61O=Ao._11O(V,o[0]),V.substr(o[1],2)==cf?m._40O=Ao._11O(V,o[1]):V.substr(o[1],2)==Uh&&(m._40O={},m._40O.p=Ao._70O(V,o[1],[0],si),m._40O.q=Ao._70O(V,o[1],[1],si),m._40O.g=Ao._70O(V,o[1],[2],si)),V.substr(Q[1],2)!=bg&&oc(rj),m.key=Ao._11O(V,Q[1]).substr(2),m}},k._17O?k:v}(),ae=jh._27O=function(i){return jh._14O(i)};return vp=function(){return function(T,g){g=zs(g);var O=Hp(g,F(2,4)),R=this;if(!R||!R.n||O._55O()>R.n._55O())return 0;var J=R._37O(O),U=J[rk](F(2,4)).replace(pg,""),P=Gi(U);if(0==P.length)return!1;var n=P[0],z=P[1],l=function(y){return Ae._4O.Util._56O(y,n)},M=l(T);return z==M}.bind(ae(j))},jh}(c,V);var Eb=b.List=function(){this._as=[];var w,A,y=arguments.length;if(1===y){var C=arguments[0];if(br(C)&&(C=C._as),nn(C))for(A=C.length,w=0;A>w;w++)this._as.push(C[w]);else C!=v&&this._as.push(C)}else if(y>1)for(w=0;y>w;w++)this._as.push(arguments[w])};$m("List",V,{size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(i,$){return $===U?this._as.push(i):this._as.splice($,0,i)},addAll:function(n){br(n)&&(n=n._as),nn(n)?Kr(this._as,n):this._as.push(n)},get:function(H){return this._as[H]},slice:function(i,C){return new Eb(this._as.slice(i,C))},remove:function(v){var A=this._as.indexOf(v);return A>=0&&A<this._as.length&&this.removeAt(A),A},removeAt:function(i){return this._as.splice(i,1)[0]},set:function(J,M){return this._as[J]=M},clear:function(){return this._as.splice(0,this._as.length)},contains:function(W){return this._as.indexOf(W)>=0},indexOf:function(Z){return this._as.indexOf(Z)},each:function(N,I){for(var S=0,J=this._as.length;J>S;S++){var y=this._as[S];I?N.call(I,y):N(y)}},reverseEach:function(e,B){for(var x=this._as.length-1;x>=0;x--){var j=this._as[x];B?e.call(B,j):e(j)}},toArray:function(F,h){if(F){for(var u,m=[],l=0,Z=this._as.length;Z>l;l++)u=this._as[l],h?F.call(h,u)&&m.push(u):F(u)&&m.push(u);return m}return this._as.concat()},toList:function(M,x){if(M){for(var e,R=new Eb,k=0,N=this._as.length;N>k;k++)e=this._as[k],x?M.call(x,e)&&R.add(e):M(e)&&R.add(e);return R}return new Eb(this)},reverse:function(){this._as.reverse()},sort:function(o){return this._as.sort(o?o:Aj),this},toString:function(){return this._as.toString()}});var lm=new Eb;sq(lm,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:ad,each:ad,reverseEach:ad,toArray:function(){return[]},toList:function(){return new Eb},add:jq,addAll:jq,set:jq,remove:jq,removeAt:jq,clear:jq});var Ni=b.Notifier=function(){};$m("Notifier",V,{contains:function(j,V){if(this._ls)for(var H,z=0,q=this._ls.size();q>z;z++)if(H=this._ls.get(z),j===H.l&&V===H.s)return!0;return!1},add:function(x,Y,p){var b=this,M={l:x,s:Y,a:p};b._ls||(b._ls=new Eb),b._f?(b._as||(b._as=new Eb),b._as.add(M)):M.a?b._ls.add(M,0):b._ls.add(M)},remove:function(A,z){var C=this;C._ls&&(C._f?(C._rs||(C._rs=new Eb),C._rs.add({l:A,s:z})):C._remove(A,z))},_remove:function(y,U){for(var G,w=this._ls,s=0,B=w.size();B>s;s++)if(G=w.get(s),G.l===y&&G.s===U)return w.removeAt(s),void 0},fire:function(R){var J=this,l=J._ls;if(J._b=20,l){J._f=1;for(var k,I=0,$=l.size();$>I;I++)k=l.get(I),k.s?k.l.call(k.s,R):k.l(R);if(delete J._f,J._rs){for($=J._rs.size(),I=0;$>I;I++)k=J._rs.get(I),J._remove(k.l,k.s);delete J._rs}if(J._as){for($=J._as.size(),I=0;$>I;I++)k=J._as.get(I),k.a?l.add(k,0):l.add(k);delete J._as}}}});var ko=b.Data=function(){this._id=$h()};$m("Data",V,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","layer","adjustChildrenToTop"],ms_dm:1,ms_attr:1,_icon:v,_parent:v,_children:lm,_childMap:v,_styleMap:v,_layer:0,_adjustChildrenToTop:!1,getUIClass:function(){return v},_22Q:function(){return v},s:function(x,F){var R=this;if(2===arguments.length)R.setStyle(x,F);else{if(!sg(x))return R.getStyle(x);for(var m in x)R.setStyle(m,x[m])}return R},fp:function(S,o,l){return this.firePropertyChange(S,o,l)},firePropertyChange:function(d,$,v){if($===v)return!1;var z=this,L={property:d,oldValue:$,newValue:v,data:z};return z._dataModel&&z._dataModel.handleDataPropertyChange(L),z.onPropertyChanged(L),!0},onPropertyChanged:function(){},_21I:function(Y){var b=this;if(Y&&b._dataModel)throw"HT-DM";b._dataModel=Y},getId:function(){return this._id},setId:function(B){this._id=B},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(X,u){return this._children.toList(X,u)},eachChild:function(y,F){this._children.each(y,F)},addChild:function(B,k){var W=this;B!==W&&(W._children===lm&&(W._children=new Eb,W._childMap={}),k===U&&(k=W._children.size()),W._childMap[B._id]||W.isDescendantOf(B)||(B._parent&&B._parent.removeChild(B),(0>k||k>W._children.size())&&(k=W._children.size()),W._children.add(B,k),W._childMap[B._id]=B,B.setParent(W),W.onChildAdded(B,k),W.fp(pm,v,B)))},onChildAdded:function(){},removeChild:function(r){var X=this;if(X._childMap&&X._childMap[r._id]){var f=X._children.remove(r);delete X._childMap[r._id],X.fp(pm,r,v),r.setParent(v),X.onChildRemoved(r,f)}},onChildRemoved:function(){},getChildAt:function(X){return this._children.get(X)},clearChildren:function(){var q=this;if(!q._children.isEmpty())for(var d=0,F=q._children.toArray(),N=F.length;N>d;d++)q.removeChild(F[d])},getParent:function(){return this._parent},setParent:function(I){var A=this;if(!(A._73I||A._parent===I||A===I||I&&I.isDescendantOf(A))){var _=A._parent;A._parent=I,A._73I=1,_&&_.removeChild(A),I&&I.addChild(A),delete A._73I,A.fp("parent",_,I),A.onParentChanged(_,I)}},onParentChanged:function(){},hasChildren:function(){return this._children.size()>0},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(J){return J?this.isDescendantOf(J)||J.isDescendantOf(this):!1},isParentOf:function(N){return N&&this._childMap?!!this._childMap[N._id]:!1},isDescendantOf:function(I){if(!I||I.isEmpty())return!1;for(var A=this._parent;A;){if(I===A)return!0;A=A._parent}return!1},getStyleMap:function(){return this._styleMap},getStyle:function(C,V){V===U&&(V=1);var I=this._styleMap?this._styleMap[C]:U;return I===U&&V?D[C]:I},setStyle:function(y,Y){var O=this;O._styleMap||(O._styleMap={});var g=O._styleMap[y];Y===U?delete O._styleMap[y]:O._styleMap[y]=Y,O.fp("s:"+y,g,Y)&&O.onStyleChanged(y,g,Y)},onStyleChanged:function(){},invalidate:function(){this.fp("*",!1,!0)},toString:function(){var j=this;return j._displayName||j._name||j._tag||j._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(X,z){var i=this,H=i.s(Zn);H||i.s(Zn,H={}),z?H[X]=z:delete H[X],i.fp(Zn,v,H)},removeStyleIcon:function(i){var S=this.s(Zn);if(S){var t=S[i];delete S[i],this.fp(Zn,v,S)}return t},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,tag:1,adjustChildrenToTop:1}},getSerializableStyles:function(){var W,o={};for(W in this._styleMap)o[W]=1;return o}});var Oj=b.DataModel=function(){var Q=this;Q._datas=new Eb,Q._dataMap={},Q._roots=new Eb,Q._rootMap={},Q._78O={},Q._36I=new Ni,Q._35I=new Ni,Q._3o=new Sg(Q)};$m("DataModel",V,{ms_attr:1,sm:function(){return this.getSelectionModel()},mm:function(f,t,G){this.addDataModelChangeListener(f,t,G)},umm:function(s,A){this.removeDataModelChangeListener(s,A)},md:function(H,e,G){this.addDataPropertyChangeListener(H,e,G)},umd:function(f,c){this.removeDataPropertyChangeListener(f,c)},mh:function(g,Q,m){this.addHierarchyChangeListener(g,Q,m)},umh:function(H,V){this.removeHierarchyChangeListener(H,V)},getAttrObject:function(){return this._attrObject},setAttrObject:function(V){return this._attrObject=V},getSelectionModel:function(){return this._3o},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getDataById:function(o){return this._dataMap[o]},removeDataById:function(X){this.remove(this.getDataById(X))},toDatas:function(u,H){return this._datas.toList(u,H)},each:function(p,R){this._datas.each(p,R)},getDataByTag:function(O){return this._78O[O]},removeDataByTag:function(T){this.remove(this.getDataByTag(T))},add:function(O,M){var t=this,i=O._id,q=O._tag,S=t._roots;if(t._dataMap[i])throw"'"+i+"' already exists";q!=v&&(t._78O[q]=O),t._dataMap[i]=O,t._datas.add(O),O._parent||(t._rootMap[i]=O,M>=0?S.add(O,M):S.add(O)),O._21I(t),t.onAdded(O),t._36I.fire({kind:"add",data:O})},onAdded:function(){},remove:function(d){if(d){var Y=this,T=d._id,y=d.getTag();d._dataModel===Y&&(Y.prepareRemove(d),d.toChildren().each(Y.remove,Y),d._parent&&d._parent.removeChild(d),Y._datas.remove(d),delete Y._dataMap[T],y!=v&&delete Y._78O[y],Y._rootMap[T]&&(delete Y._rootMap[T],Y._roots.remove(d)),d._21I(v),Y.onRemoved(d),Y._36I.fire({kind:Uq,data:d}))}},onRemoved:function(){},prepareRemove:function(){},clear:function(){var j=this;j._datas.size()>0&&(j._datas.each(function(H){H._21I(v)}),j._datas.clear(),j._dataMap={},j._roots.clear(),j._rootMap={},j._78O={},j._36I.fire({kind:_q}))},contains:function(z){return z&&z._dataModel===this},handleDataPropertyChange:function(O){var z=this,J=O.data,L=O.property;if("parent"===L){var E=J._id,C=z._rootMap,A=z._roots;J._parent?C[E]&&(delete C[E],A.remove(J)):C[E]||(C[E]=J,A.add(J))}else if("tag"===L){var B=O.oldValue,F=O.newValue,$=z._78O;B!=v&&delete $[B],F!=v&&($[F]=J)}this.onDataPropertyChanged(J,O),this._35I.fire(O)},onDataPropertyChanged:function(){},addDataModelChangeListener:function(A,o,C){this._36I.add(A,o,C)},removeDataModelChangeListener:function(X,R){this._36I.remove(X,R)},addDataPropertyChangeListener:function(z,t,G){this._35I.add(z,t,G)},removeDataPropertyChangeListener:function(j,A){this._35I.remove(j,A)},_38I:function(F,P,O){this._37I&&this._37I.fire({data:F,oldIndex:P,newIndex:O})},addHierarchyChangeListener:function(l,I,A){this._37I||(this._37I=new Ni),this._37I.add(l,I,A)},removeHierarchyChangeListener:function(S,w){this._37I.remove(S,w)},getSiblings:function(I){var g=I._parent;return g?g._children:this._roots},eachByDepthFirst:function(C,T,P){if(T)this._11I(C,T,P);else for(var B=0,Y=this._roots,c=Y.size();c>B;B++)if(this._11I(C,Y.get(B),P)===!1)return},_11I:function(q,S,f){for(var n=S.size(),F=0;n>F;F++)if(this._11I(q,S.getChildAt(F),f)===!1)return!1;if(f){if(q.call(f,S)===!1)return!1}else if(q(S)===!1)return!1;return!0},eachByBreadthFirst:function(R,l,w){var d=new Eb;for(l?d.add(l):this._roots.each(d.add,d);d.size()>0;)if(l=d.removeAt(0),l.eachChild(d.add,d),w){if(R.call(w,l)===!1)return!1}else if(R(l)===!1)return!1;return!0},moveTo:function(j,f){var Q=this.getSiblings(j),B=Q.indexOf(j);B===f||0>B||f>=0&&f<=Q.size()&&(Q.remove(j),f>Q.size()&&f--,Q.add(j,f),this._38I(j,B,f))},moveUp:function(o){this.moveTo(o,this.getSiblings(o).indexOf(o)-1)},moveDown:function(v){this.moveTo(v,this.getSiblings(v).indexOf(v)+1)},moveToTop:function(H){this.moveTo(H,0)},moveToBottom:function(H){this.moveTo(H,this.getSiblings(H).size())},moveSelectionUp:function(k){k||(k=this.sm());var w=new Eb;Nm(k,w,this._roots),w.each(this.moveUp,this)},moveSelectionDown:function(G){G||(G=this.sm());var o=new Eb;Tb(G,o,this._roots),o.each(this.moveDown,this)},moveSelectionToTop:function($){$||($=this.sm());var z=new Eb;js($,z,this._roots),z.each(this.moveToTop,this)},moveSelectionToBottom:function(o){o||(o=this.sm());var C=new Eb;zp(o,C,this._roots),C.each(this.moveToBottom,this)}});var Sg=b.SelectionModel=function(O){var h=this;h._68O=i,h._map={},h._73O=new Eb,h._74I=new Ni,h._21I(O)};$m("SelectionModel",V,{ms_fire:1,ms_dm:1,ms:function(z,w,N){this.addSelectionChangeListener(z,w,N)},ums:function(T,L){this.removeSelectionChangeListener(T,L)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===x},co:function(h){return this._map[h._id]!=v},ss:function(h){this.setSelection(h)},as:function(t){this.appendSelection(t)},rs:function(F){this.removeSelection(F)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(j){var W=this;if(W._68O!==j&&(j===Yi||j===x||j===i)){W.cs();var O=W._68O;W._68O=j,W.fp("selectionMode",O,j)}},_21I:function(s){var p=this,B=p._dataModel;B!==s&&(B&&(p.cs(),B.umm(p.handleDataModelChange,p)),p._dataModel=s,s.mm(p.handleDataModelChange,p,!0),p.fp(jo,B,s))},dispose:function(){var O=this;O.cs(),O._dataModel.umm(O.handleDataModelChange,O)},handleDataModelChange:function(y){var c=this;if(y.kind===Uq){var o=y.data;c.co(o)&&(c._73O.remove(o),delete c._map[o._id],c._75I(Uq,new Eb(o)))}else y.kind===_q&&c.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(S){var C=this;if(C._filterFunc!==S){C.cs();var i=C._filterFunc;C._filterFunc=S,C.fp("filterFunc",i,C._filterFunc)}},_75I:function(M,m,R,Q){R&&(this._73O.each(function(p){Q[p._id]?R.remove(p):R.add(p)}),m=R.toList()),this._74I.fire({kind:M,datas:new Eb(m)})},addSelectionChangeListener:function(R,v,g){this._74I.add(R,v,g)},removeSelectionChangeListener:function(a,T){this._74I.remove(a,T)},_97O:function(L,n){for(var i,H=this,X=0,Z=new Eb(L);X<Z.size();X++)i=Z.get(X),(H._filterFunc&&!H._filterFunc(i)||n&&H.co(i)||!n&&!H.co(i)||!H._dataModel.contains(i))&&(Z.removeAt(X),X--);return Z},appendSelection:function(t){var r=this;if(r._68O!==Yi){var n,w,G=r._73O,S=r._97O(t,!0);S.isEmpty()||(r.sg()&&(n=new Eb(G),w=r._map,G.clear(),r._map={},S=new Eb(S.get(S.size()-1))),S.each(function(V){G.add(V),r._map[V._id]=V}),r._75I("append",S,n,w))}},removeSelection:function(e){var t=this,k=t._97O(e),P=0,d=k.size();if(0!==d){for(;d>P;P++){var J=k.get(P);t._73O.remove(J),delete t._map[J._id]}t._75I(Uq,k)}},toSelection:function(r,d){return this._73O.toList(r,d)},getSelection:function(){return this._73O},each:function(x,V){this._73O.each(x,V)},setSelection:function(J){var w=this,V=w._73O;if(w._68O!==Yi&&!(V.isEmpty()&&!J||1===V.size()&&w.ld()===J)){var X=new Eb(V),e=w._map;V.clear(),w._map={};var G=w._97O(J,!0);w.sg()&&G.size()>1&&(G=new Eb(G.get(G.size()-1))),G.each(function(J){V.add(J),w._map[J._id]=J}),w._75I("set",v,X,e)}},clearSelection:function(){var c=this,f=c._73O;if(f.size()>0){var K=f.toList();f.clear(),c._map={},c._75I(_q,K)}},selectAll:function(){var l=this;if(l._68O!==Yi){var d,b,P=l._dataModel.toDatas();if(l._filterFunc)for(d=0;d<P.size();d++)b=P.get(d),l._filterFunc(b)||(P.removeAt(d),d--);var t=l._73O,V=new Eb(t),W=l._map;t.clear(),l._map={},l.sg()&&P.size()>1&&(P=new Eb(P.get(P.size()-1)));var k=P.size();for(d=0;k>d;d++)b=P.get(d),t.add(b),l._map[b._id]=b;l._75I("all",v,V,W)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(r){return this._map[r._id]!=v},getLastData:function(){var H=this._73O;return H.size()>0?H.get(H.size()-1):v},getFirstData:function(){var h=this._73O;return h.size()>0?h.get(0):v},isSelectable:function(x){var b=this;return x&&b._68O!==Yi?b._filterFunc?b._filterFunc(x):!0:!1}}),sq(e,{edgeGroupAgentFunc:v,graphViewAutoScrollZone:15,graphViewResettable:!0,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:g.rectSelectBorder,graphViewRectSelectBackground:of,graphViewEditPointSize:P?17:7,graphViewEditPointBorderColor:g.editPointBorder,graphViewEditPointBackground:g.editPointBackground,setEdgeType:function(f,j,$){hk[f]=j,qs[f]=$},getEdgeType:function(X){return hk[X]}},!0),sq(D,{"image.stretch":"fill",icons:U,ingroup:!0,"body.color":U,opacity:U,"select.color":Co,"select.width":1,"select.padding":2,"select.shape":Mk,"border.color":U,"border.width":2,"border.padding":2,"border.shape":Mk,label:U,"label.font":U,"label.color":uj,"label.background":U,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":U,"label.max":U,"label.opacity":U,label2:U,"label2.font":U,"label2.color":uj,"label2.background":U,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":U,"label2.max":U,"label2.opacity":U,note:U,"note.expanded":!0,"note.font":U,"note.color":Bh,"note.background":Co,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":U,"note.toggleable":!0,"note.border.width":1,"note.border.color":U,"note.opacity":U,note2:U,"note2.expanded":!1,"note2.font":U,"note2.color":Bh,"note2.background":Co,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":U,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":U,"note2.opacity":U,"group.title.font":U,"group.title.color":Bh,"group.title.background":g.groupTitleBackground,"group.title.align":r,"group.background":g.groupBackground,"group.depth":1,"group.padding":6,"group.position":17,"group.toggleable":!0,shape:U,"shape.background":rf,"shape.border.width":0,"shape.border.color":rf,"shape.border.3d":!1,"shape.border.3d.color":U,"shape.border.3d.accuracy":U,"shape.border.cap":"round","shape.border.join":"round","shape.gradient":v,"shape.gradient.color":"#FFF","shape.depth":0,"shape.pattern":U,"shape.dash":!1,"shape.dash.pattern":kj,"shape.dash.offset":0,"shape.dash.color":Eg,"shape.dash.width":U,"shape.dash.3d":!1,"shape.dash.3d.color":U,"shape.dash.3d.accuracy":U,"shape.polygon.side":6,"shape.arc.from":H,"shape.arc.to":O,"shape.arc.close":!0,"shape.arc.oval":!1,"edge.type":U,"edge.points":U,"edge.segments":U,"edge.color":rf,"edge.width":2,"edge.offset":20,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":U,"edge.3d.accuracy":U,"edge.cap":"butt","edge.join":"round","edge.source.position":17,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.target.position":17,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.pattern":U,"edge.dash":!1,"edge.dash.pattern":kj,"edge.dash.offset":0,"edge.dash.color":Eg,"edge.dash.width":U,"edge.dash.3d":!1,"edge.dash.3d.color":U,"edge.dash.3d.accuracy":U,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":U,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":U,"grid.column.percents":U,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":g.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.block":U,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":"black"},!0),sq(Oj,{_5I:!0,isAutoAdjustIndex:function(){return this._5I
},setAutoAdjustIndex:function(K){this._5I=K},_76I:function(e,w,H){this._39I&&this._39I.fire({data:e,oldIndex:w,newIndex:H})},addIndexChangeListener:function(t,q,Y){var l=this;l._39I||(l._39I=new Ni),l._39I.add(t,q,Y)},removeIndexChangeListener:function(n,S){this._39I.remove(n,S)},prepareRemove:function(P){bs(P)&&(P.setSource(v),P.setTarget(v)),P._70O&&P._70O.toList().each(this.remove,this),P._69O&&P._69O.toList().each(function(X){X.setHost(v)}),P._host&&P.setHost(v)},onAdded:function(U){this.isAutoAdjustIndex()&&this._76O(U)},onDataPropertyChanged:function(I,D){ho[D.property]&&this.isAutoAdjustIndex()&&this._76O(I)},isAdjustable:function(r){return Zk(r)||bs(r)},isAdjustedToBottom:function(r){return qm(r)?r.isExpanded()&&Bq(r):!1},_76O:function(O){var n=this;n.isAdjustedToBottom(O)?(n.sendToBottom(O),O.eachChild(n._76O,n)):n.sendToTop(O)},sendToTop:function(o){var J=this;if(J.contains(o)&&J.isAdjustable(o)){var n=J._datas;if(o!==n.get(J.size()-1)){var t=n.indexOf(o);n.removeAt(t),n.add(o),J._76I(o,t,J.size()-1)}if(bs(o)){var x=o._40I;x&&!J.isAdjustedToBottom(x)&&J.sendToTop(x),x=o._41I,x&&!J.isAdjustedToBottom(x)&&J.sendToTop(x)}o._69O&&o._69O.each(function(D){D.isRelatedTo(o)||Zk(o)&&D.isLoopedHostOn(o)||J.sendToTop(D)}),o.ISubGraph||(!qm(o)||o.isExpanded())&&o._adjustChildrenToTop&&o.eachChild(function(b){bs(b)||J.sendToTop(b)})}},sendToBottom:function(V,b){var y=this;if(V!==b&&y.contains(V)&&y.isAdjustable(V)&&(!b||y.contains(b))){var C=y._datas,d=C.remove(V),c=b?y._datas.indexOf(b):0;if(C.add(V,c),d!==c){y._76I(V,d,c);var L=V._parent;!L||L.ISubGraph||bs(L)||y.sendToBottom(V._parent,V)}}}}),sq(Xi,{ms_edit:function(P){P._46O=function(j){var V=this,s=V._index,B=V._89I,l=V._node,Y=V._shape,x=V._edge,I=V._77I;l&&B?this.fi({kind:"endEditRect",event:j,data:l,direction:B}):Y&&s>=0?V.fi({kind:"endEditPoint",event:j,data:Y,index:s}):x&&s>=0?V.fi({kind:"endEditPoint",event:j,data:x,index:s}):I&&V.fi({kind:"endEditRotation",event:j,data:I})},P._78I=function(h){var X=this;X.autoScroll(h);var e=X.gv.lp(h),s=X._index,f=X._89I,w=X._node,W=X._shape,i=X._edge,L=X._77I;if(w&&f)X._80O(e),X.fi({kind:"betweenEditRect",event:h,data:w,direction:f});else if(W&&s>=0)W.setPoint(s,e),X.fi({kind:"betweenEditPoint",event:h,data:W,index:s});else if(i&&s>=0){var m=i.s(Ih);m.set(s,e),i.fp(Ih,v,m),X.fi({kind:"betweenEditPoint",event:h,data:i,index:s})}else if(L){var S=L.p(),o=E+Y(e.y-S.y,e.x-S.x);y(o)<.04&&(o=0),L.setRotation(o),X.fi({kind:"betweenEditRotation",event:h,data:L})}},P._80O=function(A){var e=this,F=e._rect,R=F.x,d=F.y,s=F.width,_=F.height,Z=e._89I;"northwest"===Z?F=vn(A,{x:R+s,y:d+_}):Z===An?F=vn({x:R,y:A.y},{x:R+s,y:d+_}):"northeast"===Z?F=vn({x:R,y:A.y},{x:A.x,y:d+_}):Z===Vp?F=vn({x:A.x,y:d},{x:R+s,y:d+_}):Z===bl?F=vn({x:R,y:d},{x:A.x,y:d+_}):"southwest"===Z?F=vn({x:A.x,y:d},{x:R+s,y:A.y}):"south"===Z?F=vn({x:R,y:d},{x:R+s,y:A.y}):"southeast"===Z&&(F=vn({x:R,y:d},A)),e._node.setRect(F)},P._80I=function(x,B,L,X,j){var U=this,S=U.gv.getEditPointSize()+2;return Jm({x:B-S/2,y:L-S/2,width:S,height:S},x)?(U._89I!==X&&(U.setCursor(j),U._89I=X),!0):!1},P._79I=function(Y,n,E){var W=this,N=W.gv,S=n?N.getDataUI(n):v,f=S?S._55O:v;if(f){var m,F,M,D=N.getEditPointSize()+2,i=N.lp(Y);if(Zk(n)){if(f._56O&&Zk(n)&&(F=f._98o,Jm({x:F.x-D/2,y:F.y-D/2,width:D,height:D},i)))return W._77I=n,E&&W.fi({kind:"beginEditRotation",event:Y,data:n}),W.setCursor("crosshair"),!0;if(f._43O&&n instanceof Dk)for(M=n.getPoints(),m=M.size()-1;m>=0;m--)if(F=M.get(m),Jm({x:F.x-D/2,y:F.y-D/2,width:D,height:D},i))return W._index=m,W._shape=n,E&&W.fi({kind:"beginEditPoint",event:Y,data:n,index:m}),W.setCursor("crosshair"),!0;if(f._42O){var q=n.getRect(),k=q.x,Q=q.y,T=q.width,e=q.height;if(W._80I(i,k,Q,"northwest","nwse-resize")||W._80I(i,k+T/2,Q,An,sm)||W._80I(i,k+T,Q,"northeast","nesw-resize")||W._80I(i,k,Q+e/2,Vp,xn)||W._80I(i,k+T,Q+e/2,bl,xn)||W._80I(i,k,Q+e,"southwest","nesw-resize")||W._80I(i,k+T/2,Q+e,"south",sm)||W._80I(i,k+T,Q+e,"southeast","nwse-resize"))return W._node=n,W._rect=n.getRect(),E&&W.fi({kind:"beginEditRect",event:Y,data:n,direction:W._89I}),!0}}if(f._43O&&bs(n)&&n.s(Zc)===fd&&(M=n.s(Ih)))for(m=M.size()-1;m>=0;m--)if(F=M.get(m),Jm({x:F.x-D/2,y:F.y-D/2,width:D,height:D},i))return W._index=m,W._edge=n,E&&W.fi({kind:"beginEditPoint",event:Y,data:n,index:m}),W.setCursor("crosshair"),!0}return!1}},ms_gv:function(g){g._currentSubGraph=v,g.upSubGraph=function(){this.setCurrentSubGraph(Wd(this._currentSubGraph))},g.getOpacity=function(N){return N.s("opacity")},g.isVisible=function(J){var G=this;if(Wd(J)!==G._currentSubGraph)return!1;if(bs(J)){var B=J._40I,q=J._41I;if(!B||!q)return!1;if(!G.isVisible(B)||!G.isVisible(q))return!1;if(J.isEdgeGroupHidden())return!1}else for(var $=J._parent;$&&!$.ISubGraph;){if(qm($)&&(!$.isExpanded()||!G.isVisible($)))return!1;$=$._parent}return G._visibleFunc?G._visibleFunc(J):!0},g.handleDataPropertyChange=function(o){this.invalidateData(o.data)},g._16o=function(V){var Q=this;V.datas.each(function(g){Q.invalidateData(g);var U=g._parent;qm(U)&&Zk(g)&&g.s(Xo)&&(Q.invalidateData(U),U._49I&&U._49I.each(function(C){Q.invalidateData(C)}))}),Q.onSelectionChanged(V)},g.onSelectionChanged=function($){var G=this,X=G.sm();if(1===X.size()&&("set"===$.kind||"append"===$.kind)){var u=X.ld();G.isAutoMakeVisible()&&G.makeVisible(u),G._76O&&G._dataModel.isAutoAdjustIndex()&&G._76O(u)}},g.makeVisible=function(z){if(z){var v=this,d=v.getDataUI?v.getDataUI(z):v.getData3dUI(z);if(d){var l=z,G=Wd(z);for(G!==v._currentSubGraph&&v.setCurrentSubGraph(G);(l=l._parent)&&l!==G;)qm(l)&&l.setExpanded(!0);v._23I=z,v.iv()}}},g.getLabel=function(C){var N=C.getStyle(Am);return N===U?C.getName():N},g.getLabelBackground=function(Z){return Z.getStyle("label.background")},g.getLabelColor=function(V){return V.getStyle("label.color")},g.getLabel2=function(i){return i.getStyle("label2")},g.getLabel2Background=function(r){return r.getStyle("label2.background")},g.getLabel2Color=function(d){return d.getStyle("label2.color")},g.getNote=function(h){return h.getStyle(fr)},g.getNoteBackground=function(J){return J.getStyle("note.background")},g.getNote2=function(U){return U.getStyle(gm)},g.getNote2Background=function(D){return D.getStyle("note2.background")},g.handleClick=function(d,n,_){var w=this;n?(w.fi({kind:"clickData",event:d,data:n,part:_}),w.onDataClicked(n,d)):(w.fi({kind:"clickBackground",event:d}),w.onBackgroundClicked(d))},g.handleDoubleClick=function(T,m,s){var c=this;Mm(T)&&(m?(c.fi({kind:"doubleClickData",event:T,data:m,part:s}),c.onDataDoubleClicked(m,T,s),c.checkDoubleClickOnNote(T,m,s)||c.checkDoubleClickOnRotation&&c.checkDoubleClickOnRotation(T,m,s)||(bs(m)?c.onEdgeDoubleClicked(m,T,s):m.ISubGraph?c.onSubGraphDoubleClicked(m,T,s):qm(m)?c.onGroupDoubleClicked(m,T,s):m.IDoorWindow?c.onDoorWindowDoubleClicked(m,T,s):m.ICSGBox&&c.onCSGBoxDoubleClicked(m,T,s))):(c.fi({kind:"doubleClickBackground",event:T}),c.onBackgroundDoubleClicked(T)))},g.onSubGraphDoubleClicked=function(Y){this.setCurrentSubGraph(Y)},g.onEdgeDoubleClicked=function(I,W){I.ISubGraph&&!Zr(W)?this.setCurrentSubGraph(I):I.s("edge.toggleable")&&I.toggle()},g.onGroupDoubleClicked=function(r){r.s("group.toggleable")&&r.toggle()},g.onDoorWindowDoubleClicked=function(G){G.s("dw.toggleable")&&G.toggle(!0)},g.onCSGBoxDoubleClicked=function(f,k){var Y=this;if(Y instanceof qb){var V=Y.getHitFaceInfo(k);V&&V.face&&f.s(V.face+".toggleable")&&f.toggleFace(V.face,!0)}},g.onBackgroundClicked=function(){},g.onBackgroundDoubleClicked=function(){this.upSubGraph()},g.onDataClicked=function(){},g.onDataDoubleClicked=function(){},g.onAutoLayoutEnded=function(){},g.onMoveEnded=function(){},g.onPanEnded=function(){},g.onPinchEnded=function(){},g.onRectSelectEnded=function(){},g.onZoomEnded=function(){}},ms_icons:function(R){R.getRotation=function(P){return P==v?0:P},R._15O=function(){var U=this,T=U.s(Zn);if(T){var s=U._38o={icons:T,rects:{}};for(var R in T){var r=T[R];if(r.visible!==!1&&(!r.for3d||U.I3d)){var t=r.names,o=t.length,V=r.position||3,Q=r.offsetX||0,L=r.offsetY||0,w=r.direction||bl,X=r.gap!=v?r.gap:1,x=U.getRotation(r.rotation,r.keepOrien,V),z=v,n=s.rects[R]=new Array(o),H=U._data;n.rotation=x;for(var e=0;o>e;e++){var C,Z,D=t[e],p=mc(D),i=r.width||Ri(p,H),O=r.height||ie(p,H);if(z?w===bl?Q+=i/2:w===Vp?Q-=i/2:w===An?L-=O/2:L+=O/2:z={width:i,height:O},U.I3d){var P=-i/2,u=-O/2;Z={width:i,height:O,mat:U._16O(r.autorotate,V,z,r.face||m,r.t3,r.r3,r.rotationMode,Q,L,x),vs:new Mg([P,-u,0,P,-u-O,0,P+i,-u-O,0,P+i,-u,0])}}else C=U.getPosition(V,Q,L,z,r.positionFixed),Z={x:C.x-i/2,y:C.y-O/2,width:i,height:O},U._68o(Z,x);n[e]=Z,w===bl?Q+=i/2+X:w===Vp?Q-=i/2+X:w===An?L-=O/2+X:L+=O/2+X}}}}}}});var $k={1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1},hh={3:1,7:1,11:1,17:1,23:1,27:1,31:1},Sr={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},ho={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},Qd={position:1,width:1,height:1,expanded:1,rotation:1},$d={"edge.type":1,"edge.group":1},Om={rotation:1,rotationX:1,rotationZ:1},pj={position:1,width:1,height:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},Pe={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},Vq={shape:1,thickness:1,position:1},Zh=function(R,r){if(!R||!qm(r)||r.isEmpty())return!1;for(R=R._parent;qm(R);){if(R===r)return!0;R=R._parent}return!1},Wd=function(P){if(!P)return v;if(bs(P)){var q=P._40I,W=P._41I;if(!q||!W)return v;var A=Wd(q),u=Wd(W);return A===u?A:v}for(var p=P._parent;bs(p)&&!p.ISubGraph;)p=p._parent;return p?p.ISubGraph?p:Wd(p):v},Yo=function(C,J,j,G){var L=J.getStyle(j)*G;L&&gg(C,L),L=J.getStyle(j+".left")*G,L&&(C.x-=L,C.width+=L),L=J.getStyle(j+".right")*G,L&&(C.width+=L),L=J.getStyle(j+".top")*G,L&&(C.y-=L,C.height+=L),L=J.getStyle(j+".bottom")*G,L&&(C.height+=L),C.width<0&&(C.width=-C.width,C.x-=C.width),C.height<0&&(C.height=-C.height,C.y-=C.height)},Bq=function(J){for(var x,O=0,R=J.size();R>O;O++)if(x=J.getChildAt(O),Zk(x)&&Bq(x))return!0;return J.hasAgentEdges()},Uo=function(r){if(!r)return v;for(var F=r._parent;qm(F);){if(!qm(F._parent))return F.isExpanded()?r:F;F.isExpanded()||(r=F),F=F._parent}return r},pb=function(Q,c){if(!Q||!c)return v;var Y,B,N,X=Wd(Q),M=Wd(c);if(X!==M){for(;M&&X!==M;)M=Wd(M);if(X===M)return Q;Y=new Eb,Y.add(Q,0);for(var r=Q._parent;Zk(r)&&!c.isDescendantOf(r);)Y.add(r,0),r=r._parent;for(N=Y.size(),B=0;N>B;B++){var s=Y.get(B);if(qm(s)&&!s.isExpanded())return s;if(s.ISubGraph)return s}return Q}return Q},qk=function(V){if(V.isLooped())return V._source;var w=Uo(V._source),u=Uo(V._target);return w===u?V._source:pb(w,u)},Zj=function(g){if(g.isLooped())return g._target;var I=Uo(g._source),G=Uo(g._target);return I===G?g._target:pb(G,I)},Jq=function(o,J){var X;if(qm(J)&&J.isExpanded()){var h=o.getDataUI(J);h&&h._88I&&(X=h._88I.rect)}return X?X:J.getRect()},Fq=function(e,d,V,b,T){return d?(V=li(V,Jq(e,d)),V.x+=b,V.y+=T,V):v},lf=function(h,P){if(!h||!P)return v;var x,J,D,q,u,i;if(h===P){if(q=h.getLoopedEdges(),!q)return v;q=new Eb(q)}else{if(u=h.getAgentEdges(),i=P.getAgentEdges(),!u||!i)return v;for(J=u.size(),x=0;J>x;x++)D=u.get(x),i.contains(D)&&(q||(q=new Eb),q.add(D))}if(q)for(x=0;x<q.size();x++)D=q.get(x),D.getStyle(Zc)===fd&&(D._22I(v),q.removeAt(x),x--);return q},Cj=function(y,L){var K=lf(y,L);if(K&&!K.isEmpty()){if(1===K.size())return K.get(0)._22I(v),void 0;var D=new Eb,r=new Eb;K.each(function(V){var m=V.s("edge.group");D.contains(m)||D.add(m)}),D.sort(),D.each(function(s){r.add(new b.EdgeGroup(K.toList(function(g){return s===g.s("edge.group")}),r))}),r.each(function($){$.each(function(k){k._22I($)})})}},Ko=function(N,X){if(X){var w=X.rect,s=X.color,M=X.rotation,R=X.labelWidth,t=X.background,Z=X.opacity;if(Z!=v){var O=N.globalAlpha;N.globalAlpha*=Z}if(M){N.save();var x=w.x+w.width/2,p=w.y+w.height/2;zr(N,x,p),lc(N,M),zr(N,-x,-p)}if(t&&mg(N,w.x,w.y,w.width,w.height,t),R){var h=w.width,G=N.createLinearGradient(w.x,w.y,w.x+h,w.y);G.addColorStop(0,s),G.addColorStop(.9,s),G.addColorStop(1,km),s=G,w.width=R}gr(N,X.label,w,X.font,s),R&&(w.width=h),M&&N.restore(),Z!=v&&(N.globalAlpha=O)}},Bj=function(T,a){if(a){var C=a.rect,V=C.x,x=C.y,k=C.width,g=C.height,u=a.background,n=a.borderWidth,G=a.borderColor,X=a.labelWidth,p=a.opacity;if(p!=v){var e=T.globalAlpha;T.globalAlpha*=p}if(a.expanded){var s=I(8,k/4),l=x+g-8;if(T.fillStyle=u,T.beginPath(),T.moveTo(V,x),T.lineTo(V,l),T.lineTo(V+k/2,l),T.lineTo(V+k/2,x+g),T.lineTo(V+k/2+s,l),T.lineTo(V+k,l),T.lineTo(V+k,x),T.closePath(),T.fill(),n&&(T.lineWidth=n,T.strokeStyle=G?G:gq(u),T.beginPath(),T.moveTo(V+k,x),T.lineTo(V,x),T.lineTo(V,l),T.lineTo(V+k/2,l),T.lineTo(V+k/2,x+g),T.stroke(),T.strokeStyle=G?G:Lj(u),T.beginPath(),T.moveTo(V+k,x),T.lineTo(V+k,l),T.lineTo(V+k/2+s,l),T.lineTo(V+k/2,x+g),T.stroke()),C.height-=8,u=a.color,X){var M=k,Q=T.createLinearGradient(V,x,V+M,x);Q.addColorStop(0,u),Q.addColorStop(.9,u),Q.addColorStop(1,km),u=Q,C.width=X}gr(T,a.note,C,a.font,u),X&&(C.width=M),C.height+=8}else{var N=k/2;n&&(T.lineWidth=n,T.strokeStyle=G?G:gq(u),T.beginPath(),T.arc(V+N,x+N,N,1.6*H,E,!0),T.moveTo(V+N,x+g),T.lineTo(V+N/5,x+N),T.stroke(),T.strokeStyle=G?G:Lj(u),T.beginPath(),T.arc(V+N,x+N,N,E,1.6*H,!0),T.moveTo(V+N,x+g),T.lineTo(V+k-N/5,x+N),T.stroke()),T.fillStyle=u,T.beginPath(),T.arc(V+N,x+N,N,0,O,!0),T.moveTo(V+N,x+g),T.lineTo(V+k-N/5,x+N),T.lineTo(V+N/5,x+N),T.closePath(),T.fill(),T.fillStyle=a.color,T.beginPath(),T.arc(V+N,x+N,N/3,0,O,!0),T.fill()}p!=v&&(T.globalAlpha=e)}},_g=function(r){var m=r.size(),c=m/2;if(0===m%2){var s=r.get(c-1),G=r.get(c);return{x:(s.x+G.x)/2,y:(s.y+G.y)/2}}var h=r.get(o(c));return{x:h.x,y:h.y}},uc=function(m,v,U){if(!m||!v)return 0;var F=Y(v.y-m.y,v.x-m.x);return U||(F=v.x<m.x?F+H:F),F},Le=b.graph={},ro=function(I,n,F){Qq(G+".graph."+I,n,F)};b.layout={};var hp={comps:[{type:$e,points:[85,50,70,115,100,71,86,107,88,49,56,70,122,117,114,116,77,49,102,121,55,87,110,85,83,70,106,43,43,109,68,112,106,78,107,53,116,75,114,114,54,67,54,85,81,56,66,99,114,119,43,43,47,115,99,112,84,121,57,71,122,77,67,57,107,85,103,89,69,74,66,100,51,81,97,79,99,117,75,100,79,67,109,87,77,81,61,61],borderWidth:1,borderColor:v}]};hp[qg]=hp[Oo]=160,Xq("node_image",jb(30,30,[{type:Mk,rect:[4,5,22,16],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[2,3,26,20],borderWidth:1,borderColor:rf},{type:Mk,rect:[11,23,8,4],background:rf},{type:Mk,rect:[6,27,18,2],background:rf}])),Xq("node_icon",jb(16,16,[{type:Mk,rect:[2,2,12,10],gradient:zn,gradientColor:Jl,background:rf},{type:wp,rect:[2,2,12,10],width:1,color:rf},{type:Mk,rect:[6,12,4,2],background:rf},{type:Mk,rect:[4,14,8,1],background:rf}])),Xq("group_image",jb(66,39,[{type:Mk,rect:[44.3,18,18.1,12.8],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[3.3,17.8,18.1,12.8],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[26.2,29.4,12.8,4.2],background:rf},{type:Mk,rect:[21.3,33.5,22.5,2.3],background:rf},{type:Mk,rect:[5.3,32.7,14.1,2.1],background:rf},{type:Mk,rect:[9,30.4,6.7,2.4],background:rf},{type:Mk,rect:[50,30.7,6.7,2.4],background:rf},{type:Mk,rect:[46.3,33,14.1,2.1],background:rf}])),Xq("group_icon",jb(16,16,[{type:Mk,rect:[4,12,4,2],background:rf},{type:Mk,rect:[2,13,8,1],background:rf},{type:Mk,rect:[12,12,2,1],background:rf},{type:Mk,rect:[11,13,4,1],background:rf},{type:Mk,rect:[10,7,6,5],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[1,2,10,10],gradient:zn,gradientColor:Jl,background:rf},{type:wp,rect:[1,2,10,10],width:1,color:rf}])),Xq("edge_icon",jb(16,16,[{type:Mk,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[10.8,1,4,4],background:rf},{type:Mk,rect:[1,11,4,4],background:rf}])),Xq("subGraph_image",jb(72,45,[{type:$e,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[29.6,30.7,3.6,1.8],background:rf},{type:Mk,rect:[28.4,32.3,6,1.2],background:rf},{type:Mk,rect:[37.3,32,10.8,1.8],background:rf},{type:Mk,rect:[39.1,29.9,7.2,2.3],background:rf},{type:Mk,rect:[26.6,23.7,9.6,7.2],gradient:zn,gradientColor:Jl,background:rf},{type:Mk,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf}])),Xq("subGraph_icon",jb(17,17,[{type:$e,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:zn,gradientColor:Jl,background:rf}])),Xq("shape_icon",jb(16,16,[{type:$e,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:rf},{type:Im,rect:[7.5,.4,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Im,rect:[7.6,6.3,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Im,rect:[13.6,6.4,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Im,rect:[13.7,14,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Im,rect:[.7,13.9,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf},{type:Im,rect:[.7,.3,1.6,1.6],borderWidth:1,borderColor:rf,gradient:zn,gradientColor:Jl,background:rf}])),Xq("grid_icon",jb(16,16,[{type:Mk,rect:[1,1,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[6,1,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[11,1,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[11,6,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[6,6,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[1,6,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[11,11,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[6,11,4,4],background:rf,gradient:zn,gradientColor:Jl},{type:Mk,rect:[1,11,4,4],background:rf,gradient:zn,gradientColor:Jl}]));var wj=b.Node=function(){Cq(wj,this)},sb={X:im,Y:jh,Z:Kq},Hi={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},hm="xzy",Jr=function(n,I,U){if(I){var m=I[0],l=I[1],Y=I[2];"xzy"===U?(jh(n,l),Kq(n,Y),im(n,m)):"xyz"===U?(Kq(n,Y),jh(n,l),im(n,m)):"yxz"===U?(Kq(n,Y),im(n,m),jh(n,l)):"yzx"===U?(im(n,m),Kq(n,Y),jh(n,l)):"zxy"===U?(jh(n,l),im(n,m),Kq(n,Y)):"zyx"===U?(im(n,m),jh(n,l),Kq(n,Y)):(jh(n,l),Kq(n,Y),im(n,m))}};$m("Node",ko,{ms_ac:["rotationMode","tall"],_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:hm,_64O:0,_rotationX:0,_53O:0,_host:v,_position:{x:0,y:0},_tall:20,_54O:0,getUIClass:function(){return On},_22Q:function(){return hd},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),void 0)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),void 0)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),void 0)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),void 0)},t3:function(){this.translate3d.apply(this,arguments)},translate3dBy:function(H,i){Pn(H,so(v,v,this.r3(),this.getRotationMode())),this.translate3d(H[0]*i,H[1]*i,H[2]*i)},translateFront:function(m){this.translate3dBy([0,0,1],m)},translateBack:function(Q){this.translate3dBy([0,0,-1],Q)},translateLeft:function(J){this.translate3dBy([-1,0,0],J)},translateRight:function(c){this.translate3dBy([1,0,0],c)},translateTop:function($){this.translate3dBy([0,1,0],$)},translateBottom:function(N){this.translate3dBy([0,-1,0],N)},getPosition3d:function(){var l=this.p();return[l.x,this.getElevation(),l.y]},setPosition3d:function(d,e,j){1===arguments.length&&(e=d[1],j=d[2],d=d[0]),this.p(d,j),this.setElevation(e)},translate3d:function(j,Y,h){1===arguments.length&&(Y=j[1],h=j[2],j=j[0]),this.translate(j,h),this.setElevation(this.getElevation()+Y)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(Z,V,M){1===arguments.length&&(V=Z[1],M=Z[2],Z=Z[0]),this.setSize(Z,M),this.setTall(V)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(H,u,e){1===arguments.length&&(u=H[1],e=H[2],H=H[0]),this.setRotationX(H),this.setRotation(-u),this.setRotationZ(e)},setRotationY:function(x){this.setRotation(-x)},getRotationY:function(){return-this._64O},getLoopedEdges:function(){return this._45I},getEdges:function(){return this._70O},getAgentEdges:function(){return this._49I},getHost:function(){return this._host},setHost:function(Y){var o=this;if(o!==Y&&o._host!==Y){var A=o._host;A&&A._removeAttach(o),o._host=Y,o._host&&o._host._addAttach(o),o.fp("host",A,Y),o.onHostChanged(A,Y)}},getAttaches:function(){return this._69O},_addAttach:function(E){var D=this;D._69O||(D._69O=new Eb),D._69O.add(E),D.fp("attaches",v,E)},_removeAttach:function(D){var H=this;H._69O.remove(D),H._69O.isEmpty()&&delete H._69O,H.fp("attaches",D,v)},getSourceEdges:function(){return this._42I},getTargetEdges:function(){return this._43I},_2I:function(Y){var V=this;V._44I||(V._44I=new Eb),V._42I||(V._42I=new Eb),V._44I.add(Y),V._42I.add(Y),V._20I()},_4I:function(u){var d=this;d._44I||(d._44I=new Eb),d._43I||(d._43I=new Eb),d._44I.add(u),d._43I.add(u),d._20I()},_16I:function(c){var H=this;H._44I.remove(c),H._42I.remove(c),H._44I.isEmpty()&&delete H._44I,H._42I.isEmpty()&&delete H._42I,H._20I()},_18I:function(b){var _=this;_._44I.remove(b),_._43I.remove(b),_._44I.isEmpty()&&delete _._44I,_._43I.isEmpty()&&delete _._43I,_._20I()},_20I:function(){var e=this;if(delete e._45I,!e._44I||e._44I.isEmpty())return delete e._70O,void 0;var F;e._44I.each(function(w){w.isLooped()&&(F||(F={}),F[w._id]||(e._45I||(e._45I=new Eb),e._45I.add(w),F[w._id]=w))}),F?(e._70O=new Eb,e._44I.each(function(S){F[S._id]?"A"===F[S._id]||(F[S._id]="A",e._70O.add(S)):e._70O.add(S)})):e._70O=e._44I},hasAgentEdges:function(){return!!this._49I&&!this._49I.isEmpty()},getSourceAgentEdges:function(){return this._46I},getTargetAgentEdges:function(){return this._47I},_1I:function(Q){var r=this;r._46I||(r._46I=new Eb),r._48I||(r._48I=new Eb),r._46I.add(Q),r._48I.add(Q),r._19I()},_3I:function(g){var C=this;C._47I||(C._47I=new Eb),C._48I||(C._48I=new Eb),C._47I.add(g),C._48I.add(g),C._19I()},_15I:function(u){var f=this;f._46I.remove(u),f._48I.remove(u),f._46I.isEmpty()&&delete f._46I,f._48I.isEmpty()&&delete f._48I,f._19I()},_17I:function(X){var u=this;u._47I.remove(X),u._48I.remove(X),u._47I.isEmpty()&&delete u._47I,u._48I.isEmpty()&&delete u._48I,u._19I()},_19I:function(){var X=this;delete X._49I;var d=X._48I;if(d&&!d.isEmpty()){var c={};d.each(function(u){c[u._id]?X._49I||(X._49I=new Eb):c[u._id]=u}),X._49I?d.each(function(I){c[I._id]&&(X._49I.add(I),delete c[I._id])}):X._49I=d}},getImage:function(){return this._image},setImage:function(H){var R=this,r=R._image,O=R.getWidth(),W=R.getHeight();R._image=H,R.fp("image",r,H),R.fp(qg,O,R.getWidth()),R.fp(Oo,W,R.getHeight())},getElevation:function(){return this._54O},setElevation:function(T){var e=this;if(!e._50O){e._50O=1;var U=e._54O;e._54O=T,e.fp(Wr,U,T),delete this._50O}},getRotation:function(){return this._64O},setRotation:function(y){var S=this;if(!S._49O){S._49O=1;var m=S._64O;S._64O=y,S.fp(cg,m,y),delete S._49O}},getRotationX:function(){return this._rotationX},setRotationX:function(q){var L=this;if(!L._51O){L._51O=1;var k=L._rotationX;L._rotationX=q,L.fp("rotationX",k,q),delete L._51O}},getRotationZ:function(){return this._53O},setRotationZ:function(s){var B=this;if(!B._52O){B._52O=1;var K=B._53O;B._53O=s,B.fp("rotationZ",K,s),delete B._52O}},getPosition:function(){return this._position},setPosition:function(F,k){var S=this;if(!S._50I){S._50I=1;var e;if(e=2===arguments.length?{x:F,y:k}:F,e.x!==S._position.x||e.y!==S._position.y){var T=S._position;S._position=e,S.fp(Ln,T,e)}delete S._50I}},translate:function(a,K){var B=this._position;this.p(B.x+a,B.y+K)},getWidth:function(){var I=this;if(I._width>=0)return I._width;var h=mc(I._image);return h?Ri(h,I):20},setWidth:function(d){var H=this,f=H._width;H._width=d,H.fp(qg,f,d)},getHeight:function(){var o=this;if(o._height>=0)return o._height;var i=mc(o._image);return i?ie(i,o):20},setHeight:function(t){var k=this,u=k._height;k._height=t,k.fp(Oo,u,t)},setSize:function(M,t){var G=this;2===arguments.length?(G.setWidth(M),G.setHeight(t)):(G.setWidth(M.width),G.setHeight(M.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(c,Q,u,F){var x=this;1===arguments.length?(x.p(c.x+c.width/2,c.y+c.height/2),x.setWidth(c.width),x.setHeight(c.height)):(x.p(c+u/2,Q+F/2),x.setWidth(u),x.setHeight(F))},getRect:function(){var P=this,n=P.getWidth(),i=P.getHeight();return Ci({x:P._position.x-n/2,y:P._position.y-i/2,width:n,height:i},P._64O)},getCorners:function(L,x){L==v&&(L=0),x==v&&(x=L);var Y=this,O=Y._position,Z=Y.getWidth()/2+L,r=Y.getHeight()/2+x,u=new Fe(Y._64O,O.x,O.y);return[u.tf(-Z,-r),u.tf(Z,-r),u.tf(Z,r),u.tf(-Z,r)]},rotateAt:function(P,H,R){var n=this,x=n._position,_=n._64O,y=new Fe(_,x.x,x.y).tf(P,H),l=t(P*P+H*H),f=Y(x.y-y.y,x.x-y.x)+R;n.setRotation(_+R),n.p(y.x+l*h(f),y.y+l*a(f))},onParentChanged:function(){wj.superClass.onParentChanged.apply(this,arguments),this._8I()},_8I:function(){this._70O&&this._70O.each(function(f){f._7I()})},onPropertyChanged:function(z){var M=this,n=M._parent,b=z.property;wj.superClass.onPropertyChanged.call(M,z),M._69O&&M._69O.each(function(w){w.handleHostPropertyChange(z)}),qm(n)&&((M.s(Xo)&&Qd[b]||"s:ingroup"===b)&&n._81I(),(M.s(Xo)||"s:ingroup"===b)&&n.fp("childChange",!0,!1)),M._49I&&M._49I.each(function(J){J.fp("agentChange",!0,!1)})},onHostChanged:function(){this.updateAttach()},handleHostPropertyChange:function(r){this.updateAttach(r)},onStyleChanged:function(C){wj.superClass.onStyleChanged.apply(this,arguments),Pe[C]&&this.updateAttach()},updateAttach:function(H){var t=this;t._51I||jn||(t._51I=1,t._71O(H),delete t._51I)},_71O:function(U){var m,K,Z,x,S,R,M=this,g=M._host,k=U?U.property:v,P=U?U.oldValue:v,N=U?U.newValue:v;if(g instanceof Db){if(k===Wr)M.setElevation(M.getElevation()+N-P);else if(!U||pj[k]){if(m=M.s("attach.row.index"),K=M.s("attach.column.index"),Z=g.getCellRect(m,K),!Z)return;x=M.s("attach.row.span"),S=M.s("attach.column.span"),(1!==x||1!==S)&&(Z=Nr(Z,g.getCellRect(m+x-1,K+S-1))),Yo(Z,M,"attach.padding",1),M.setRect(Z)}}else if(g instanceof Dk&&(R=M.s("attach.index"))>=0&&(!U||Vq[k])){var G=M.s("attach.thickness");G!=v&&M.setHeight(g.getThickness()*G);var f=M.s("attach.offset"),w=g.getPoints(),X=w.size();if(X>R){var p=w.get(R),B=X===R+1?w.get(0):w.get(R+1),s=[B.x-p.x,B.y-p.y],V=Lp(s);if(V){M.s("attach.offset.relative")&&(f*=V),M.s("attach.offset.opposite")&&(f=V-f);var W={x:p.x+s[0]/V*f,y:p.y+s[1]/V*f},$=M.s("attach.gap");$&&(M.s("attach.gap.relative")&&($*=g.getThickness()),W=$r(v,W,B,$)),M.p(W),M.setRotation(Y(s[1],s[0]))}}}else U&&(k===Ln?M.translate(N.x-P.x,N.y-P.y):k===Wr?M.setElevation(M.getElevation()+N-P):Om[k]&&M._11Q(g,k,N-P))},_11Q:function(_,P,A){var x=this,B=_.p3(),l=jf(x.p3(),B),z=jl(),M=Hi[x.getRotationMode()],u=M[0],m=M[1],T=M[2],h=sb[u],v=sb[m],O=sb[T];P===cg&&(P="rotationY",A=-A),P===cg+u?(O(z,_[Hk+T]()),v(z,_[Hk+m]()),h(z,A),v(z,-_[Hk+m]()),O(z,-_[Hk+T]()),x[Gl+u](x[Hk+u]()+A)):P===cg+m?(O(z,_[Hk+T]()),v(z,A),O(z,-_[Hk+T]()),x[Gl+m](x[Hk+m]()+A)):P===cg+T&&(O(z,A),x[Gl+T](x[Hk+T]()+A)),Pn(l,z),x.p3(B[0]+l[0],B[1]+l[1],B[2]+l[2])},isHostOn:function(y){var O=this;if(O._host&&y&&y._69O)for(var v={},m=O._host;m&&m!==O&&!v[m._id];){if(m===y)return!0;v[m._id]=m,m=m._host}return!1},isLoopedHostOn:function(t){return this.isHostOn(t)&&t.isHostOn(this)},getSerializableProperties:function(){var O=wj.superClass.getSerializableProperties.call(this);return sq(O,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,width:1,height:1,tall:1,elevation:1}),O}});var _f=b.Edge=function(a,F){var C=this;Cq(_f,C),C.setSource(a),C.setTarget(F)};$m("Edge",ko,{_icon:"edge_icon",getUIClass:function(){return Qm},_22Q:function(){return Bp},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},setSource:function(s){var r=this;if(r._source!==s){var y=r._source;r._source=s,y&&y._16I(r),s&&s._2I(r),r._7I(),r.fp("source",y,s)}},setTarget:function(R){var m=this;if(m._target!==R){var c=m._target;m._target=R,c&&c._18I(m),R&&R._4I(m),m._7I(),m.fp("target",c,R)}},isLooped:function(){var q=this;return q._source===q._target&&!!q._source&&!!q._target},_7I:function(){var H,b=this,$=qk(b);b._40I!==$&&(H=this._40I,H&&H._15I(b),b._40I=$,$&&$._1I(b),b.fp("sourceAgent",H,$),Cj(H,b._41I),Cj($,b._41I));var M=Zj(b);b._41I!==M&&(H=b._41I,H&&H._17I(b),b._41I=M,M&&M._3I(b),b.fp("targetAgent",H,M),Cj(H,b._40I),Cj(M,b._40I))},_22I:function(o){this._52I=o,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){var f=this;return f._52I&&f._52I.get(0)!==f&&!f.getStyle(xo)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var m=this,d=m._52I;return d&&!m.getStyle(xo)&&d.size()>1&&m===d.get(0)},toggle:function(){var N=this._52I,r=!this.s(xo);N&&N.size()>1&&(N.each(function(X){X.s(xo,r)}),N.getSiblings().each(function(U){U!==N&&U.each(function(V){V.fp("edgeGroup",v,U)})}))},setStyle:function(M,m){(M===Ih||"edge.segments"===M)&&(m=Un(m)),_f.superClass.setStyle.call(this,M,m)},onStyleChanged:function(E){_f.superClass.onStyleChanged.apply(this,arguments),$d[E]&&Cj(this._41I,this._40I)},getSerializableProperties:function(){var W=_f.superClass.getSerializableProperties.call(this);return sq(W,{source:1,target:1}),W}});var kf=b.Group=function(){Cq(kf,this)};$m("Group",wj,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return Fk},onChildAdded:function(){kf.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(){kf.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var I=this;if(!I._54I&&!jn){var v=I.getChildrenRect();v&&(I._53I=1,I.p(li(I.s("group.position"),v,I.getSize())),delete I._53I)}},getChildrenRect:function(){var q,B=this;return B.eachChild(function(D){q=Nr(q,B.getChildRect(D))}),q},getChildRect:function(m){var D;return Zk(m)&&m.s(Xo)&&(qm(m)&&m.isExpanded()&&m.eachChild(function(X){D=Nr(D,m.getChildRect(X))}),!D&&m.getRect&&(D=m.getRect())),D},setPosition:function(x,j){var p=this;if(!p._54I){var X;X=2===arguments.length?{x:x,y:j}:x,jn||p._53I||(p._54I=1,eo(p._children,X.x-p._position.x,X.y-p._position.y),delete p._54I),kf.superClass.setPosition.call(this,X)}},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(t){var U=this;if(U._57O!==t){var n=U._57O;U._57O=t,U.fp("expanded",n,U._57O),U._8I()}},_8I:function(){kf.superClass._8I.call(this),this.eachChild(function(w){Zk(w)&&w._8I()})},onStyleChanged:function(Z){kf.superClass.onStyleChanged.apply(this,arguments),"group.position"===Z&&this._81I()},getSerializableProperties:function(){var Z=kf.superClass.getSerializableProperties.call(this);return Z.expanded=1,Z}});var Db=b.Grid=function(){Cq(Db,this)};$m("Grid",wj,{IRotatable:!1,_icon:"grid_icon",_image:v,getUIClass:function(){return Ze},setRotation:function(){},getCellRect:function(R,B){var o=this,A=o.s("grid.row.count"),I=o.s("grid.column.count");
if(0>=A||0>=I||0>R||R>=A||0>B||B>=I)return v;var Z,e,_,P=o.getRect(),y=o.s("grid.row.percents"),C=o.s("grid.column.percents");if(Yo(P,o,"grid.border",-1),y&&y._as&&(y=y._as),C&&C._as&&(C=C._as),y&&y.length===A){for(_=0,Z=0;R>Z;Z++)_+=P.height*y[Z];P.y+=_,P.height=P.height*y[R]}else P.height=P.height/A,P.y+=P.height*R;if(C&&C.length===I){for(e=0,Z=0;B>Z;Z++)e+=P.width*C[Z];P.x+=e,P.width=P.width*C[B]}else P.width=P.width/I,P.x+=P.width*B;return gg(P,-o.s("grid.gap")),P}});var Dk=b.Shape=function(){Cq(Dk,this),this._59O=new Eb};Dk.__de__=hp,$m("Shape",wj,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return Ip},_22Q:function(){return ke},getLength:function(c){return Te(Cg(this._59O,this._58O,c,this._closePath))},getSegments:function(){return this._58O},setSegments:function(d){var h=this._58O;this._58O=d=Un(d),this.fp("segments",h,d)},getPoints:function(){return this._59O},setPoints:function(J){J?this._59O=Un(J):this._59O.clear(),this.fs()},addPoint:function(p,k){this._59O.add(p,k),this.fs()},setPoint:function(v,K){this._59O.set(v,K),this.fs()},removePointAt:function(C){this._59O.removeAt(C),this.fs()},setWidth:function(W){var x=this;if(1>W&&(W=1),!x._55I&&!jn){x._55I=1;var m=x._position.x,l=W/x.getWidth();x._59O.each(function(E){E.x=(E.x-m)*l+m}),x.fs(),delete x._55I}Dk.superClass.setWidth.call(x,W)},setHeight:function(u){var T=this;if(1>u&&(u=1),!T._55I&&!jn){T._55I=1;var J=T._position.y,M=u/T.getHeight();T._59O.each(function(u){u.y=(u.y-J)*M+J}),T.fs(),delete T._55I}Dk.superClass.setHeight.call(T,u)},setPosition:function(k,J){var X,W=this;if(!W._55I&&!jn){X=2===arguments.length?{x:k,y:J}:k;var c=X.x-W._position.x,n=X.y-W._position.y;if(0===c&&0===n)return;W._55I=1,W._59O.each(function(s){s.x+=c,s.y+=n}),W.fs(),delete W._55I}Dk.superClass.setPosition.apply(W,arguments)},fs:function(){this.fireShapeChange()},fireShapeChange:function(){var S=this;if(!S._55I&&!jn){var D=vn(S._59O);D&&(S._55I=1,S.setRect(D),delete S._55I)}S.fp($e,!1,!0)},getControlPoint:function(){var P=this,H=P.p();return{x:H.x+P.s("control.point.offset.x"),y:H.y+P.s("control.point.offset.y")}},getSerializableProperties:function(){var f=Dk.superClass.getSerializableProperties.call(this);return f.segments=1,f.points=1,f.thickness=1,f.closePath=1,f}});var Ae=b.SubGraph=function(){Cq(Ae,this)};$m("SubGraph",wj,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){Ae.superClass._8I.call(this),this.eachChild(function(e){Zk(e)&&e._8I()})}}),b.EdgeGroup=function(J,Z){this._70O=J,this._siblings=Z;for(var C,u,n=0,m=J.size(),S=D[xo];m>n;n++)if(C=J.get(n).getStyle(xo,!1),C!=v){S=C;break}S==v&&(S=!0);var R=e.edgeGroupAgentFunc;for(R&&(u=R(J),u&&u!==J.get(0)&&(J.remove(u),J.add(u,0))),n=0;m>n;n++)J.get(n).s(xo,S)},$m("EdgeGroup",V,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(x){return this._70O.get(x)},indexOf:function(Z){return this._70O.indexOf(Z)},each:function(P,$){this._70O.each(P,$)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(K,c){this._siblings.each(function(Q){Q._70O.each(K,c)})}});var yr=b.JSONSerializer=function(Q){this.dm=this._dataModel=Q};$m("JSONSerializer",V,{serialize:function(x){return JSON.stringify(this.toJSON(),function(q,n){return Nf(n)?qe(n):n},x==v?2:x)},toJSON:function(){var i=this,W=i.dm,V=W.getRoots(),_=i.json={v:e.getVersion(),d:[],a:{}},G=W.getSerializableAttrs();for(var k in G){var b=W.a(k);b!==U&&i[as](k,b,_.a)}return kn(_.a)&&delete _.a,V.each(i.serializeData,this),_},isSerializable:function(){return!0},getProperties:function(O){return O.getSerializableProperties()},getStyles:function(h){return h.getSerializableStyles()},getAttrs:function(X){return X.getSerializableAttrs()},serializeData:function(K){var l=this;if(l.isSerializable(K)){var c,O,P,E,H=K.getClass(),V=new H,$={c:K.getClassName(),i:K.getId(),p:{},s:{},a:{}};l.json.d.push($),c=l.getProperties(K);for(O in c)E=yq(O),K[E]&&(P=K[E](),P!==V[E]()&&l[as](O,P,$.p));c=l.getStyles(K);for(O in c)P=K.s(O),P!==V.s(O)&&l[as](O,P,$.s);c=l.getAttrs(K);for(O in c)P=K.a(O),P!==V.a(O)&&l[as](O,P,$.a);kn($.p)&&delete $.p,kn($.s)&&delete $.s,kn($.a)&&delete $.a}K.getChildren().each(l.serializeData,l)},serializeValue:function(c,m,x){br(m)?m={__a:m._as}:m instanceof ko&&(m={__i:m.getId()}),x[c]=m},deserialize:function(O,B,h){jn=!0;var I=this;O=I.json=Ur(O)?JSON.parse(O):O,I._82I={};for(var p=I.dm,E=new Eb,l=new Eb,C=0,K=O.d.length;K>C;C++){var q=O.d[C],G=Gj(q.c),u=new G,o=q.i;h&&o!=v&&(u._id=o),I._82I[o]=u,E.add(u),l.add(q)}for(C=0;K>C;C++)I.deserializeData(E.get(C),l.get(C));E.each(function(C){B&&!C.getParent()&&C.setParent(B),p.add(C)});for(var A in O.a)p.a(A,I[uq](O.a[A]));return jn=!1,E},deserializeData:function(b,i){for(var p in i.p)b[Fc(p)](this[uq](i.p[p]));for(p in i.s)b.s(p,this[uq](i.s[p]));for(p in i.a)b.a(p,this[uq](i.a[p]))},deserializeValue:function(U){if(sg(U)){var V=U.__i;if(V!=v)return this._82I[V];if(V=U.__a,nn(V))return new Eb(V)}return U}}),sq(Oj,{serialize:function(A){return new yr(this).serialize(A)},toJSON:function(){return new yr(this).toJSON()},deserialize:function(g,R,q){return new yr(this).deserialize(g,R,q)}}),Le.GraphView=function(i){var G=this;G._24I={},G._34I=new Eb,G._25I={},G._56I={},G._view=zj(1),G._canvas=Pd(G._view),G.dm(i?i:new Oj),G.setEditable(!1),G.setScrollBarVisible(e.graphViewScrollBarVisible)},ro("GraphView",V,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_ac:["layers",_n,Dj,po,Ok,"resettable","editInteractor",al,"pannable","rectSelectable","autoScrollZone",Zm,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground"],_resettable:e.graphViewResettable,_pannable:e.graphViewPannable,_rectSelectable:e.graphViewRectSelectable,_autoScrollZone:e.graphViewAutoScrollZone,_rectSelectBackground:e.graphViewRectSelectBackground,_rectSelectBorderColor:e.graphViewRectSelectBorderColor,_editPointSize:e.graphViewEditPointSize,_editPointBorderColor:e.graphViewEditPointBorderColor,_editPointBackground:e.graphViewEditPointBackground,_scrollBarColor:Ab,_scrollBarSize:am,_autoHideScrollBar:dj,_autoMakeVisible:Si,setEditable:function(m){var R=this;m?R.setInteractors([new cc(R),new qp(R),new Di(R),new dr(R),new $o(R)]):R.setInteractors([new cc(R),new Di(R),new dr(R),new $o(R,{editable:!1})])},getCanvas:function(){return this._canvas},_33I:function(A){var M=A.getUIClass();return M?new M(this,A):v},getDataUI:function(M){var e=this,i=e._25I[M._id];return i===U&&(i=e._33I(M),e._25I[M._id]=i),i},invalidateAll:function(V){var Y=this;if(V){for(var y in Y._25I){var O=Y._25I[y];O&&O.dispose()}Y._25I={},Y._56I={},Y._24I={},Y._34I.clear(),Y.redraw()}else Y.dm().each(function(h){Y.invalidateData(h)})},invalidateSelection:function(){var W=this;W.sm().each(function(B){W.invalidateData(B)})},invalidateData:function(g){var N=this;N._24I[g._id]=g,N._21Q(g),N.iv()},_21Q:function(u){var M=this,f=M._24I;if(bs(u)&&qs[u.s(Zc)]){var z=u.getSourceAgent();z&&z.getAgentEdges().each(function(Z){f[Z._id]=Z}),z=u.getTargetAgent(),z&&z.getAgentEdges().each(function(Q){f[Q._id]=Q}),M.iv()}},redraw:function(L){var l=this;l._32I||(L?l._34I.add(L):(l._32I=1,l._34I.clear()),l.iv())},each:function($,j){var B,b,V,t=0,Z=this._layers,L=this._dataModel._datas._as,o=L.length;if(Z)for(var w=Z.length;w>t;t++){V=Z[t];for(var a=0;o>a;a++)if(B=L[a],B._layer===V&&(b=j?$.call(j,B):$(B),b===!1))return}else for(;o>t;t++)if(B=L[t],b=j?$.call(j,B):$(B),b===!1)return},reverseEach:function(i,Z){var V,v,Y,C,G=this._layers,b=this._dataModel._datas._as,s=b.length;if(G)for(V=G.length-1;V>=0;V--){C=G[V];for(var l=s-1;l>=0;l--)if(v=b[l],v._layer===C&&(Y=Z?i.call(Z,v):i(v),Y===!1))return}else for(V=s-1;V>=0;V--)if(v=b[V],Y=Z?i.call(Z,v):i(v),Y===!1)return},getViewRect:function(){return this._29I},getContentRect:function(){var K=this,J=K._84I;return J||(K.each(function(B){K.isVisible(B)&&(J=Nr(J,K.getDataUIBounds(B)))}),K._84I=J?J:je),K._84I},getScrollRect:function(){return Nr(this.getContentRect(),this._29I)},fitData:function(u,j,q,B,n){var $=this;if(!$.getWidth()||!$.getHeight())return n||Hj($.fitData,$,[u,j,q,B,!0],100),void 0;$.makeVisible(u),$.validate();var I=$.getDataUIBounds(u);I&&(I=Tg(I),gg(I,q==v?20:q),$.fitRect(I,j,B))},fitContent:function(z,x,r,B){var c=this;if(!c.getWidth()||!c.getHeight())return B||Hj(c.fitContent,c,[z,x,r,!0],100),void 0;c.validate();var y=Tg(c.getContentRect());gg(y,x==v?20:x),c.fitRect(y,z,r)},fitRect:function(c,V,G){var D=this,k=D.getWidth(),S=D.getHeight(),N=c.x+c.width/2,P=c.y+c.height/2,m=I(k/c.width,S/c.height),f=D._zoom,z=-N*f+k/2,W=-P*f+S/2;0===m||isNaN(m)||(G&&(m=I(1,m)),V?D.setTranslate(z,W,{finishFunc:function(){D.setZoom(m,V)}}):(D.setTranslate(z,W),D.setZoom(m)))},toCanvas:function(m){this.validateImpl();var T=this,r=T.getContentRect(),X=Pd(),l=T._zoom,y=r.x*l,J=r.y*l,I=r.width*l,s=r.height*l;Vm(X,I,s,1);var v=ei(X);return m&&mg(v,0,0,I,s,m),zr(v,-y,-J),v.scale(l,l),T._42(v),v.restore(),X},toDataURL:function(U){return this.toCanvas(U).toDataURL()},getClipBounds:function(){return this._74O},_42:function(B,p){var R,A,X=this;X._93db(B,p),X.each(function(m){X._56I[m._id]&&(R=X.getDataUI(m),R&&(A=R._79o(),(!p||$g(p,A))&&R._42(B)))}),X._92db(B,p)},validateImpl:function(){var H,N,r,g,_,s=this,J=s.tx(),h=s.ty(),a=s._zoom,O=s._canvas,e=this.getWidth(),S=this.getHeight(),D=s._29I,B={x:-J/a,y:-h/a,width:e/a,height:S/a},t={},w=s._34I,z=s._24I,Y=s._32I,$=s._23I;(e!==O.clientWidth||S!==O.clientHeight)&&(Vm(O,e,S),Y=1),Y||$n(B,D)||(Y=1),s._29I=B,s.each(function(X){N=X._id;var A=t[N]=s.isVisible(X);A!==s._56I[N]&&(z[N]=X,r=s.getDataUI(z[N]),r&&r._84o(A),s._84o(X,A))},s);for(N in z)r=s.getDataUI(z[N]),r&&(!Y&&s._56I[N]&&(_=r._79o(),_&&w.add(_)),r.invalidate()),s._83I=1;if(s._56I=t,!Y)for(N in z)t[N]&&(r=s.getDataUI(z[N]),r&&(_=r._79o(),_&&w.add(_)));if(Y?g=B:(w.each(function(R){$g(B,R)&&(g=Nr(g,R))}),g&&(gg(g,k(1,1/a)),g.x=o(g.x*a)/a,g.y=o(g.y*a)/a,g.width=X(g.width*a)/a,g.height=X(g.height*a)/a,g=jk(B,g))),s._74O=g,g&&(H=ei(O),bc(H,J,h,a),H.beginPath(),H.rect(g.x,g.y,g.width,g.height),H.clip(),H.clearRect(g.x,g.y,g.width,g.height),s._42(H,g),H.restore(),delete s._74O),s._24I={},w.clear(),delete s._32I,$&&e>0&&S>0){var r=s.getDataUI($);if(r){var _=r._79o(),j=s._29I,A=j.x,R=j.y,F=j.width,v=j.height,a=s._zoom;_&&!$g(_,j)&&(_.x+_.width<A&&s.tx(-_.x*a),_.x>A+F&&s.tx(-(_.x+_.width-F)*a),_.y+_.height<R&&s.ty(-_.y*a),_.y>R+v&&s.ty(-(_.y+_.height-v)*a))}delete s._23I}s._83I&&(delete s._83I,delete s._84I),s._98O()},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(U){var v=this;U!==v.isScrollBarVisible()&&(U?(hq(v._view,v._79O=zj()),hq(v._79O,v._27I=zj()),hq(v._79O,v._28I=zj())):(sr(v._79O),delete v._79O,delete v._27I,delete v._28I),v.fp("scrollBarVisible",!U,U))},showScrollBar:function(){var m=this;m._79O&&(m._85I||(l(function(){m._86I()},jd),m.iv()),m._85I=new Date)},_86I:function(){var q=this;if(q._85I){var X=new Date,H=X.getTime();H-q._85I.getTime()>=jd?(delete q._85I,q.iv()):l(function(){q._86I()},jd)}},_98O:function(){var m=this,A=this._27I,C=this._28I;if(m._79O){if(m._autoHideScrollBar&&!m._85I)return A.style.visibility=xd,C.style.visibility=xd,void 0;var e=m.getScrollBarColor(),V=m._zoom,H=m.getScrollBarSize(),s=m.getViewRect(),i=m.getScrollRect(),k=s.height*V,r=i.height*V,I=s.width*V-H-2,U=k*((s.y-i.y)*V/r),E=k*(k/r),v=A.style;r-.5>k?(Zd>E&&(U=U+E/2-Zd/2,0>U&&(U=0),U+Zd>k&&(U=k-Zd),E=Zd),Ro(A,I,U,H,E),v.visibility=Gc,v.background=e,v.borderRadius=H/2+eb):v.visibility=xd;var B=s.width*V,q=i.width*V,U=s.height*V-H-2,I=B*((s.x-i.x)*V/q),$=B*(B/q),v=C.style;q-.5>B?(Zd>$&&(I=I+$/2-Zd/2,0>I&&(I=0),I+Zd>B&&(I=B-Zd),$=Zd),Ro(C,I,U,$,H),v.visibility=Gc,v.background=e,v.borderRadius=H/2+eb):v.visibility=xd}},setDataModel:function(z){var e=this,J=e._dataModel,Z=e._3o;J!==z&&(J&&(J.umm(e.handleDataModelChange,e),J.umd(e.handleDataPropertyChange,e),J.removeIndexChangeListener(e._75O,e),Z||J.sm().ums(e._16o,e)),e._dataModel=z,z.mm(e.handleDataModelChange,e),z.md(e.handleDataPropertyChange,e),z.addIndexChangeListener(e._75O,e),Z?Z._21I(z):z.sm().ms(e._16o,e),e.invalidateAll(!0),e.fp(jo,J,z))},onPropertyChanged:function(I){var W=this,z=I.property;W.redraw(),Sr[z]?W.showScrollBar():z===al&&W.onCurrentSubGraphChanged(I)},onCurrentSubGraphChanged:function(){this.reset()},handleDataModelChange:function(I){var E=this,l=I.kind,t=I.data;if(E._83I=1,"add"===l)E.invalidateData(t),bs(t)&&t.getEdgeGroup()&&t.getEdgeGroup().eachSiblingEdge(E.invalidateData,E);else if(l===Uq){E._21Q(t);var w=t._id,O=E._25I[w];if(O){if(E._56I[w]){var R=O._79o();R&&E.redraw(R)}O.dispose(),delete E._25I[w],delete E._24I[w],delete E._56I[w]}t===E._currentSubGraph&&E.setCurrentSubGraph(v)}else l===_q&&(E.invalidateAll(!0),E.setCurrentSubGraph(v))},_75O:function(V){this.invalidateData(V.data)},_76O:function(q){var G=this;if(G.isVisible(q)){for(var E=q;E._parent&&G.isVisible(E._parent);)E=E._parent;E&&E!==q&&G._dataModel._76O(E),G._dataModel._76O(q)}},isMovable:function(w){var C=this;if(bs(w)){if(w.getStyle(Zc)!==fd)return!1;if(!C.isEditable(w))return!1}return C._movableFunc?C._movableFunc(w):!0},isEditable:function(G){var n=this;if(!n._editInteractor||!n.isSelected(G))return!1;if(qm(G)){var o=n.getDataUI(G);if(!o||o._88I)return!1}return bs(G)&&G.getStyle(Zc)!==fd?!1:n._editableFunc?n._editableFunc(G):!0},handleDelete:function(){this._editInteractor&&this.removeSelection()},isPointEditable:function(s){return Zk(s)&&0!==s.getRotation()?!1:this._pointEditableFunc?this._pointEditableFunc(s):!0},isRectEditable:function(m){return Zk(m)&&0!==m.getRotation()?!1:this._rectEditableFunc?this._rectEditableFunc(m):!0},isRotationEditable:function(q){return q.setRotation&&q.IRotatable!==!1?this._rotationEditableFunc?this._rotationEditableFunc(q):!0:!1},getRotationPoint:function(E){var s=Rm(E.getRotation(),0,-E.getHeight()/2-(P?32:16)),O=E.p();return s.x+=O.x,s.y+=O.y,s},getLogicalPoint:function(X){var P=this;return Rp(X,P._view,P.tx(),P.ty(),P._zoom,P._zoom)},getSelectedDataAt:function(k){var L=this;return this.getDataAt(k,function(U){return L.isSelected(U)})},getDataAt:function(b,X){b.target&&(b=this.lp(b));var i;return this.reverseEach(function(P){return(X?X(P):this.isSelectable(P))&&this.pointHits(P,b.x,b.y)?(i=P,!1):void 0},this),i},getIconInfoAt:function(e,U){var G=this;if(e.target&&(e=G.lp(e)),U||(U=G.getDataAt(e)),U){var d=G.getDataUI(U);if(d&&d._38o){var S,c=d._38o,r=new Eb;for(S in c.icons)r.add(S);for(var n=r.size()-1;n>=0;n--){S=r.get(n);for(var E=c.rects[S],g=E.rotation,s=E.length-1;s>=0;s--){var t=E[s],D=t.width,M=t.height,A={x:e.x-t.x-D/2,y:e.y-t.y-M/2};g!=v&&(A=Rm(-g,A.x,A.y));var t={x:-D/2,y:-M/2,width:D,height:M};if(Jm(t,A))return{key:S,index:s,name:c.icons[S].names[s],rect:t,point:A}}}}}return v},getDatasInRect:function(A,s,S){S===U&&(S=1);var B=this,y=new Eb;return B.reverseEach(function(b){S&&!B.isSelectable(b)||(s?B.rectIntersects(b,A):B.rectContains(b,A))&&y.add(b)}),y},moveSelection:function(x,C){var Q=this;eo(Q.sm().toSelection(Q.isMovable,Q),x,C)},getDataUIBounds:function(d){var s=this.getDataUI(d);return s?s._79o():v},getBoundsForGroup:function(t){return Zk(t)&&t.s(Xo)?this.getDataUIBounds(t):v},pointHits:function(G,q,I){return 2===arguments.length&&(I=q.y,q=q.x),this.rectIntersects(G,mj(q,I))},rectIntersects:function(E,g){var x=v;if(this._56I[E._id]){var $=this._25I[E._id];if($){var o=$._79o();if(Nb(g,o))x=!0;else if((g=jk(g,o))&&($.rectIntersects&&(x=$.rectIntersects(g)),x==v)){var b=g.x,y=g.y,C=g.width,X=g.height,T=1,U=e.hitMaxArea,n=C*X;n>U&&(T=U/n);var N=Cm(C*T,X*T);zr(N,-b*T,-y*T),N.scale(T,T),$._42(N);try{for(var a=0,m=N.getImageData(0,0,C*T,X*T).data;a<m.length;a+=4)if(0!==m[a+3]){x=!0;break}N.restore()}catch(d){Bo=v,x=!0}}}}return x?!0:!1},rectContains:function(r,J){if(this._56I[r._id]){var S=this._25I[r._id];if(S)return Nb(J,S._79o())}return!1},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(N){var m=this,s=m._focusData,F=s&&m._25I[s._id],g=0,z=m._dataModel._datas;s&&s._enabled&&s._editable&&F&&F.onKeyDown&&F.onKeyDown(N)===!0||(9===N.keyCode&&(s&&(g=z.indexOf(s),Xk(N)?-1===--g&&(g=0):++g===z.size()&&(g=0)),m._focusData=s=z.get(g),m.sm().setSelection(s)),dk(N)?m.selectAll():op(N)&&m.isResettable()&&m.reset(),m.sm().isEmpty()||(up(N)&&m.handleDelete(N),Fi(N)&&(m.moveSelection(-1,0),m.fi({kind:"moveLeft"})),bf(N)&&(m.moveSelection(0,-1),m.fi({kind:"moveUp"})),pc(N)&&(m.moveSelection(1,0),m.fi({kind:"moveRight"})),xf(N)&&(m.moveSelection(0,1),m.fi({kind:"moveDown"}))))},handleScroll:function(Q,J){Ye(Q);var t=this.lp(Q);J>0?this.scrollZoomIn(t):0>J&&this.scrollZoomOut(t)},handlePinch:function(w,p,R){p>R?this.pinchZoomIn(w):this.pinchZoomOut(w)},checkDoubleClickOnNote:function(N,n){var G=this,J=G.lp(N),l=G.getDataUI(n),z=l.noteInfo;return z&&n.s("note.toggleable")&&Jm(z.rect,J)?(n.s(Pm,!n.s(Pm)),G.fi({kind:"toggleNote",event:N,data:n}),!0):(z=l.note2Info,z&&n.s("note2.toggleable")&&Jm(z.rect,J)?(n.s(eh,!n.s(eh)),G.fi({kind:"toggleNote2",event:N,data:n}),!0):!1)},_84o:function(){},isNoteVisible:function(){return this._zoom>.15},isLabelVisible:function(){return this._zoom>.15},isSelectVisible:function(){return this._zoom>.15},isEditVisible:function(){return this._zoom>.15}});var ne=function(A,m){var r=this;r.gv=A,r.s=function(y){return m.getStyle(y)},r._data=m,r._87I=new Eb};Qq(ne,V,{_6I:v,ms_icons:1,_84o:function(){},dispose:function(){},_2o:function(){var l=this,n=l.gv,Y=l._data;return n.isSelectVisible(Y)&&n.isSelected(Y)?l.s("select.width"):0},getBodyColor:function(u){var N=this._data,L=this.gv.getBodyColor(N);return L?L:u?N.getStyle(u):v},_2Q:function(b){return this.s(b)},_1Q:function(N,r,V,O){var K=this.s,J=K(r+".dash.color");N.strokeStyle=J,N.lineWidth=V,N.stroke(),K(r+".dash.3d")&&ob(N,J,K(r+".dash.3d.color"),V,this.gv._zoom,K(r+".dash.3d.accuracy")),Bg(N,O)},invalidate:function(){this._6I=v},_79o:function(){var Z=this;if(!Z._6I){Z.labelInfo=Z.label2Info=Z.noteInfo=Z.note2Info=Z._38o=v,Z._87I.clear(),Z._3O();var o=Z._data,u=Z.gv;Z._55O=u.isEditable(o)?{_42O:u.isRectEditable(o),_43O:u.isPointEditable(o),_56O:u.isRotationEditable(o)}:v,Z._6I=Z._81o()}return Z._6I},_3O:function(){},getPosition:function(){return je},_68o:function(z,V){z&&this._87I.add(Ci(z,V))},_81o:function(){var U=this;U._24O(),U._25O(),U._26O(),U._27O(),U._15O(),U._55O&&U._48O();var Z;return U._87I.each(function(d){Z=Nr(Z,d)}),U._87I.clear(),Z},_42:function(F){var _=this,G=_._data,H=_.gv,W=H.getOpacity(G);if(W!=v){var J=F.globalAlpha;F.globalAlpha=W}_._80o(F),H.isLabelVisible(G)&&(Ko(F,_.labelInfo),Ko(F,_.label2Info)),H.isNoteVisible(G)&&(Bj(F,_.noteInfo),Bj(F,_.note2Info)),_._99O(F),W!=v&&(F.globalAlpha=J),_._55O&&H.isEditVisible(G)&&_._47O(F)},_80o:function(){},_47O:function(){},_24O:function(){var r=this,s=r._data,f=r.gv,H=r.s,Z=f.getLabel(s);if(Z!=v){var n=H("label.max"),$=H("label.position"),l=r.labelInfo={label:Z,color:f.getLabelColor(s),font:H("label.font"),opacity:H("label.opacity"),rotation:r.getRotation(H("label.rotation"),!1,$),background:f.getLabelBackground(s)},A=Sc(l.font,Z);n>0&&n<A.width&&(l.labelWidth=A.width,A.width=n);var S=r.getPosition($,H("label.offset.x"),H("label.offset.y"),A,H("label.position.fixed"));A.x=S.x-A.width/2,A.y=S.y-A.height/2,r._68o(l.rect=A,l.rotation)}},_25O:function(){var L=this,l=L._data,Y=L.gv,G=L.s,N=Y.getLabel2(l);if(N!=v){var g=G("label2.max"),V=G("label2.position"),J=L.label2Info={label:N,color:Y.getLabel2Color(l),font:G("label2.font"),opacity:G("label2.opacity"),rotation:L.getRotation(G("label2.rotation"),!1,V),background:Y.getLabel2Background(l)},P=Sc(J.font,N);g>0&&g<P.width&&(J.labelWidth=P.width,P.width=g);var w=L.getPosition(V,G("label2.offset.x"),G("label2.offset.y"),P,G("label2.position.fixed"));P.x=w.x-P.width/2,P.y=w.y-P.height/2,L._68o(J.rect=P,J.rotation)}},_26O:function(){var L=this,Z=L.gv,F=L._data,N=L.s,h=Z.getNote(F);if(h!=v){var E=L.noteInfo={note:h,expanded:N(Pm),font:N("note.font"),color:N("note.color"),opacity:N("note.opacity"),borderWidth:N("note.border.width"),borderColor:N("note.border.color"),background:Z.getNoteBackground(F)};L._36O(E,L.getPosition(N("note.position"),N("note.offset.x"),N("note.offset.y")),N("note.max"))}},_27O:function(){var H=this,R=H.gv,W=H._data,B=H.s,y=R.getNote2(W);if(y!=v){var F=H.note2Info={note:y,expanded:B(eh),font:B("note2.font"),color:B("note2.color"),opacity:B("note2.opacity"),borderWidth:B("note2.border.width"),borderColor:B("note2.border.color"),background:R.getNote2Background(W)};H._36O(F,H.getPosition(B("note2.position"),B("note2.offset.x"),B("note2.offset.y")),B("note2.max"))}},_36O:function(f,X,V){var D,E;f.expanded?(D=Sc(f.font,f.note),D.width+=6,D.height+=2,V>0&&V<D.width&&(f.labelWidth=D.width,D.width=V),E=f.rect={x:X.x-D.width/2,y:X.y-8-D.height,width:D.width,height:D.height+8}):E=f.rect={x:X.x-6,y:X.y-18,width:12,height:18},this._68o({x:E.x-1,y:E.y-1,width:E.width+2,height:E.height+2})},_48O:function(){},_99O:function(n){var P=this,H=P._38o;if(H){var g=H.icons;for(var V in g){var Z=g[V],c=H.rects[V];if(c){var r=Z.opacity,q=Z.names,$=q.length,N=c.rotation;if(r!=v){var D=n.globalAlpha;n.globalAlpha*=r}for(var E=0;$>E;E++){var C=q[E],M=mc(C),L=c[E];if(N){var k=L.x+L.width/2,l=L.y+L.height/2;n.save(),zr(n,k,l),lc(n,N),zr(n,-k,-l)}dh(n,M,Z.stretch,L.x,L.y,L.width,L.height,P._data,P.gv),N&&n.restore()}r!=v&&(n.globalAlpha=D)}}}}});var On=function(L,l){Cq(On,this,[L,l])};Qq(On,ne,{_40O:function(y,i){var W=this,C=W.s,d=y.rect;(y.borderColor=W.gv.getBorderColor(W._data))&&(y.borderShape=C("border.shape"),y.borderWidth=C("border.width"),y.borderPadding=C("border.padding"),i=k(i,y.borderPadding+y.borderWidth/2)),(y.selectWidth=W._2o())&&(y.selectShape=C("select.shape"),y._97o=C("select.color"),y.selectPadding=C("select.padding"),i=k(i,y.selectPadding+y.selectWidth/2)),i>0&&(d=Tg(d),gg(d,i)),W._68o(d)},_39O:function(p,w,y){var y=w.rect;if(w.borderWidth>0){var z=w.borderPadding;p.strokeStyle=w.borderColor,p.lineWidth=w.borderWidth,p.beginPath(),cs(p,w.borderShape,{x:y.x-z,y:y.y-z,width:y.width+2*z,height:y.height+2*z}),p.stroke()}w.selectWidth>0&&(z=w.selectPadding,p.strokeStyle=w._97o,p.lineWidth=w.selectWidth,cs(p,w.selectShape,{x:y.x-z,y:y.y-z,width:y.width+2*z,height:y.height+2*z}),p.stroke())},_3O:function(){var S=this,B=S.s,Y=S._data,h=Y.getStyle($e),P=S.getBodyColor(),X=S._83o=h?{shape:h,_53o:S.getBodyColor("shape.background"),_54o:B("shape.border.width"),_55o:B("shape.border.color"),_56o:B("shape.border.3d"),_57o:B("shape.border.3d.color"),_58o:B("shape.border.3d.accuracy"),shapeGradient:B("shape.gradient"),_59o:B("shape.gradient.color"),_60o:B("shape.pattern"),_61o:B("shape.border.cap"),_62o:B("shape.border.join")}:{img:mc(Y.getImage(),P),bodyColor:P,stretch:B("image.stretch")};X.rect=Y.getRect(),X.position=Y.p(),X.rotation=Y.getRotation(),h===Mk&&(X._63o=B("shape.depth")),S._40O(X,h?Wg(v,X._54o/2,X._62o):0)},getPosition:function(y,z,x,O){var C=li(y,this._83o.rect,O);return C.x+=z,C.y+=x,C},_80o:function(g){var z=this,d=z.s,n=z.gv,c=z._data,u=z._83o,Z=u.rect,N=Z,K=u.position,U=u.rotation,l=u.shape;if(Z.width>0&&Z.height>0){if(U&&(g.save(),zr(g,K.x,K.y),lc(g,U),zr(g,-K.x,-K.y),N=c.getSize(),N.x=K.x-N.width/2,N.y=K.y-N.height/2),z.freeDraw)z.freeDraw(g,N,u);else if(l){var A,_,m,r,P=u._60o,W=Qk(g,P),S=u._53o,j=u._54o,f=u._55o,C=g.lineJoin,F=g.lineCap;if("polygon"===l?A=d("shape.polygon.side"):"arc"===l&&(A=d("shape.arc.from"),_=d("shape.arc.to"),m=d("shape.arc.close"),r=d("shape.arc.oval")),g.lineJoin=u._62o,g.lineCap=u._61o,S?(ol(g,S,u.shapeGradient,u._59o,N),cs(g,l,N,A,_,m,r),g.fill(),g!==W&&cs(W,l,N,A,_,m,r)):cs(W,l,N,A,_,m,r),j>0&&(g.lineWidth=j,g.strokeStyle=f,g.stroke(),u._56o&&ob(g,f,u._57o,j,n._zoom,u._58o)),Bg(g,P),d("shape.dash")){var b=d("shape.dash.width")||j;if(b>0){P=d("shape.dash.pattern");var W=Qk(g,P,z._2Q("shape.dash.offset"));W!==g&&cs(W,l,N,A,_,m,r),z._1Q(g,"shape",b,P)}}Fo(g,S,u._63o,N),g.lineJoin=C,g.lineCap=F}else dh(g,u.img,u.stretch,N.x,N.y,N.width,N.height,c,n,u.bodyColor);U&&g.restore()}z._39O(g,u)},_48O:function(){var F,_=this,H=_._data,q=_.gv,f=_._55O,i=q.getEditPointSize()/2+2;if(f._42O&&(F=H.getRect(),gg(F,i)),f._56O){var r=f._98o=q.getRotationPoint(H);F=Nr(F,{x:r.x-i,y:r.y-i,width:2*i,height:2*i})}_._68o(F)},_47O:function(w){var i=this,f=i.gv,C=i._55O,t=i._data.getRect(),h=f.getEditPointSize(),o=C._98o;C._42O&&(w.fillStyle=f.getEditPointBackground(),w.strokeStyle=f.getEditPointBorderColor(),w.lineWidth=1,[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}].forEach(function(q){mg(w,q.x-h/2,q.y-h/2,h,h),w.stroke()})),C._56O&&(w.fillStyle=f.getEditPointBorderColor(),w.strokeStyle=f.getEditPointBackground(),w.lineWidth=1,w.beginPath(),w.arc(o.x,o.y,h/2,0,O,!0),w.fill(),w.stroke())}});var Qm=function(L,W){Cq(Qm,this,[L,W])};Qq(Qm,ne,{_3O:function(){var o,s=this,q=s._data,C=s.gv,A=s.s,U=A(Zc),f=q.isLooped(),W=A("edge.width"),m=A("edge.center"),l=C.getBorderColor(q),F=l?A("border.width"):0,_=s._2o(),X=q._40I,g=q._41I,L=s._78o=X&&g?{looped:f,type:U,width:W,center:m,color:s.getBodyColor("edge.color"),borderColor:l,borderWidth:F,_97o:_?A("select.color"):v,selectWidth:_,pattern:A("edge.pattern"),cap:A("edge.cap"),join:A("edge.join"),is3d:A("edge.3d"),_67o:A("edge.3d.color"),_66o:A("edge.3d.accuracy")}:v;if(L){var y=e.getEdgeType(U);if(y)L._4O=y(q,s._71o(f,U),C,s._19Q),o=vn(L._4O.points);else{var D=Fq(C,X,A("edge.source.position"),A("edge.source.offset.x"),A("edge.source.offset.y")),t=Fq(C,g,A("edge.target.position"),A("edge.target.offset.x"),A("edge.target.offset.y"));if(U===fd){var R=L.points=A(Ih)||lm,B=R.size();if(L.segments=A("edge.segments"),!m){var i=Jq(C,X),d=Jq(C,g),h=ir(D,B?R.get(0):t,i);h&&(D={x:h[0],y:h[1]}),h=ir(B?R.get(B-1):D,t,d),h&&(t={x:h[0],y:h[1]})}o=Nr(vn(L.points),vn(D,t))}else{var Q=s._71o(f,U);if(s._19Q||(Q=-Q),f)D=Tg(D),D.x-=X.getWidth()/2,L.radius=Q,o={x:D.x-Q,y:D.y-Q,width:2*Q,height:2*Q};else{var P=Lp(D,t),E=A("edge.offset");E=P>2*E?E:P/2;var k={x:E,y:Q},a={x:P-E,y:Q},K=Y(t.y-D.y,t.x-D.x),J=L.mat=new Fe(K);if(L.orienAngle=K,L.angle=t.x<D.x?K+H:K,L.rect={x:k.x,y:k.y,width:a.x-k.x,height:0},L.origin=D,k=J.tf(k),k.x+=D.x,k.y+=D.y,a=J.tf(a),a.x+=D.x,a.y+=D.y,m){var j={x:P,y:0};j=J.tf(j),j.x+=D.x,j.y+=D.y,o=vn([D,k,a,j]),L.c1=D,L.c2=j}else o=vn(k,a);D=k,t=a}}L._69o=D,L._70o=t}Wg(o,W/2+F+_,L.join),s._68o(o)}},getRotation:function(E,B,N){E=E||0;var f=this._78o;if(f){var e,q=f.angle,b=f.points,X=f._4O;if(q!=v)return B?f.orienAngle+E:q+E;if(X){var O=X.points;return e=O.size(),hh[N]?E:$k[N]?uc(O.get(0),O.get(1),B):uc(O.get(e-2),O.get(e-1),B)}if(b)return e=b.size(),hh[N]?E:$k[N]?uc(f._69o,e?b.get(0):f._70o,B):uc(e?b.get(e-1):f._69o,f._70o,B)}return E},getPosition:function(O,o,V,f,p){var $=this._78o;if($){var H,x,E=$.type,G=$.points,u=$._4O,m=$._69o,Q=$._70o;if(p&&m&&Q&&m.x>Q.x&&(O=cd[O],V=-V),!E)return $.looped?{x:m.x-$.radius+o,y:m.y+V}:(x=$.rect,H=34===O?{x:x.x+x.width/4,y:x.y+x.height/2}:35===O?{x:x.x+.75*x.width,y:x.y+x.height/2}:li(O,x,f),H.x+=o,H.y+=V,H=$.mat.tf(H),H.x+=$.origin.x,H.y+=$.origin.y,H);if(G)return x=hh[O]?G.isEmpty()?{x:(m.x+Q.x)/2,y:(m.y+Q.y)/2}:_g(G):$k[O]?{x:m.x,y:m.y}:{x:Q.x,y:Q.y},x.width=0,x.height=0,H=li(O,x,f),H.x+=o,H.y+=V,H;if(u){var l=u.points;if(x=hh[O]?_g(l):$k[O]?Tg(l.get(0)):Tg(l.get(l.size()-1)))return x.width=0,x.height=0,H=li(O,x,f),H.x+=o,H.y+=V,H}}return je},_42:function(t){this._78o&&Qm.superClass._42.call(this,t)},drawPath:function(I,A){I.beginPath();var h=A.type,Z=A.points,M=A.segments,L=A._4O;if(!h||Z){var k=A._69o,e=k.x,G=k.y,l=A._70o,r=l.x,s=l.y;if(h)if(M){var u=new Eb({x:e,y:G});u.addAll(Z),u.add({x:r,y:s}),Gm(I,u,M)}else I.moveTo(e,G),Z.each(function(D){I.lineTo(D.x,D.y)}),I.lineTo(r,s);else A.looped?I.arc(e,G,A.radius,0,O,!0):A.center?(I.moveTo(A.c1.x,A.c1.y),I.lineTo(e,G),I.lineTo(r,s),I.lineTo(A.c2.x,A.c2.y)):(I.moveTo(e,G),I.lineTo(r,s))}else L&&Gm(I,L.points,L.segments)},_80o:function(D){var b=this,a=b.s,V=b._78o,z=V.width,Q=V.selectWidth,_=V.borderWidth,N=V.color,c=D.lineJoin,n=D.lineCap,x=V.pattern;if(D.lineJoin=V.join,D.lineCap=V.cap,b.drawPath(Qk(D,x),V),Q&&(D.strokeStyle=V._97o,D.lineWidth=z+2*(_+Q),D.stroke()),_&&(D.strokeStyle=V.borderColor,D.lineWidth=z+2*_,D.stroke()),D.strokeStyle=N,D.lineWidth=z,D.stroke(),V.is3d&&ob(D,N,V._67o,z,b.gv._zoom,V._66o),Bg(D,x),a("edge.dash")){x=a("edge.dash.pattern");var F=Qk(D,x,b._2Q("edge.dash.offset"));F!==D&&b.drawPath(F,V),b._1Q(D,"edge",a("edge.dash.width")||z,x)}D.lineJoin=c,D.lineCap=n},_48O:function(){var Z=this,g=Z._78o;if(Z._55O._43O&&g&&g.points){var K=vn(g.points);K&&(gg(K,Z.gv.getEditPointSize()/2+2),Z._68o(K))}},_47O:function(Q){var s=this,x=s.gv,k=s._78o;if(s._55O._43O&&k&&k.points){var g=x.getEditPointSize()/2;Q.fillStyle=x.getEditPointBackground(),Q.strokeStyle=x.getEditPointBorderColor(),Q.lineWidth=1,k.points.each(function(y){Q.beginPath(),Q.arc(y.x,y.y,g,0,O,!0),Q.fill(),Q.stroke()})}},_71o:function(e,l){var H=this,t=H._data;if(H._19Q=!0,!t.getEdgeGroup())return e?t.s("edge.gap"):0;var Y,W=0,h=0,p=0;if(t.getEdgeGroup().getSiblings().each(function(I){I.each(function(R){if(H.gv.isVisible(R)&&R.s(Zc)==l){var g=R.s("edge.gap");Y?(h+=p/2+g/2,p=g):(Y=R,p=g),R===t&&(W=h)}})}),e)return h-W+p;var O=W-h/2;return Y&&t._40I!==Y._40I&&(H._19Q=!1),O}});var Fk=function(U,d){Cq(Fk,this,[U,d])};Qq(Fk,On,{_3O:function(){var e,o=this,Q=o.s,t=o._data,X=o.gv;if(o._88I=v,t.isExpanded()&&t.eachChild(function(Z){e=Nr(e,X.getBoundsForGroup(Z))}),e){gg(e,Q("group.padding"));var i=o._88I={rect:e,_64o:e,depth:Q("group.depth"),background:o.getBodyColor("group.background"),_65o:Q("group.title.background")},$=X.getLabel(t);if($){var R,d=o.labelInfo={label:$,color:Q("group.title.color"),font:Q("group.title.font")},g=Sc(d.font,d.label),A=g.width,Z=g.height,I=Q("group.title.align");A>e.width&&(e.width=A),d.rect={y:e.y-Z,width:g.width,height:Z},R=I===r?e.x:I===N?e.x+e.width-A:e.x+e.width/2-A/2,d.rect.x=R,i._72o={x:e.x,y:e.y-Z,width:e.width,height:Z},i.rect={x:e.x,y:e.y-Z,width:e.width,height:e.height+Z}}o._40O(i,0)}else Fk.superClass._3O.call(o)},getPosition:function(o,h,P,x){var A=this;if(A._88I){var v=li(o,A._88I.rect,x);return v.x+=h,v.y+=P,v}return Fk.superClass.getPosition.apply(A,arguments)},_24O:function(){this._88I||Fk.superClass._24O.call(this)},_80o:function(K){var D=this,Z=D._88I;if(Z){var z=Z._64o,q=Z._72o,E=Z.background;E&&mg(K,z.x,z.y,z.width,z.height,E),Fo(K,E,Z.depth,z),q&&(mg(K,q.x,q.y,q.width,q.height,Z._65o),Fo(K,Z._65o,Z.depth,q)),D._39O(K,Z)}else Fk.superClass._80o.call(D,K)}});var Ip=function(X,b){Cq(Ip,this,[X,b])};Qq(Ip,On,{_3O:function(){var f=this,Z=f._data,D=f.s,U=f.gv,P=Z.getPoints(),p=U.getBorderColor(Z),X=p?D("border.width"):0,C=f._2o(),O=D("shape.border.width"),h=Z.getRect(),c=f._99o=P.isEmpty()?v:{rect:h,rotation:Z.getRotation(),position:Z.p(),points:P,segments:Z.getSegments(),bodyColor:U.getBodyColor(Z),borderColor:p,borderWidth:X,_94o:D("shape.border.3d"),_95o:D("shape.border.3d.color"),_96o:D("shape.border.3d.accuracy"),_97o:C?D("select.color"):v,selectWidth:C,_53o:D("shape.background"),_54o:O,_55o:D("shape.border.color"),shapeGradient:D("shape.gradient"),_59o:D("shape.gradient.color"),_60o:D("shape.pattern"),_61o:D("shape.border.cap"),_62o:D("shape.border.join")};if(c){var g=O/2+X+C;g&&(h=Tg(h),Wg(h,g,c._62o)),this._68o(h)}},getPosition:function(U,c,F,J){var B=this._99o;if(!B)return je;if(B._53o){var Z=li(U,B.rect,J);return Z.x+=c,Z.y+=F,Z}var Z,Y=B.points,k=Y.size(),a=B.rotation;if(Z=hh[U]?Y.get(X(k/2)):$k[U]?Y.get(0):Y.get(k-1),a){var e=B.position;Z=Rm(a,Z.x-e.x,Z.y-e.y),Z.x+=e.x,Z.y+=e.y}return Z=li(U,{x:Z.x,y:Z.y,width:0,height:0},J),Z.x+=c,Z.y+=F,Z},_42:function(d){this._99o&&Ip.superClass._42.call(this,d)},_80o:function(I){var X,n=this,v=n.s,D=n._99o,b=D.position,L=D.rotation,h=D.bodyColor,s=D.borderWidth,B=D.selectWidth,g=D._53o,y=D._54o,R=D.points,W=D.segments,H=n._data.isClosePath();
L&&(I.save(),zr(I,b.x,b.y),lc(I,L),zr(I,-b.x,-b.y));var N=D._60o,$=Qk(I,N),Y=I.lineJoin,Q=I.lineCap;if(I.lineJoin=D._62o,I.lineCap=D._61o,g?(X=h?h:g,ol(I,X,D.shapeGradient,D._59o,D.rect),Gm(I,R,W,H),I.fill(),$!==I&&Gm($,R,W,H)):Gm($,R,W,H),B&&(I.strokeStyle=D._97o,I.lineWidth=y+2*(s+B),I.stroke()),s&&(I.strokeStyle=D.borderColor,I.lineWidth=y+2*s,I.stroke()),y&&(X=D._55o,!g&&h&&(X=h),I.strokeStyle=X,I.lineWidth=y,I.stroke(),D._94o&&ob(I,X,D._95o,y,n.gv._zoom,D._96o)),Bg(I,N),v("shape.dash")){var k=v("shape.dash.width")||y;if(k>0){N=v("shape.dash.pattern");var $=Qk(I,N,n._2Q("shape.dash.offset"));$!==I&&Gm($,R,W,H),n._1Q(I,"shape",k,N)}}I.lineJoin=Y,I.lineCap=Q,L&&I.restore()},_48O:function(){var O=this;if(Ip.superClass._48O.call(O),O._55O._43O){var v=O._data.getRect();gg(v,O.gv.getEditPointSize()/2+2),O._68o(v)}},_47O:function(V){var M=this;if(Ip.superClass._47O.call(M,V),M._55O._43O){var c=M.gv,C=c.getEditPointSize()/2;V.fillStyle=c.getEditPointBackground(),V.strokeStyle=c.getEditPointBorderColor(),V.lineWidth=1,M._data.getPoints().each(function(t){V.beginPath(),V.arc(t.x,t.y,C,0,O,!0),V.fill(),V.stroke()})}}});var Ze=function(T,S){Cq(Ze,this,[T,S])};Qq(Ze,On,{_3O:function(){var z=this;Ze.superClass._3O.call(z);var h=z.s,M=z._83o;z._82o=M.img||M.shape?v:{background:z.getBodyColor("grid.background"),depth:h("grid.depth"),rect:M.rect,_88o:h("grid.cell.depth"),_89o:h("grid.row.count"),_90o:h("grid.column.count"),block:h("grid.block"),_91o:h("grid.block.color"),_92o:h("grid.block.padding"),_93o:h("grid.block.width")}},_80o:function(Q){var C=this,y=C._82o;if(!y)return Ze.superClass._80o.call(C,Q),void 0;var T,j,I=C._data,t=y.background,K=y.rect,F=y.block,h=y._91o,p=y._92o,J=y._93o,Z=y._88o,b=y._89o,x=y._90o;if(t)if(mg(Q,K.x,K.y,K.width,K.height,t),Fo(Q,t,y.depth,K),Z)for(T=0;b>T;T++)for(j=0;x>j;j++)K=I.getCellRect(T,j),K&&Fo(Q,t,Z,K);else{for(Q.beginPath(),T=0;b>T;T++)for(j=0;x>j;j++)K=I.getCellRect(T,j),K&&Q.rect(K.x,K.y,K.width,K.height);Q.strokeStyle=Lj(t),Q.lineWidth=1,Q.stroke()}if("h"===F)for(T=0;b>T;T++)K=Nr(I.getCellRect(T,0),I.getCellRect(T,x-1)),gg(K,p),bo(Q,h,K.x,K.y,K.width,K.height,J);else if("v"===F)for(j=0;x>j;j++)K=Nr(I.getCellRect(0,j),I.getCellRect(b-1,j)),gg(K,p),bo(Q,h,K.x,K.y,K.width,K.height,J);C._39O(Q,C._83o)}});var qj=Le.Interactor=function(O){this.gv=this._graphView=O};ro("Interactor",V,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(H){this.gv.fi(H)},setCursor:function(Q){P||(this.getView().style.cursor=Q)},startDragging:function(P){var D=this;D._lastClientPoint=ij(P),D._lastLogicalPoint=D.gv.lp(P),mm(D,P)},clearDragging:function(){var C=this;C._lastClientPoint=C._lastLogicalPoint=C._logicalPoint=v},autoScroll:function(r){var z=this.gv,u=z.getAutoScrollZone(),O=u/z.getZoom(),B=u/3,t=z._29I,L=z.lp(r),w=this._lastClientPoint,s={x:z.tx(),y:z.ty()};return L&&u>0&&t&&(L.x-t.x<O?z.translate(B,0):t.x+t.width-L.x<O&&z.translate(-B,0),L.y-t.y<O?z.translate(0,B):t.y+t.height-L.y<O&&z.translate(0,-B)),s.x=z.tx()-s.x,s.y=z.ty()-s.y,w&&(w.x+=s.x,w.y+=s.y),s}});var dr=Le.DefaultInteractor=function(f){Cq(dr,this,[f])};ro("DefaultInteractor",qj,{handle_mousedown:function(M){Ye(M);var k=this,v=k.gv,O=v.getDataAt(M);v.setFocus(M)&&(tq(M)?v.handleDoubleClick(M,O):v.handleClick(M,O),!v.isPannable()||O||v._editing||!Mm(M)||Zr(M)||(k._tx=v.tx(),k._ty=v.ty(),k.startDragging(M)))},handleWindowMouseUp:function(E){var c=this,F=c.gv;F._panning&&(delete F._panning,F.onPanEnded(),c.fi({kind:"endPan",event:E})),delete c._tx,delete c._ty,c.clearDragging()},handleWindowMouseMove:function(t){var Y=this,V=Y.gv,x=Y._lastClientPoint;Y.fi({kind:V._panning?"betweenPan":"beginPan",event:t}),V._panning=1,V.setTranslate(Y._tx+t.clientX-x.x,Y._ty+t.clientY-x.y)},handle_mousewheel:function(i){this.gv.handleScroll(i,i.wheelDelta)},handle_DOMMouseScroll:function(V){2===V.axis&&this.gv.handleScroll(V,-V.detail)},handle_keydown:function(E){this.gv.handleKeyDown(E)}});var cc=Le.SelectInteractor=function(I){Cq(cc,this,[I])};ro("SelectInteractor",qj,{draw:function(Z){var N=this.mark;this.intersects()?mg(Z,N.x,N.y,N.width,N.height,this.gv.getRectSelectBackground()):bo(Z,this.gv.getRectSelectBorderColor(),N.x,N.y,N.width,N.height)},handle_mousedown:function(k){var J=this,X=J.gv;if(J._57I=v,!X._editing){var q=X.getDataAt(k),M=X.sm();q?Zr(k)?M.co(q)?M.rs(q):M.as(q):M.co(q)||M.ss(q):Zr(k)||!X.isPannable()?Mm(k)&&(Zr(k)||M.cs(),X.isRectSelectable()&&(J.startDragging(k),X._77O=1)):J._57I=ij(k)}},handle_mouseup:function(P){var p=this,O=p._57I;O&&(Lp(O,ij(P))<=1&&p.gv.sm().cs(),p._57I=v)},handleWindowMouseUp:function(p){this.clear(p)},handleWindowMouseMove:function(t){var D=this,n=D.gv;D._logicalPoint=n.lp(t),D.mark?(D.fi({kind:"betweenRectSelect",event:t}),D.autoScroll(t),D.redraw()):(D.fi({kind:"beginRectSelect",event:t}),n.addTopPainter(D)),D.mark=vn(D._lastLogicalPoint,D._logicalPoint),D.redraw()},intersects:function(){var D=this,Y=D._lastLogicalPoint,P=D._logicalPoint;return Y.x>P.x||Y.y>P.y},clear:function(n){var Z=this,c=Z.gv,a=Z.mark;if(Z._57I=v,Z._lastLogicalPoint){if(a){if(0!==a.width&&0!==a.height){var Y=c.getDatasInRect(a,Z.intersects());if(!Y.isEmpty()){var z=c.sm(),j=z.toSelection();Y.each(function(r){z.co(r)?j.remove(r):j.add(r)}),z.ss(j)}}c.removeTopPainter(Z),Z.redraw(),delete Z.mark,Z.fi({kind:"endRectSelect",event:n}),c.onRectSelectEnded()}Z.clearDragging(),delete c._77O}},redraw:function(){this.gv.redraw(gg(Tg(this.mark),1))}});var Di=Le.MoveInteractor=function(j){Cq(Di,this,[j])};ro("MoveInteractor",qj,{handle_mousedown:function(U){var V=this,Q=V.gv;if(Mm(U)&&!Q._editing){var r=Q.getSelectedDataAt(U);r?(V._data=r,Q.handleMouseDown&&Q.handleMouseDown(U,r),V.startDragging(U),Q.isMovable(r)&&(Q._moving=1)):Q._focusData=v}},handleWindowMouseUp:function(X){var _=this,e=_.gv;e.handleMouseUp&&e.handleMouseUp(X,_._data),_.clear(X)},handleWindowMouseMove:function(h){var X=this,g=X.gv;if((!g._93O||!g._93O(h,X._data))&&g._moving){var Y={kind:X._logicalPoint?"betweenMove":"beginMove",event:h},S=X._logicalPoint=g.lp(h);g.moveSelection(S.x-X._lastLogicalPoint.x,S.y-X._lastLogicalPoint.y),X._lastLogicalPoint=S,X.autoScroll(h),X.fi(Y)}},clear:function(d){var T=this,u=T.gv;T._lastLogicalPoint&&(T._lastLogicalPoint=T._data=u._moving=v,T._logicalPoint&&(T.fi({kind:"endMove",event:d}),u.onMoveEnded()),T.clearDragging())}});var qp=Le.EditInteractor=function(W){Cq(qp,this,[W])};ro("EditInteractor",qj,{ms_edit:1,setUp:function(){var U=this;qp.superClass.setUp.call(U),P||U.gv.setEditInteractor(U)},tearDown:function(){qp.superClass.tearDown.call(this),P||this.gv.setEditInteractor(v)},clear:function(){var R=this,J=R.gv;J._editing&&(J._editing=R._77I=R._node=R._edge=R._shape=R._rect=R._89I=R._index=v,R.clearDragging(),R.setCursor(A))},handle_mousedown:function(G){var c=this,m=c._index,A=c._node,r=c._shape,l=c._edge,o=c._77I,j=c._89I;Mm(G)&&c.gv._editing&&(A&&j?(c._rect=A.getRect(),c.startDragging(G),c.fi({kind:"beginEditRect",event:G,data:A,direction:j})):r&&m>=0?(c.startDragging(G),c.fi({kind:"beginEditPoint",event:G,data:r,index:m})):l&&m>=0?(c.startDragging(G),c.fi({kind:"beginEditPoint",event:G,data:l,index:m})):o&&(c.startDragging(G),c.fi({kind:"beginEditRotation",event:G,data:o})))},handleWindowMouseUp:function(P){this._46O(P),this.clear()},handleWindowMouseMove:function(T){this._78I(T)},handle_mousemove:function(T){if(!pg){var o=this,B=o.gv;o._79I(T,B.getSelectedDataAt(T))?B._editing=1:o.clear()}}});var $o=Le.TouchInteractor=function(F,M){M=M||{},M.selectable===U&&(M.selectable=!0),M.movable===U&&(M.movable=!0),M.pannable===U&&(M.pannable=!0),M.pinchable===U&&(M.pinchable=!0),M.editable===U&&(M.editable=!0),this.params=M,Cq($o,this,[F])};ro("TouchInteractor",qj,{ms_edit:1,setUp:function(){var w=this;$o.superClass.setUp.call(w),P&&w.params.editable&&w.gv.setEditInteractor(w)},tearDown:function(){var y=this;$o.superClass.tearDown.call(y),P&&y.params.editable&&y.gv.setEditInteractor(v)},clear:function($){var K=this,p=K.gv;p._moving&&(K.fi({kind:"endMove",event:$}),delete p._moving,p.onMoveEnded()),p._panning&&(K.fi({kind:"endPan",event:$}),delete p._panning,p.onPanEnded()),p._pinching&&(K.fi({kind:"endPinch",event:$}),delete p._pinching,p.onPinchEnded()),p._editing&&(K._46O($),K._77I=K._node=K._edge=K._shape=K._rect=K._89I=K._index=p._editing=v),K._moving=K._panning=K._pinching=K._editing=K._57I=K._data=v,K.clearDragging()},handle_touchstart:function(e){var y=this;if(!y.gv._editing){Ye(e),y._57I=v;var O=y.params,P=y.gv,q=P.sm(),c=P.getDataAt(e),f=Ke(e);if(1===f)tq(e)?P.handleDoubleClick(e,c):(P.handleClick(e,c),c&&(P.handleMouseDown&&P.handleMouseDown(e,c),y._data=c)),O.selectable||(c=v),c?(q.co(c)||q.ss(c),O.editable&&P.isEditable(c)&&y._79I(e,c,!0)?(y._editing=1,y.startDragging(e)):O.movable&&P.isMovable(c)&&(y._moving=1,y.startDragging(e))):(y._57I=ij(e),O.pannable&&P.isPannable()&&(y._panning=1,y.startDragging(e),y._translate={x:P.tx(),y:P.ty()}));else if(O.pinchable&&2===f){y._pinching=1,y.startDragging(e);var b=P.getView(),n=P.getZoom(),S=b.getBoundingClientRect(),H=e.touches[0],M=e.touches[1],W={x:(H.clientX+M.clientX)/2-S.left,y:(H.clientY+M.clientY)/2-S.top};W.x-=P.tx(),W.y-=P.ty(),W.x/=n,W.y/=n,y._p=W,y._d=mr(e)}}},handle_touchend:function(K){var c=this,J=c.gv,q=c._57I,n=c._data;q&&(Lp(q,ij(K))<=1&&J.sm().cs(),c._57I=v),n&&J.handleMouseUp&&J.handleMouseUp(K,n)},handleWindowTouchEnd:function(M){this.clear(M)},handleWindowTouchMove:function(k){var g=this,Y=g.gv,R=Ke(k);if(1===R){if(g._editing&&(Y._editing=1,g._78I(k)),g._moving)g.handleMove(k);else if(g._panning){var X=ij(k);Y.setTranslate(g._translate.x+X.x-g._lastClientPoint.x,g._translate.y+X.y-g._lastClientPoint.y),g.fi({kind:Y._panning?"betweenPan":"beginPan",event:k}),Y._panning=1}}else if(2===R&&g._pinching){var s=mr(k);Y.handlePinch(g._p,s,g._d),g._d=s,g.fi({kind:Y._pinching?"betweenPinch":"beginPinch",event:k}),Y._pinching=1}},handleMove:function(b){var U=this,v=U.gv,T=v.lp(b);v._93O&&v._93O(b,U._data)||(v.moveSelection(T.x-U._lastLogicalPoint.x,T.y-U._lastLogicalPoint.y),U._lastLogicalPoint=T,U.autoScroll(b),U.fi({kind:v._moving?"betweenMove":"beginMove",event:b}),v._moving=1)}}),sq(e,{graph3dViewPrecision:"precision mediump float;",graph3dViewAttributes:v,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewClearColor:[0,0,0,0],graph3dViewMoveStep:10,graph3dViewRotateStep:H/60,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:of,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewFovy:H/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewLightDirection:[0,0,-1],setShape3dModel:function(h,J){Yf[h]=J},getShape3dModel:function(v){return Yf[v]},createMatrix:function(o,G){nn(o)||(o=[o]);for(var X=o.length-1;X>=0;X--){var z=o[X];G=so(z.mat,z.s3,z.r3,z.rotationMode,z.t3,G)}return G},transformVec:function(P,$){return Pn(P,$)}},!0),sq(D,{batch:U,"transparent.mask":!1,brightness:U,"select.brightness":.7,"control.point.offset.x":0,"control.point.offset.y":0,"label.face":m,"label.t3":U,"label.r3":U,"label.rotationMode":hm,"label.light":!0,"label.blend":U,"label.brightness":U,"label.reverse.flip":!1,"label.reverse.color":og,"label.reverse.cull":!1,"label.ambient":rh,"label.specular":vc,"label.shininess":U,"label.transparent":!1,"label.autorotate":!1,"label2.face":m,"label2.t3":U,"label2.r3":U,"label2.rotationMode":hm,"label2.light":!0,"label2.blend":U,"label2.brightness":U,"label2.reverse.flip":!1,"label2.reverse.color":og,"label2.reverse.cull":!1,"label2.ambient":rh,"label2.specular":vc,"label2.shininess":U,"label2.transparent":!1,"label2.autorotate":!1,"note.face":m,"note.t3":U,"note.r3":U,"note.rotationMode":hm,"note.light":!0,"note.blend":U,"note.brightness":U,"note.reverse.flip":!1,"note.reverse.color":og,"note.reverse.cull":!1,"note.ambient":rh,"note.specular":vc,"note.shininess":U,"note.transparent":!1,"note.autorotate":!1,"note2.face":cn,"note2.t3":U,"note2.r3":U,"note2.rotationMode":hm,"note2.light":!0,"note2.blend":U,"note2.brightness":U,"note2.reverse.flip":!1,"note2.reverse.color":og,"note2.reverse.cull":!1,"note2.ambient":rh,"note2.specular":vc,"note2.shininess":U,"note2.transparent":!1,"note2.autorotate":!1,shape3d:U,"shape3d.color":rf,"shape3d.top.color":U,"shape3d.bottom.color":U,"shape3d.from.color":U,"shape3d.to.color":U,"shape3d.image":U,"shape3d.top.image":U,"shape3d.bottom.image":U,"shape3d.from.image":U,"shape3d.to.image":U,"shape3d.opacity.image":U,"shape3d.top.opacity.image":U,"shape3d.bottom.opacity.image":U,"shape3d.from.opacity.image":U,"shape3d.to.opacity.image":U,"shape3d.mode":U,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":U,"shape3d.side.to":U,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.67,"shape3d.resolution":0,"shape3d.thickness":1,"shape3d.brightness":U,"shape3d.opacity":U,"shape3d.reverse.flip":!1,"shape3d.reverse.color":og,"shape3d.reverse.cull":!1,"shape3d.ambient":rh,"shape3d.specular":vc,"shape3d.shininess":U,"shape3d.transparent":!1,"shape3d.uv.offset":U,"shape3d.uv.scale":U,"shape3d.top.uv.offset":U,"shape3d.top.uv.scale":U,"shape3d.bottom.uv.offset":U,"shape3d.bottom.uv.scale":U,"shape3d.from.uv.offset":U,"shape3d.from.uv.scale":U,"shape3d.to.uv.offset":U,"shape3d.to.uv.scale":U,"all.light":!0,"all.visible":!0,"all.color":rf,"all.image":U,"all.opacity.image":U,"all.blend":U,"all.brightness":U,"all.opacity":U,"all.reverse.flip":!1,"all.reverse.color":og,"all.reverse.cull":!1,"all.ambient":rh,"all.specular":vc,"all.shininess":U,"all.transparent":!1,"all.uv":U,"all.uv.offset":U,"all.uv.scale":U,mat:U,"left.mat":U,"right.mat":U,"top.mat":U,"bottom.mat":U,"front.mat":U,"back.mat":U},!0);var Hp=!1,Vk=[0,0,1/255,1],Fh={left:[1/255,0,0,1],right:[2/255,0,0,1],top:[3/255,0,0,1],bottom:[4/255,0,0,1],front:[5/255,0,0,1],back:[6/255,0,0,1],m:{1:r,2:N,3:cn,4:Yp,5:m,6:W}},Li=function(A,w,x,h){if(w.getFaceVisible(A,x)){Yn(w,Th(A,w.getFaceMat(A,x)||w.getMat(A)));var k=w._26I;w.getFaceReverseCull(A,x)?k.enable(k.CULL_FACE):k.disable(k.CULL_FACE),fl(k,w._prg.uFixColor,Fh[x]),wn(k,h,6,k.TRIANGLES),od(w)}},ap=function(w){return w>0&&0===(w-1&w)},Sd=function(t){return t=k(0,I(H,t)),t=k(Kg,I(H-Kg,t))},Qg=function(){return.05+u()/2},Wq=function(Z,i,c,T){var m,r=Z.getEye();return Z.isOrtho()?(m=jf(Z.getCenter(),r),m[0]+=T[0],m[1]+=T[1],m[2]+=T[2]):m=r,Wm(i,c,T,m)},Wm=function(P,G,o,n){var J=Wk(P,G),M=jf(n,o,!0),X=Wk(M,G);if(y(X)<Kg)return v;var z=(J-Wk(o,G))/X;return[o[0]+M[0]*z,o[1]+M[1]*z,o[2]+M[2]*z]},tk=function(E,C){return{x:2*E.x-C.x,y:2*E.y-C.y}},$r=function(f,A,U,d){var M,X;if(!f)return M=Y(A.y-U.y,U.x-A.x),{x:A.x+d*a(M),y:A.y+d*h(M)};if(!U)return M=Y(f.y-A.y,A.x-f.x),{x:A.x+d*a(M),y:A.y+d*h(M)};var Z=jf([f.x,f.y,0],[A.x,A.y,0],!0),L=jf([U.x,U.y,0],[A.x,A.y,0],!0),H=-(Z[0]+L[0])/2,v=-(Z[1]+L[1])/2,O=t(H*H+v*v);return Kg>O?(M=Y(f.y-A.y,A.x-f.x),{x:A.x+d*a(M),y:A.y+d*h(M)}):(M=p(Wk(Z,L))/2,X=Z[1]*L[0]-Z[0]*L[1]>0?-1:1,H/=O,v/=O,O=d/a(M),{x:A.x+X*O*H,y:A.y+X*O*v})},ai=function(T){var J=T[1],Q=T[2],A=T[3],x=T[6],c=T[7],N=T[11];T[1]=T[4],T[2]=T[8],T[3]=T[12],T[4]=J,T[6]=T[9],T[7]=T[13],T[8]=Q,T[9]=x,T[11]=T[14],T[12]=A,T[13]=c,T[14]=N},Mo=function(P){var Y=P[0],V=P[1],A=P[2],x=P[3],t=P[4],F=P[5],R=P[6],W=P[7],J=P[8],o=P[9],e=P[10],M=P[11],O=P[12],K=P[13],h=P[14],H=P[15],n=Y*F-V*t,Q=Y*R-A*t,l=Y*W-x*t,G=V*R-A*F,I=V*W-x*F,c=A*W-x*R,b=J*K-o*O,q=J*h-e*O,m=J*H-M*O,U=o*h-e*K,C=o*H-M*K,T=e*H-M*h,$=n*T-Q*C+l*U+G*m-I*q+c*b;return $?($=1/$,P[0]=(F*T-R*C+W*U)*$,P[1]=(A*C-V*T-x*U)*$,P[2]=(K*c-h*I+H*G)*$,P[3]=(e*I-o*c-M*G)*$,P[4]=(R*m-t*T-W*q)*$,P[5]=(Y*T-A*m+x*q)*$,P[6]=(h*l-O*c-H*Q)*$,P[7]=(J*c-e*l+M*Q)*$,P[8]=(t*C-F*m+W*b)*$,P[9]=(V*m-Y*C-x*b)*$,P[10]=(O*I-K*l+H*n)*$,P[11]=(o*l-J*I-M*n)*$,P[12]=(F*q-t*U-R*b)*$,P[13]=(Y*U-V*q+A*b)*$,P[14]=(K*Q-O*G-h*n)*$,P[15]=(J*G-o*Q+e*n)*$,void 0):v},sn=function(D,t){if(t){var W=t[0],i=t[1],S=t[2];D[12]=D[0]*W+D[4]*i+D[8]*S+D[12],D[13]=D[1]*W+D[5]*i+D[9]*S+D[13],D[14]=D[2]*W+D[6]*i+D[10]*S+D[14],D[15]=D[3]*W+D[7]*i+D[11]*S+D[15]}},Ic=function(A,m){if(m){var b=m[0],U=m[1],$=m[2];A[0]=A[0]*b,A[1]=A[1]*b,A[2]=A[2]*b,A[3]=A[3]*b,A[4]=A[4]*U,A[5]=A[5]*U,A[6]=A[6]*U,A[7]=A[7]*U,A[8]=A[8]*$,A[9]=A[9]*$,A[10]=A[10]*$,A[11]=A[11]*$}},wi=function(O,M,I){var j=M[0],V=M[1],E=M[2],H=M[3],q=M[4],B=M[5],C=M[6],F=M[7],y=M[8],c=M[9],Y=M[10],_=M[11],a=M[12],J=M[13],e=M[14],g=M[15],T=I[0],W=I[1],r=I[2],x=I[3];return O[0]=T*j+W*q+r*y+x*a,O[1]=T*V+W*B+r*c+x*J,O[2]=T*E+W*C+r*Y+x*e,O[3]=T*H+W*F+r*_+x*g,T=I[4],W=I[5],r=I[6],x=I[7],O[4]=T*j+W*q+r*y+x*a,O[5]=T*V+W*B+r*c+x*J,O[6]=T*E+W*C+r*Y+x*e,O[7]=T*H+W*F+r*_+x*g,T=I[8],W=I[9],r=I[10],x=I[11],O[8]=T*j+W*q+r*y+x*a,O[9]=T*V+W*B+r*c+x*J,O[10]=T*E+W*C+r*Y+x*e,O[11]=T*H+W*F+r*_+x*g,T=I[12],W=I[13],r=I[14],x=I[15],O[12]=T*j+W*q+r*y+x*a,O[13]=T*V+W*B+r*c+x*J,O[14]=T*E+W*C+r*Y+x*e,O[15]=T*H+W*F+r*_+x*g,O},Ek=function(D,s,x,Y){var M,u,U,l,X,$,Q,V,o,O,N=s[0],c=s[1],C=s[2],h=Y[0],j=Y[1],n=Y[2],p=x[0],W=x[1],J=x[2];return y(N-p)<Kg&&y(c-W)<Kg&&y(C-J)<Kg?ah(D):(Q=N-p,V=c-W,o=C-J,O=1/t(Q*Q+V*V+o*o),Q*=O,V*=O,o*=O,M=j*o-n*V,u=n*Q-h*o,U=h*V-j*Q,O=t(M*M+u*u+U*U),O?(O=1/O,M*=O,u*=O,U*=O):(M=0,u=0,U=0),l=V*U-o*u,X=o*M-Q*U,$=Q*u-V*M,O=t(l*l+X*X+$*$),O?(O=1/O,l*=O,X*=O,$*=O):(l=0,X=0,$=0),D[0]=M,D[1]=l,D[2]=Q,D[3]=0,D[4]=u,D[5]=X,D[6]=V,D[7]=0,D[8]=U,D[9]=$,D[10]=o,D[11]=0,D[12]=-(M*N+u*c+U*C),D[13]=-(l*N+X*c+$*C),D[14]=-(Q*N+V*c+o*C),D[15]=1,D)},xe=function(N,e,i,F,b){var Y=1/L(e/2),y=1/(F-b);return N[0]=Y/i,N[1]=0,N[2]=0,N[3]=0,N[4]=0,N[5]=Y,N[6]=0,N[7]=0,N[8]=0,N[9]=0,N[10]=(b+F)*y,N[11]=-1,N[12]=0,N[13]=0,N[14]=2*b*F*y,N[15]=0,N},ib=function(l,c,U,s,e,G,x){var M=1/(c-U),a=1/(s-e),o=1/(G-x);return l[0]=-2*M,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*a,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*o,l[11]=0,l[12]=(c+U)*M,l[13]=(e+s)*a,l[14]=(x+G)*o,l[15]=1,l},ng=function(o,q,g){var d=jf(q,o),P=Lp(o,q);return so(v,[g,P,g],[E-T(d[1]/P),Y(d[0],d[2]),0],"xyz",[(o[0]+q[0])/2,(o[1]+q[1])/2,(o[2]+q[2])/2])},Vc=function(M,n){return Ek(n?n:jl(),M._eye,M._center,M._up)},Ei=function(o){var H=o.getAspect(),i=o._near,J=o._far,Z=jl();if(o._ortho){var z=o._orthoWidth/2,V=z/H;ib(Z,-z,z,-V,V,i,J)}else xe(Z,o._fovy,H,i,J);return Z},Qj=function(d,f){if(!d)return v;var U=0,s=1,T=2,o=[],L=0,j=d.length,K=j/3;if(f){for(;j>L;L++)o[L]=0;for(L=0;L<f.length;L+=3){var _=[],m=[],O=[];_[U]=d[3*f[L+1]+U]-d[3*f[L]+U],_[s]=d[3*f[L+1]+s]-d[3*f[L]+s],_[T]=d[3*f[L+1]+T]-d[3*f[L]+T],m[U]=d[3*f[L+2]+U]-d[3*f[L+1]+U],m[s]=d[3*f[L+2]+s]-d[3*f[L+1]+s],m[T]=d[3*f[L+2]+T]-d[3*f[L+1]+T],O[U]=_[s]*m[T]-_[T]*m[s],O[s]=_[T]*m[U]-_[U]*m[T],O[T]=_[U]*m[s]-_[s]*m[U];for(var c=0;3>c;c++)o[3*f[L+c]+U]+=O[U],o[3*f[L+c]+s]+=O[s],o[3*f[L+c]+T]+=O[T]}}else for(L=0;K>L;L+=3){var _=[],m=[],O=[];_[U]=d[3*(L+1)+U]-d[3*L+U],_[s]=d[3*(L+1)+s]-d[3*L+s],_[T]=d[3*(L+1)+T]-d[3*L+T],m[U]=d[3*(L+2)+U]-d[3*(L+1)+U],m[s]=d[3*(L+2)+s]-d[3*(L+1)+s],m[T]=d[3*(L+2)+T]-d[3*(L+1)+T],O[U]=_[s]*m[T]-_[T]*m[s],O[s]=_[T]*m[U]-_[U]*m[T],O[T]=_[U]*m[s]-_[s]*m[U];for(var c=0;3>c;c++)o[3*(L+c)+U]=O[U],o[3*(L+c)+s]=O[s],o[3*(L+c)+T]=O[T]}for(L=0;j>L;L+=3){var X=[];X[U]=o[L+U],X[s]=o[L+s],X[T]=o[L+T];var P=t(X[U]*X[U]+X[s]*X[s]+X[T]*X[T]);0===P&&(P=Kg),X[U]=X[U]/P,X[s]=X[s]/P,X[T]=X[T]/P,o[L+U]=X[U],o[L+s]=X[s],o[L+T]=X[T]}return new Mg(o)},Vb=function(U,k,n){if(n||(n=U.createTexture()),k){var o=U.TEXTURE_2D,w=U.LINEAR,S=U.REPEAT,H=U.CLAMP_TO_EDGE,b=U.TEXTURE_MIN_FILTER;ge(U,n),U.texImage2D(o,0,U.RGBA,U.RGBA,U.UNSIGNED_BYTE,k),Xc(U,U.TEXTURE_MAG_FILTER,w),ap(k.width)&&ap(k.height)?(Xc(U,U.TEXTURE_WRAP_S,S),Xc(U,U.TEXTURE_WRAP_T,S),Xc(U,b,U.LINEAR_MIPMAP_LINEAR),U.generateMipmap(o)):(Xc(U,U.TEXTURE_WRAP_S,H),Xc(U,U.TEXTURE_WRAP_T,H),Xc(U,b,w)),ge(U,v)}return n},ks=function(z,K,y,j){var U=z.createShader(y);z.shaderSource(U,j),z.compileShader(U),z.attachShader(K,U)},Yg=function(E){return E.createBuffer()},ge=function(J,x){J.bindTexture(J.TEXTURE_2D,x)},De=function(F,j){F.bindFramebuffer(F.FRAMEBUFFER,j)},Xc=function($,U,j){$.texParameteri($.TEXTURE_2D,U,j)},Mf=function(Q,l){if(l){var l=cb(l);Q.clearColor(l[0],l[1],l[2],l[3])}},pk=function(Z,X){fl(Z,X.uFix,!0),ic(Z,X.aNormal)},ec=function(s,j){fl(s,j.uFix,!1),Kp(s,j.aNormal)},oj=function(h,p,X,k,l,u,V,z,j,n,A,o){X?(fl(h,p.uBlend,!0),fl(h,p.uBlendColor,X)):fl(h,p.uBlend,!1),fl(h,p.uLight,k==v?!0:k),Nf(l)&&1!==l&&(fl(h,p.uPartBright,!0),fl(h,p.uPartBrightness,l)),Nf(u)&&1!==u&&(fl(h,p.uPartOp,!0),fl(h,p.uPartOpacity,u)),fl(h,p.uReverseFlip,V==v?!1:V),fl(h,p.uReverseColor,z||og),j?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),fl(h,p.uAmbient,n||rh),o>0&&(fl(h,p.uIs,!0),fl(h,p.uShininess,o),fl(h,p.uSpecular,A||vc))},Yc=function($,H){fl($,H.uPartBright,!1),fl($,H.uPartOp,!1),fl($,H.uIs,!1)},wf=function(O,r,n,q,Q,w,k,o){n&&(fl(O,r.uTexture,!0),Kp(O,r.aUv),nf(O,Q,w,r.aUv,2),O.activeTexture(O.TEXTURE0),ge(O,n),O.uniform1i(r.uSampler,0),fl(O,r.uUvOffset,k?k:xm),fl(O,r.uUvScale,o?o:_i),q&&(fl(O,r.uOTexture,!0),O.activeTexture(O.TEXTURE1),ge(O,q),O.uniform1i(r.uOSampler,1)))},Vg=function(M,c,o){o&&(ge(M,v),ic(M,c.aUv),fl(M,c.uTexture,!1),fl(M,c.uOTexture,!1))},Em=function(W,$,n,O,K,g){n&&!z&&W.lineWidth(n),O&&fl(W,$.uFixColor,O),K&&nf(W,K,g,$.aPosition)},Yb=function(x,g,e,W){x.drawArrays(W,g,e)},wn=function(H,U,_,i){H.drawElements(i,_,H.UNSIGNED_SHORT,U==v?0:2*U)},nf=function(y,d,o,N,t){var _=y.ARRAY_BUFFER;y.bindBuffer(_,d),o&&y.bufferData(_,o,y.STATIC_DRAW),N!=v&&y.vertexAttribPointer(N,t?t:3,y.FLOAT,!1,0,0)},Br=function(Q,X,t){var B=Q.ELEMENT_ARRAY_BUFFER;Q.bindBuffer(B,X),t&&Q.bufferData(B,t,Q.STATIC_DRAW)},fl=function(I,E,N){if(N!=v){N=cb(N);var J=N.length;3===J?I.uniform3fv(E,N):4===J?I.uniform4fv(E,N):16===J?I.uniformMatrix4fv(E,!1,N):vb(N)?I.uniform1i(E,N?1:0):2===J?I.uniform2fv(E,N):I.uniform1f(E,N)}},Kp=function(u,_){u.enableVertexAttribArray(_)},ic=function(i,H){i.disableVertexAttribArray(H)},od=function(D,r){var k=D.getGL(),$=D._prg;D._7O=D._8O.pop(),r&&(fl(k,$.uMVMatrix,D._7O),D._6O=r,fl(k,$.uNMatrix,r))},Yn=function(P,$){var m=P.getGL(),H=P._prg,S=P._7O,I=P._6O;$&&(P._8O.push(Ao(S)),wi(S,S,$)),fl(m,H.uMVMatrix,S),mf(I,S),Mo(I),ai(I),fl(m,H.uNMatrix,I)},wk=function(W,j,I,M,p,m){if(I){if(M){var U=I.value++,O=[(255&U>>16)/255,(255&U>>8)/255,(255&U)/255,1];I[U]={data:p,part:m}}else O=Vk;return fl(W,j.uPickColor,O),O}},cf=function(){var M={front:function(W,r,N,C,V){var d=r[1]/2,X={x:-r[0]/2,y:d,width:r[0],height:r[1]},P=li(W,X,N);return[P.x+C,2*d-P.y-V,r[2]/2+Qg()]},back:function(d,M,I,$,T){var K=M[0]/2,E=M[1]/2,G={x:K,y:E,width:M[0],height:M[1]},b=li(d,G,I);return[2*K-b.x-$,2*E-b.y-T,-M[2]/2-Qg()]},left:function(Q,S,N,i,J){var I=S[1]/2,k={x:-S[2]/2,y:I,width:S[2],height:S[1]},j=li(Q,k,N);return[-S[0]/2-Qg(),2*I-j.y-J,j.x+i]},right:function(B,Y,F,y,W){var S=Y[2]/2,b=Y[1]/2,P={x:S,y:b,width:Y[2],height:Y[1]},r=li(B,P,F);return[Y[0]/2+Qg(),2*b-r.y-W,2*S-r.x-y]},top:function(u,c,h,k,r){var R={x:-c[0]/2,y:-c[2]/2,width:c[0],height:c[2]},N=li(u,R,h);return[N.x+k,c[1]/2+Qg(),N.y+r]},bottom:function(a,K,H,M,k){var G=K[2]/2,c={x:-K[0]/2,y:G,width:K[0],height:K[2]},Q=li(a,c,H);return[Q.x+M,-K[1]/2-Qg(),2*G-Q.y-k]}};return function(j,c,C,S,f,U){return M[S](j,c,C,f==v?0:f,U==v?0:U)}}(),Af=function(j,_){var Q=_.auto,d=_.mat2,n=j.gv;if(Q){var a=jf(j.gv.getEye(),_.pos),R=jl();jh(R,H/2+Y(-a[2],a[0])),"y"!==Q&&im(R,-Y(a[1],t(a[2]*a[2]+a[0]*a[0]))),d&&wi(R,R,d),R=wi(jl(),_,R),Yn(n,R)}else Yn(n,_)},_p=function(h,C,a,k){var T=h.s,I=h.gv,N=I.getGL(),D=I._prg,m=I._buffer,V=I._1O;Vb(N,Bo,V),Af(h,a),oj(N,D,T(C+".blend"),T(C+".light"),T(C+".brightness"),T(C+".opacity"),T(C+".reverse.flip"),T(C+".reverse.color"),T(C+".reverse.cull"),T(C+".ambient"),T(C+".specular"),T(C+".shininess")),wf(N,D,V,v,m.uv,Ir),nf(N,m.vs,k,D.aPosition),nf(N,m.ns,gk,D.aNormal),Br(N,m.is,rb),wn(N,0,rb.length,N.TRIANGLES),Vg(N,D,V),Yc(N,D),od(I)},ed=function(O,j){var v=O.gv,J=O.data,n=O[j]={blend:v.getBodyColor(J)||v.getFaceBlend(J,j),light:v.getFaceLight(J,j),color:v.getFaceColor(J,j),brightness:v.getFaceBrightness(J,j),opacity:v.getFaceOpacity(J,j),transparent:v.getFaceTransparent(J,j),reverseFlip:v.getFaceReverseFlip(J,j),reverseColor:v.getFaceReverseColor(J,j),reverseCull:v.getFaceReverseCull(J,j),ambient:v.getFaceAmbient(J,j),specular:v.getFaceSpecular(J,j),shininess:v.getFaceShininess(J,j),texture:v.getFaceImage(J,j),oTexture:v.getFaceOpacityImage(J,j)};if("csg"!==j){n.uv=v.getFaceUv(J,j),n.uvScale=v.getFaceUvScale(J,j),n.uvOffset=v.getFaceUvOffset(J,j);var g=v.getFaceMat(J,j);g&&(n.mat=Th(J,g))}return n},Tm=function(P,a,V,X,m){if(X){if(!m(X.transparent))return;var h=P.data,l=P.gv,Q=l._buffer,k=l.getTexture(X.texture,h);wf(a,V,k,l.getTexture(X.oTexture,h),Q.uv,X.tuv,X.uvOffset,X.uvScale),oj(a,V,X.blend,X.light,X.brightness,X.opacity,X.reverseFlip,X.reverseColor,X.reverseCull,X.ambient,X.specular,X.shininess),fl(a,V.uDiffuse,X.color),nf(a,Q.vs,X.vs,V.aPosition),nf(a,Q.ns,X.ns,V.aNormal),Yb(a,0,X.vs.length/3,a.TRIANGLES),Yc(a,V),Vg(a,V,k)}},pf=function(L,T,i,t,z,$){var R,n,A,H,h,E,o,s,U,J,c,w=[t-T,z-i],Y=L?L.length:0;for(A=0;Y>A;A++){for(H=2,R=L[A],h=R[0],E=R[1];H+1<R.length;){if(o=R[H],s=R[H+1],n=dq(T,i,t,z,h,E,o,s,!0)){U=[o-h,s-E],J=Lp(U),U[0]/=J,U[1]/=J,J=Wk(w,U),J=J>0?$:-$,c=[U[0]*J,U[1]*J];break}h=o,E=s,H+=2}if(c)break}if(c)for(t=T+c[0],z=i+c[1],A=0;Y>A;A++)for(H=2,R=L[A],h=R[0],E=R[1];H+1<R.length;){if(o=R[H],s=R[H+1],n=dq(T,i,t,z,h,E,o,s,!0))return[0,0];h=o,E=s,H+=2}return c?c:[t-T,z-i]},rd=b.graph3d={},Bb=function(I,F,Z){Qq(G+".graph3d."+I,F,Z)};sq(e,{setBatchInfo:function(b,u){Yh[b]=u},getBatchInfo:function(p){return Yh[p]}},!0);var ef=[1,1,1],Dl=[1,0,0,0,0,1,0,1,1,1,1,0],Pf=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],Dh=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],Vf=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],Ub=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],Ck=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],sp=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],xs=function(G,M){if(M){var i,y,S=M._id,B=G._33O,b=G._34O,l=b[S];if(l){y=l.batch,i=B[y];var g=l.begin,Q=l.size,L=3*g,m=3*Q,o=i.vs,c=i.uv,z=i.cs,C=i.bs,v=i.rs,T=i.ds,H=l.index;if(i.invalidate=!0,delete b[S],T.splice(l.index,1),Lh(T))delete B[y];else{for(;H<T.length;H++)l=b[T[H]._id],l.index--,l.begin-=Q;o.splice(L,m),i.ns.splice(L,m),i.ps.splice(L,m),c&&c.splice(2*g,2*Q),z&&z.splice(L,m),C&&C.splice(L,m),v&&v.splice(g,Q)}}y=M.s("batch"),i=B[y],i&&(i.invalidate=!0)}else G._34O={},G._33O={}},db=function(G,I,L,N){if(!N)return v;var h=I[N];if(!h){var q=Yh[N]||dd,p=q.image?[]:v;h=I[N]={vs:[],ns:[],uv:p,cs:p?v:q.color?v:[],bs:q.blend?[]:v,ps:[],rs:q.brightness?[]:v,ds:[],invalidate:!0}}return G[L._id]={index:h.ds.length,begin:h.vs.length/3,batch:N},h.ds.push(L),h},ph=function(d,R,B){for(var R=cb(R),I=R[0],b=R[1],G=R[2];B--;)d.push(I,b,G)},xk=function(b,X,J){if(X)for(var H,f,F,n=X[0],V=X[1],h=X[2],W=X[4],B=X[5],z=X[6],A=X[8],E=X[9],j=X[10],s=X[12],u=X[13],r=X[14],t=J.length,m=0,m=0;t>m;m+=3)H=J[m],f=J[m+1],F=J[m+2],b.push(n*H+W*f+A*F+s,V*H+B*f+E*F+u,h*H+z*f+j*F+r);else Kr(b,J)},wh=function(i,k){var N=k+["32"],l=i[k],c=i[N];l?c&&c.length===l.length?c.set(l):i[N]=new Mg(l):delete i[N]},Qf=function(t,P,X,U,f,L,V,K,m){if(nn(X))X.forEach(function(B){Qf(t,P,B,U,f,L,V,K,m)});else if(Ur(X))Qf(t,P,Sh(U,X),U,f,L,V,K,m);else if(sg(X)){var e,y=cl(X.mat,P,t),I=cl(X.s3,P,t),Q=cl(X.t3,P,t),v=cl(X.r3,P,t);if((I||v||Q||y)&&(e=so(y,I,v,cl(X.rotationMode,P,t),Q),L.push(e)),X.shape3d)Qf(t,P,X.shape3d,U,f,L,V,K,X);else{m=m||dd;var i=L[0],s=L.length,R=U("shape3d.color",X.color,m.color);if(f||(f=U("shape3d.blend",X.blend,m.blend)),s>1){i=Ao(i);for(var B=1;s>B;B++)wi(i,i,L[B])}X.vs&&U("shape3d.visible",X.visible,m.visible)&&vh(i,V,K,X.vs,X.uv,X.is,f,R),X.top_vs&&U(Hr,X.topVisible,m.topVisible)&&vh(i,V,K,X.top_vs,X.top_uv,X.top_is,f,U("shape3d.top.color",X.topColor,m.topColor)||R),X.bottom_vs&&U(gh,X.bottomVisible,m.bottomVisible)&&vh(i,V,K,X.bottom_vs,X.bottom_uv,X.bottom_is,f,U("shape3d.bottom.color",X.bottomColor,m.bottomColor)||R),X.from_vs&&U(ld,X.fromVisible,m.fromVisible)&&vh(i,V,K,X.from_vs,X.from_uv,X.from_is,f,U("shape3d.from.color",X.fromColor,m.fromColor)||R),X.to_vs&&U(Hg,X.toVisible,m.toVisible)&&vh(i,V,K,X.to_vs,X.to_uv,X.to_is,f,U("shape3d.to.color",X.toColor,m.toColor)||R)}e&&L.pop()}},vh=function(B,$,G,L,j,f,I,s){var U,g=$.cs,O=$.uv,b=$.bs;if(f){U=f.length;for(var A=0;U>A;A++){var r=f[A];xk(G,B,[L[3*r],L[3*r+1],L[3*r+2]]),O&&Kr(O,[j[2*r],j[2*r+1]])}}else U=L.length/3,xk(G,B,L),O&&Kr(O,j);g&&ph(g,s,U),b&&(I?ph(b,I,U):Kr(b,ef,U))},ar=function(y,e,p,T,c){var F=[];c?Qf(y.gv,y.data,c,y.s,y.getBodyColor(),[e],p,F):(Pg(y,r,e,p,T,F),Pg(y,N,e,p,T,F),Pg(y,m,e,p,T,F),Pg(y,W,e,p,T,F),Pg(y,cn,e,p,T,F),Pg(y,Yp,e,p,T,F),Pg(y,"csg",e,p,T,F)),F.length&&(Kr(p.vs,F),Kr(p.ns,Qj(F)))},Pg=function(C,z,x,H,k,m){var K=C[z];if(K){var J=K.tuv;if(J){var w,d,c,f,M=K.uvScale||k[K+"UvScale"],I=K.uvOffset||k[K+"UvOffset"];if(M)for(w=J.length,d=M[0],c=M[1],f=0;w>f;f+=2)J[f]*=d,J[f+1]*=c;if(I)for(w=J.length,d=I[0],c=I[1],f=0;w>f;f+=2)J[f]+=d,J[f+1]+=c}vh(x,H,m,K.vs,J,v,K.blend,K.color)}},Qi=function(e,R,g,L,G,j,p,t){var T,V=g.cs,b=g.uv,I=g.bs;if(e.getFaceVisible(R,j)){var d=e.getFaceMat(R,j);if(d&&(G=Th(R,d)),xk(p,G,t),V&&ph(V,e.getFaceColor(R,j),6),b){var y=e.getFaceUv(R,j)||L[j+"Uv"],h=e.getFaceUvScale(R,j)||L[j+"UvScale"],c=e.getFaceUvScale(R,j)||L[j+"UvOffset"];y=y?[y[6],y[7],y[0],y[1],y[2],y[3],y[2],y[3],y[4],y[5],y[6],y[7]]:Dl;var i=y[0],N=y[1],Y=y[2],m=y[3],w=y[4],U=y[5],O=y[6],A=y[7],q=y[8],$=y[9],Q=y[10],l=y[11];if(h){var C=h[0],u=h[1];i*=C,N*=u,Y*=C,m*=u,w*=C,U*=u,O*=C,A*=u,q*=C,$*=u,Q*=C,l*=u}if(c){var P=c[0],D=c[1];i+=P,N+=D,Y+=P,m+=D,w+=P,U+=D,O+=P,A+=D,q+=P,$+=D,Q+=P,l+=D}b.push(i,N,Y,m,w,U,O,A,q,$,Q,l)}I&&(T=e.getBodyColor(R)||e.getFaceBlend(R,j),T?ph(I,T,6):Kr(I,ef,6))}},$b=function(K,d){var i,s,g,E,J,w,N,p,D,H,A,S=K.getGL(),Y=K._prg,q=K._buffer,Z=K._33O;if(!kn(Z)){Yn(K);for(i in Z)s=Yh[i]||dd,g=Z[i],(d||!s.transparentMask)&&(g.invalidate?(g.invalidate=!1,wh(g,"vs"),wh(g,"ns"),wh(g,"cs"),wh(g,"rs"),wh(g,"ps"),wh(g,"bs"),wh(g,"ps"),wh(g,"uv")):d&&wh(g,"ps"),J=g.vs32,w=d?g.ps32:g.cs32,D=g.uv32,N=g.bs32,p=g.rs32,A=J.length,A&&(E=s.light,H=K.getTexture(s.image),oj(S,Y,v,s.light,v,v,s.reverseFlip,s.reverseColor,s.reverseCull,s.ambient,s.specular,s.shininess),w?(fl(S,Y.uBatchColor,!0),Kp(S,Y.aBatchColor),nf(S,q.batchColor,w,Y.aBatchColor)):fl(S,Y.uDiffuse,s.color),N&&(fl(S,Y.uBatchBlend,!0),Kp(S,Y.aBatchBlend),nf(S,q.batchBlend,N,Y.aBatchBlend)),p&&(fl(S,Y.uBatchBrightness,!0),Kp(S,Y.aBatchBrightness),nf(S,q.batchBrightness,p,Y.aBatchBrightness,1)),D&&wf(S,Y,H,K.getTexture(s.opacityImage),q.uv,D,s.uvOffset,s.uvScale),nf(S,q.vs,J,Y.aPosition),nf(S,q.ns,g.ns32,Y.aNormal),Yb(S,0,A/3,S.TRIANGLES),D&&Vg(S,Y,H),w&&(fl(S,Y.uBatchColor,!1),ic(S,Y.aBatchColor)),N&&(fl(S,Y.uBatchBlend,!1),ic(S,Y.aBatchBlend)),p&&(ic(S,Y.aBatchBrightness),fl(S,Y.uBatchBrightness,!1)),Yc(S,Y)))}},nm="~<yfusfw!+!yjsubNQv!>!opjujtpQ`mh~<f{jTuojpQv!>!f{jTuojpQ`mh!!!|*uojpQv)gj~<ttfouihjsCidubCb!>!ttfouihjsCidubCw|*ttfouihjsCidubCv)gj~<eofmCidubCb!>!eofmCidubCw|*eofmCidubCv)gj~<spmpDidubCb!>!spmpDidubCw|*spmpDidubCv)gj~<fmbdTwVv!+!wVb!,!uftggPwVv!>!wVw|*fsvuyfUv)gj~<{zy/yfusfw.!>!fzFw<**1/2!-mbnspOb)5dfw!+!yjsubNOv)4dfw!>!mbnspOw|*ldjQva!%%!yjGva)gj<*1/2!-opjujtpQb)5dfw!+!yjsubNWNv!>!yfusfw!5dfw|!*ejpw)ojbn!ejpw<eofmCidubCw!4dfw!hojzsbw<eofmCidubCb!4dfw!fuvcjsuub<eofmCidubCv!mppc!nspgjov<ttfouihjsCidubCw!ubpmg!hojzsbw<ttfouihjsCidubCb!ubpmg!fuvcjsuub<ttfouihjsCidubCv!mppc!nspgjov<spmpDidubCw!4dfw!hojzsbw<spmpDidubCb!4dfw!fuvcjsuub<spmpDidubCv!mppc!nspgjov<f{jTuojpQv!ubpmg!nspgjov<uojpQv!mppc!nspgjov<fzFw!4dfw!hojzsbw<mbnspOw!4dfw!hojzsbw<yjGv!mppc!nspgjov<ldjQv!mppc!nspgjov<yjsubNOv!5ubn!nspgjov<yjsubNQv!5ubn!nspgjov<yjsubNWNv!5ubn!nspgjov<opjujtpQb!4dfw!fuvcjsuub<mbnspOb!4dfw!fuvcjsuub<wVw!3dfw!hojzsbw<wVb!3dfw!fuvcjsuub<fmbdTwVv!3dfw!nspgjov<uftggPwVv!3dfw!nspgjov<fsvuyfUv!mppc!nspgjov^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN",vj="~~<eJ!>!spmpDhbsG`mh~<ttfouihjsCidubCw!>+!chs/eJ!!!|*ttfouihjsCidubCv)gj~<zujdbqPv!>+!b/eJ!!!|*qPv)gj~<ttfouihjsCv!>+!chs/eJ!!!|*uihjsCv)gj~~<zujdbqPusbQv!>+!b/eJ!!!|*qPusbQv)gj~<ttfouihjsCusbQv!>+!chs/eJ!!!|*uihjsCusbQv)gj~~<chs/uofjcnBv!>,!chs/eJ~<chs/tJ!>,!chs/eJ<*ttfojojiTv!-*1/1!-*F!-S)upe)ybn)xpq!+!sbmvdfqTv!>!tJ!5dfw<*O!-M)udfmgfs!>!S!4dfw|*tJv)gj<nsfUusfcnbm!>+!chs/eJ<*1/1!-6/1!,!6/1!+!*M.!-O)upe)ybn!>!nsfUusfcnbm!ubpmg<*opjudfsjEuihjMv)f{jmbnspo!>!M!4dfw|*uihjMv)gj~<spmpDeofmCv!>+!eJ|*eofmCv)gj!ftmf~<eofmCidubCw!>+!chs/eJ|*eofmCidubCv)gj~<spmpd!>!eJ|ftmf~<spmpDwv!>!eJ|*fsvuyfUv)gj|!ftmf~~<chs/uofjcnBv!>,!chs/eJ~<chs/tJ!>,!chs/eJ<*ttfojojiTv!-*1/1!-*F!-S)upe)ybn)xpq!+!sbmvdfqTv!>!tJ!5dfw<*O!-M)udfmgfs!>!S!4dfw|*tJv)gj<nsfUusfcnbm!>+!chs/eJ<*1/1!-6/1!,!6/1!+!*M.!-O)upe)ybn!>!nsfUusfcnbm!ubpmg<*opjudfsjEuihjMv)f{jmbnspo!>!M!4dfw|*uihjMv)gj<spmpDftsfwfSv!>!eJ|*qjmGftsfwfSva!%%!ldbCtj)gj~<fvsu!>!ldbCtj<O.!>!O|*1/1!=!*O!-F)upe)gj<ftmbg!>!ldbCtj!mppc<*fzFw)f{jmbnspo!>!F!4dfw<*mbnspOw)f{jmbnspo!>!O!4dfw~<ftvggjEv!>!spmpd|ftmf~<*1/2!-spmpDidubCw)5dfw!>!spmpd|*spmpDidubCv)gj<spmpd!5dfw|!ftmf~<spmpDyjGv!>!eJ|*yjGv)gj<eJ!5dfw|ftmf~~<spmpDldjQv!>!spmpDhbsG`mh|ftmf~<*1/2!-spmpDidubCw)5dfw!>!spmpDhbsG`mh|*spmpDidubCv)gj|*ldjQv)gj~~~<1/2!>!b/spmpDwv|ftmf~<esbdtje|*5/1!=!b/spmpDwv)gj|ftmf~~<esbdtje|*1/1!>>!b/spmpDwv)gj|*uofsbqtobsUv)gj~<esbdtje|*5/1!=!c/*wVw!-sfmqnbTPv)E3fsvuyfu!%%!fsvuyfUPv)gj<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv|*fsvuyfUv)gj<spmpDwv!5dfw|!*ejpw)ojbn!ejpw<eofmCidubCw!4dfw!hojzsbw<eofmCidubCv!mppc!nspgjov<spmpDidubCw!4dfw!hojzsbw<spmpDidubCv!mppc!nspgjov<ttfouihjsCidubCw!ubpmg!hojzsbw<ttfouihjsCidubCv!mppc!nspgjov<fzFw!4dfw!hojzsbw<mbnspOw!4dfw!hojzsbw<ftvggjEv!5dfw!nspgjov<sbmvdfqTv!5dfw!nspgjov<uofjcnBv!5dfw!nspgjov<zujdbqPusbQv!ubpmg!nspgjov<qPusbQv!mppc!nspgjov<zujdbqPv!ubpmg!nspgjov<qPv!mppc!nspgjov<ttfouihjsCusbQv!ubpmg!nspgjov<uihjsCusbQv!mppc!nspgjov<ttfouihjsCv!ubpmg!nspgjov<uihjsCv!mppc!nspgjov<opjudfsjEuihjMv!4dfw!nspgjov<uihjMv!mppc!nspgjov<ttfojojiTv!ubpmg!nspgjov<tJv!mppc!nspgjov<spmpDftsfwfSv!5dfw!nspgjov<qjmGftsfwfSv!mppc!nspgjov<spmpDeofmCv!5dfw!nspgjov<eofmCv!mppc!nspgjov<sfmqnbTPv!E3sfmqnbt!nspgjov<fsvuyfUPv!mppc!nspgjov<sfmqnbTv!E3sfmqnbt!nspgjov<wVw!3dfw!hojzsbw<fsvuyfUv!mppc!nspgjov<spmpDldjQv!5dfw!nspgjov<ldjQv!mppc!nspgjov<spmpDyjGv!5dfw!nspgjov<yjGv!mppc!nspgjov<uofsbqtobsUv!mppc!nspgjov!OPJTJDFSQ!",xm=[0,0],_i=[1,1],Ir=new Mg([0,0,0,1,1,1,1,0]),gk=new Mg([0,0,1,0,0,1,0,0,1,0,0,1]),rb=new eg([0,1,2,2,3,0]),io=new Mg([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),Zp=new eg([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),ki=new Mg([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),hl=new Mg([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),Lg=Qj(io,Zp),vf=new Mg([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),Ii=new eg([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),_j=new Mg([-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4]),Ne=function(){return{vs:io,ns:Lg,uv:ki,is:Zp}
},He=function(Q){Q=Q||Ff;var N,z,Z,j,m=Q,J=.5,k=[],V=[],D=[],p=O/m,y=H/Q;for(N=0;Q>=N;N++)for(j=N*y,z=0;m>=z;z++)Z=z*p,k.push(J*h(Z)*a(j),J*h(j),-J*a(Z)*a(j)),V.push(z/m,N/Q);for(z=0;Q>z;z++){var b=z*(m+1),n=(z+1)*(m+1);for(N=0;m>N;N++)D.push(b+N,n+N,n+N+1,b+N,n+N+1,b+N+1)}return{vs:k,uv:V,is:D}},sj=function(B,$,l,w,t,b){b=b||Ff,B=B||Jb,$=$||0,l=l||B;var T,J,G,q,N,f,S,r,X=.5,P=[],M=[],k=O/B,z=H/b;for(T=0;b>T;T++)for(N=T+1,q=T*z,r=N*z,J=$;l>J;J++)f=J+1,G=J*k,S=f*k,P.push(X*a(q)*h(G),X*h(q),-X*a(q)*a(G),X*a(r)*h(S),X*h(r),-X*a(r)*a(S),X*a(q)*h(S),X*h(q),-X*a(q)*a(S),X*a(q)*h(G),X*h(q),-X*a(q)*a(G),X*a(r)*h(G),X*h(r),-X*a(r)*a(G),X*a(r)*h(S),X*h(r),-X*a(r)*a(S)),M.push(J/B,T/b,f/B,N/b,f/B,T/b,J/B,T/b,J/B,N/b,f/B,N/b);if(w)for(G=$*k,T=0;b>T;T++)N=T+1,q=T*z,r=N*z,P.push(0,0,0,X*a(r)*h(G),X*h(r),-X*a(r)*a(G),X*a(q)*h(G),X*h(q),-X*a(q)*a(G)),M.push(0,.5,$/B,N/b,$/B,T/b);if(t)for(G=l*k,T=0;b>T;T++)N=T+1,q=T*z,r=N*z,P.push(0,0,0,X*a(q)*h(G),X*h(q),-X*a(q)*a(G),X*a(r)*h(G),X*h(r),-X*a(r)*a(G)),M.push(1,.5,l/B,T/b,l/B,N/b);return{vs:P,uv:M}},Nd=function(l,V){V=V||Ff,l=l||.67,l/=4;var m,y,j,J,n,P,G,b=V,q=.5,A=[],_=[],T=[],B=O/b,f=O/V,u=q-l;for(y=0;V>=y;y++)for(J=-H+y*f,P=h(J),n=a(J),m=0;b>=m;m++)j=m*B,G=u+l*P,A.push(h(j)*G,n*l,-a(j)*G),_.push(m/b,1-y/V);for(y=0;V>y;y++){var p=y*(b+1),R=(y+1)*(b+1);for(m=0;b>m;m++)T.push(p+m,R+m+1,R+m,p+m,p+m+1,R+m+1)}return{vs:A,uv:_,is:T}},kg=function(b,s,$,G,D,x,i){i=i||Ff,b=b||Jb,s=s||0,$=$||b,x=x||.67,x/=4;var I,C,o,f,k,e,y,v,j,c,U=.5,m=[],Q=[],J=O/b,L=O/i,K=U-x;for(o=0;i>o;o++)for(f=o+1,y=-H+o*L,v=-H+f*L,I=s;$>I;I++)C=I+1,k=I*J,e=C*J,j=K+x*h(y),c=K+x*h(v),m.push(h(k)*j,a(y)*x,-a(k)*j,h(e)*j,a(y)*x,-a(e)*j,h(e)*c,a(v)*x,-a(e)*c,h(k)*j,a(y)*x,-a(k)*j,h(e)*c,a(v)*x,-a(e)*c,h(k)*c,a(v)*x,-a(k)*c),Q.push(I/b,1-o/i,C/b,1-o/i,C/b,1-f/i,I/b,1-o/i,C/b,1-f/i,I/b,1-f/i);if(G){var E=[],B=[];for(o=0;i>o;o++)f=o+1,y=-H+o*L,v=-H+f*L,k=s*J,j=K+x*h(y),c=K+x*h(v),E.push(h(k)*j,a(y)*x,-a(k)*j,h(k)*c,a(v)*x,-a(k)*c,h(k)*K,0,-a(k)*K),B.push(.5+.5*h(y),.5-.5*a(y),.5+.5*h(v),.5-.5*a(v),.5,.5)}if(D){var T=[],r=[];for(o=0;i>o;o++)f=o+1,y=-H+o*L,v=-H+f*L,k=$*J,j=K+x*h(y),c=K+x*h(v),T.push(h(k)*j,a(y)*x,-a(k)*j,h(k)*K,0,-a(k)*K,h(k)*c,a(v)*x,-a(k)*c),r.push(.5-.5*h(y),.5-.5*a(y),.5,.5,.5-.5*h(v),.5-.5*a(v))}return{vs:m,uv:Q,from_vs:E,from_uv:B,to_vs:T,to_uv:r}},nc=function(m,F){for(var C,r,T,y=.5,q=Jb,d=[],$=[],i=[],j=O/q,S=0;q>=S;S++)C=S*j,r=h(C)*y,T=a(C)*y,d.push(r,-y,T,r,y,T),$.push(1-S/q,1,1-S/q,0);for(S=0;q>S;S++)i.push(2*S,2*S+1,2*S+3,2*S,2*S+3,2*S+2);if(F){var u=[],_=[],J=[];for(u.push(0,-y,0),_.push(.5,.5),S=0;q>=S;S++)C=S*j,r=h(C),T=a(C),u.push(r*y,-y,-T*y),_.push(.5+.5*r,.5+.5*T);for(S=0;q>S;S++)J.push(0,S+2,S+1)}if(m){var D=[],t=[],Z=[];for(D.push(0,y,0),t.push(.5,.5),S=0;q>=S;S++)C=S*j,r=h(C),T=a(C),D.push(r*y,y,-T*y),t.push(.5+.5*r,.5-.5*T);for(S=0;q>S;S++)Z.push(0,S+1,S+2)}return{vs:d,uv:$,is:i,bottom_vs:u,bottom_uv:_,bottom_is:J,top_vs:D,top_uv:t,top_is:Z}},wl=function(c,N,Y,m,q,X,V){c=c||Jb,N=N||0,Y=Y||c;for(var Z,H,e,K,R,w,t,s,M=.5,W=[],g=[],y=O/c,n=N;Y>n;n++)Z=n+1,H=n*y,e=Z*y,K=h(H)*M,R=a(H)*M,w=h(e)*M,t=a(e)*M,W.push(K,-M,-R,w,-M,-t,K,M,-R,w,-M,-t,w,M,-t,K,M,-R),g.push(n/c,1,Z/c,1,n/c,0,Z/c,1,Z/c,0,n/c,0);if(V){var v=[],z=[];for(n=N;Y>n;n++)H=y*n,e=y*(n+1),K=h(H),R=a(H),w=h(e),t=a(e),v.push(K*M,-M,-R*M,0,-M,0,w*M,-M,-t*M),z.push(.5+.5*K,.5+.5*R,.5,.5,.5+.5*w,.5+.5*t)}if(X){var k=[],B=[];for(n=N;Y>n;n++)H=y*n,e=y*(n+1),K=h(H),R=a(H),w=h(e),t=a(e),k.push(K*M,M,-R*M,w*M,M,-t*M,0,M,0),B.push(.5+.5*K,.5-.5*R,.5+.5*w,.5-.5*t,.5,.5)}return m&&(H=y*N,K=h(H)*M,R=a(H)*M,s=N/c,W.push(0,M,0,0,-M,0,K,-M,-R,K,-M,-R,K,M,-R,0,M,0),g.push(0,0,0,1,s,1,s,1,s,0,0,0)),q&&(H=y*Y,K=h(H)*M,R=a(H)*M,s=Y/c,W.push(0,-M,0,0,M,0,K,M,-R,K,M,-R,K,-M,-R,0,-M,0),g.push(1,1,1,0,s,0,s,0,s,1,1,1)),{vs:W,uv:g,bottom_vs:v,bottom_uv:z,top_vs:k,top_uv:B}},Bd=function(S){for(var A,D,B,v,Q,y,V=.5,w=Jb,m=[0,.5,.75,.875,.9375],Y=[],k=[],c=[],o=O/w,J=0;J<m.length;J++){var b=0===J%2?0:.5;for(A=0;w>=A;A++)D=(A+b)*o,B=1-m[J],Y.push(h(D)*V*B,-V+2*m[J]*V,-a(D)*V*B),k.push((A+b)/w,B)}for(J=0;J<m.length-1;J++){var z=J*(w+1),q=(J+1)*(w+1);for(A=0;w>A;A++)c.push(z+A,q+A+1,q+A,z+A,z+A+1,q+A+1)}for(y=Y.length/3-(w+1),A=0;w>A;A++)Y.push(0,V,0),k.push((A+.5)/w,0);for(A=0;w>A;A++)c.push(y+A,y+A+1,y+(w+1)+A);if(S){var C=[],R=[],i=[];for(C.push(0,-V,0),R.push(.5,.5),A=0;w>=A;A++)D=A*o,v=h(D),Q=a(D),C.push(v*V,-V,-Q*V),R.push(.5+.5*v,.5+.5*Q);for(A=0;w>A;A++)i.push(0,A+2,A+1)}return{vs:Y,uv:k,is:c,bottom_vs:C,bottom_uv:R,bottom_is:i}},td=function(_,s,H,M,K,G){_=_||Jb,s=s||0,H=H||_;for(var E=.5,X=[],z=[],n=O/_,Y=s;H>Y;Y++){var V=Y+1,g=n*Y,S=n*V;X.push(h(g)*E,-E,-a(g)*E,h(S)*E,-E,-a(S)*E,0,E,0),z.push(Y/_,1,V/_,1,(Y+V)/2/_,0)}if(G){var i=[],u=[];for(Y=s;H>Y;Y++){g=n*Y,S=n*(Y+1);var B=h(g),l=a(g),t=h(S),b=a(S);i.push(B*E,-E,-l*E,0,-E,0,t*E,-E,-b*E),u.push(.5+.5*B,.5+.5*l,.5,.5,.5+.5*t,.5+.5*b)}}return M&&(g=n*s,X.push(0,E,0,0,-E,0,h(g)*E,-E,-a(g)*E),z.push(0,0,0,1,s/_,1)),K&&(g=n*H,X.push(0,-E,0,0,E,0,h(g)*E,-E,-a(g)*E),z.push(1,1,1,0,H/_,1)),{vs:X,uv:z,bottom_vs:i,bottom_uv:u}},xr=function(t,F,K,D,o,C,z){var k,E,B,i,M,O,j,u=[],s=[],P=t?[]:v,S=t?[]:v,H=F?[]:v,L=F?[]:v,y=Cg(K,D,o),m=Te(y),d=0;return C=C||0,z=z||0,y.forEach(function(V){for(E=V[0],k=1;k<V.length;k++)B=V[k],u.push(E.x,-.5,E.y,E.x,.5,E.y,B.x,-.5,B.y,E.x,.5,E.y,B.x,.5,B.y,B.x,-.5,B.y),i=1-d/m,d+=Lp(E,B),M=1-d/m,s.push(i,1,i,0,M,1,i,0,M,0,M,1),(t||F)&&(i=E.x+.5,O=E.y+.5,M=B.x+.5,j=B.y+.5,t&&(P.push(E.x,.5,E.y,C,.5,z,B.x,.5,B.y),S.push(i,O,C+.5,z+.5,M,j)),F&&(H.push(E.x,-.5,E.y,B.x,-.5,B.y,C,-.5,z),L.push(i,1-O,M,1-j,C+.5,1-(z+.5)))),E=B}),{vs:u,uv:s,top_vs:P,top_uv:S,bottom_vs:H,bottom_uv:L}},Mh={roundRect:function(w,o){return xr(w,o,[{x:.5,y:.4},{x:.5,y:.442},{x:.471,y:.471},{x:.442,y:.5},{x:.4,y:.5},{x:-.4,y:.5},{x:-.442,y:.5},{x:-.471,y:.471},{x:-.5,y:.442},{x:-.5,y:.4},{x:-.5,y:-.4},{x:-.5,y:-.442},{x:-.471,y:-.471},{x:-.442,y:-.5},{x:-.4,y:-.5},{x:.4,y:-.5},{x:.442,y:-.5},{x:.471,y:-.471},{x:.5,y:-.442},{x:.5,y:-.4},{x:.5,y:.4}],[1,3,3,2,3,3,2,3,3,2,3,3,2],3)},star:function(u,t){return xr(u,t,[{x:.193,y:.079},{x:.333,y:.5},{x:0,y:.233},{x:-.333,y:.5},{x:-.194,y:.079},{x:-.5,y:-.167},{x:-.112,y:-.167},{x:0,y:-.5},{x:.111,y:-.167},{x:.5,y:-.167}],[1,2,2,2,2,2,2,2,2,2,5])},rect:function(f,P){return xr(f,P,[{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5},{x:-.5,y:-.5}],[1,2,2,2,5])},triangle:function(E,f){return xr(E,f,[{x:0,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}],[1,2,2,5])},rightTriangle:function(k,z){return xr(k,z,[{x:.5,y:.5},{x:-.5,y:.5},{x:-.5,y:-.5}],[1,2,2,5])},parallelogram:function(G,Y){return xr(G,Y,[{x:.5,y:-.5},{x:.25,y:.5},{x:-.5,y:.5},{x:-.25,y:-.5}],[1,2,2,2,5])},trapezoid:function(Z,f){return xr(Z,f,[{x:.25,y:-.5},{x:.5,y:.5},{x:-.5,y:.5},{x:-.25,y:-.5}],[1,2,2,2,5])}},ub={LINES:1,LINE_STRIP:1,LINE_LOOP:1},Oe={sphere:1,cylinder:1,cone:1,torus:1},th={torus:1,sphere:1},rg=sq(Tg(Mh),{cylinder:1}),ig=sq(Tg(Mh),{cylinder:1,cone:1}),Rj=function(x,I,J){var F,z=cl(x.mat,J,I),$=cl(x.s3,J,I),o=cl(x.t3,J,I),Y=cl(x.r3,J,I);return($||Y||o||z)&&(F=Ao(I._6O),Yn(I,so(z,$,Y,cl(x.rotationMode,J,I),o))),F},Mi=function(j,L,t,Z,v,g,p){if(nn(t))t.forEach(function(F){Mi(j,L,F,Z,v,g,p)});else if(Ur(t))Mi(j,L,Sh(Z,t),Z,v,g,p);else if(sg(t))if(t.shape3d){var I=Rj(t,j,L);Mi(j,L,t.shape3d,Z,v,g,t),I&&od(j,I)}else Ui(j,L,t,Z,v,g,p)},Ui=function(b,B,f,U,E,s,A){if(A=A||dd,s(U("shape3d.transparent",f.transparent,A.transparent))){var e=Rj(f,b,B);Pr(f);var X=b._26I,S=b._prg,x=b._buffer,j=U("shape3d.mode",f.mode,A.mode),v="POINTS"===j,G=U("shape3d.thickness",f.thickness,A.thickness),i=U("shape3d.color",f.color,A.color);E||(E=U("shape3d.blend",f.blend,A.blend)),j||(j="TRIANGLES"),ub[j]&&!z&&X.lineWidth(G),v&&(fl(X,S.uPoint,!0),fl(X,S.uPointSize,G)),oj(X,S,E,U("shape3d.light",f.light,A.light),U("shape3d.brightness",f.brightness,A.brightness),U("shape3d.opacity",f.opacity,A.opacity),U("shape3d.reverse.flip",f.reverseFlip,A.reverseFlip),U("shape3d.reverse.color",f.reverseColor,A.reverseColor),U("shape3d.reverse.cull",f.reverseCull,A.reverseCull),U("shape3d.ambient",f.ambient,A.ambient),U("shape3d.specular",f.specular,A.specular),U("shape3d.shininess",f.shininess,A.shininess)),f.vs&&U("shape3d.visible",f.visible,A.visible)&&Zb(X,S,x,i,b.getTexture(U("shape3d.image",f.image,A.image),B),b.getTexture(U("shape3d.opacity.image",f.opacityImage,A.opacityImage),B),j,f.vs,f.uv,f.ns,f.is,U("shape3d.uv.offset",f.uvOffset,A.uvOffset),U("shape3d.uv.scale",f.uvScale,A.uvScale)),f.top_vs&&U(Hr,f.topVisible,A.topVisible)&&Zb(X,S,x,U("shape3d.top.color",f.topColor,A.topColor)||i,b.getTexture(U("shape3d.top.image",f.topImage,A.topImage),B),b.getTexture(U("shape3d.top.opacity.image",f.topOpacityImage,A.topOpacityImage),B),j,f.top_vs,f.top_uv,f.top_ns,f.top_is,U("shape3d.top.uv.offset",f.topUvOffset,A.topUvOffset),U("shape3d.top.uv.scale",f.topUvScale,A.topUvScale)),f.bottom_vs&&U(gh,f.bottomVisible,A.bottomVisible)&&Zb(X,S,x,U("shape3d.bottom.color",f.bottomColor,A.bottomColor)||i,b.getTexture(U("shape3d.bottom.image",f.bottomImage,A.bottomImage),B),b.getTexture(U("shape3d.bottom.opacity.image",f.bottomOpacityImage,A.bottomOpacityImage),B),j,f.bottom_vs,f.bottom_uv,f.bottom_ns,f.bottom_is,U("shape3d.bottom.uv.offset",f.bottomUvOffset,A.bottomUvOffset),U("shape3d.bottom.uv.scale",f.bottomUvScale,A.bottomUvScale)),f.from_vs&&U(ld,f.fromVisible,A.fromVisible)&&Zb(X,S,x,U("shape3d.from.color",f.fromColor,A.fromColor)||i,b.getTexture(U("shape3d.from.image",f.fromImage,A.fromImage),B),b.getTexture(U("shape3d.from.opacity.image",f.fromOpacityImage,A.fromOpacityImage),B),j,f.from_vs,f.from_uv,f.from_ns,f.from_is,U("shape3d.from.uv.offset",f.fromUvOffset,A.fromUvOffset),U("shape3d.from.uv.scale",f.fromUvScale,A.fromUvScale)),f.to_vs&&U(Hg,f.toVisible,A.toVisible)&&Zb(X,S,x,U("shape3d.to.color",f.toColor,A.toColor)||i,b.getTexture(U("shape3d.to.image",f.toImage,A.toImage),B),b.getTexture(U("shape3d.to.opacity.image",f.toOpacityImage,A.toOpacityImage),B),j,f.to_vs,f.to_uv,f.to_ns,f.to_is,U("shape3d.to.uv.offset",f.toUvOffset,A.toUvOffset),U("shape3d.to.uv.scale",f.toUvScale,A.toUvScale)),Yc(X,S),v&&fl(X,S.uPoint,!1),e&&od(b,e)}},Zb=function(R,Q,K,v,z,g,a,G,u,S,I,k,t){G&&(fl(R,Q.uDiffuse,v),u&&wf(R,Q,z,g,K.uv,u,k,t),nf(R,K.vs,G,Q.aPosition),nf(R,K.ns,S,Q.aNormal),I?(Br(R,K.is,I),wn(R,0,I.length,R[a])):Yb(R,0,G.length/3,R[a]),u&&Vg(R,Q,z))},Sh=function(Y,X){if(X||(X=Y("shape3d")),!X)return v;if(sg(X))return X;var R=Yf[X];if(R)return R;var e=X;if(Oe[X]){var J=Y("shape3d.side"),A=Y("shape3d.side.from"),V=Y("shape3d.side.to"),Q=Y(ld),N=Y(Hg);3>J?(J=0,A=0,V=0,Q=!1,N=!1):((A==v||0>A)&&(A=0),(V==v||V>J)&&(V=J),0===A&&V===J&&(Q=!1,N=!1)),e+="-"+J+"-"+A+"-"+V+"-"+Q+"-"+N}if(rg[X]){var M=Y(Hr);e+="-"+M}if(ig[X]){var u=Y(gh);e+="-"+u}if("torus"===X){var C=Y("shape3d.torus.radius");0>C?C=0:C>1&&(C=1),e+="-"+C}if(th[X]){var Z=Y("shape3d.resolution");e+="-"+Z}return R=_b[e],R||("box"===X?R=Ne():Mh[X]?R=Mh[X](M,u):"sphere"===X?R=J?sj(J,A,V,Q,N,Z):He(Z):X===ql?R=J?wl(J,A,V,Q,N,M,u):nc(M,u):"cone"===X?R=J?td(J,A,V,Q,N,u):Bd(u):"torus"===X&&(R=J?kg(J,A,V,Q,N,C,Z):Nd(C,Z)),_b[e]=R),R},Pr=function(){var b=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],o=["is","top_is","bottom_is","from_is","to_is"];return j=_l(nm.substr(nm.indexOf("^#")+2)),ye(e[yq(gd+b[15]+"n"+b[16])]())&&ms()?function(L){L&&!L._complete_&&(L._complete_=!0,L.vs&&Lh(L.ns)&&(L.ns=Qj(L.vs,L.is)),L.top_vs&&Lh(L.top_ns)&&(L.top_ns=Qj(L.top_vs,L.top_is)),L.bottom_vs&&Lh(L.bottom_ns)&&(L.bottom_ns=Qj(L.bottom_vs,L.bottom_is)),L.from_vs&&Lh(L.from_ns)&&(L.from_ns=Qj(L.from_vs,L.from_is)),L.to_vs&&Lh(L.to_ns)&&(L.to_ns=Qj(L.to_vs,L.to_is)),b.forEach(function(t){var z=L[t];nn(z)&&(L[t]=new Mg(z))}),o.forEach(function(e){var o=L[e];nn(o)&&(L[e]=new eg(o))}))}:void 0}(),tm=function(r,q){var T=r[q];nn(T)&&(r[q]=new Mg(T))},Pj=Sh(function(E){return{shape3d:ql,"shape3d.top.visible":!1,"shape3d.bottom.visible":!1}[E]}),qb=rd.Graph3dView=function(W,s){var k=this;k._attributes=s||e.graph3dViewAttributes,k._25I={},k._view=zj(1);var h=k._canvas=Pd(k._view);h.addEventListener("webglcontextlost",k.handleContextLost,!1),h.addEventListener("webglcontextrestored",k.handleContextRestored,!1),k._34O={},k._33O={},k._8O=[],k._7O=jl(),k._6O=jl(),k._1o=new qf(k),k._30O=new Od(k),k._31O=new Yq(k),k._32O=new mn(k),k._gridColor=Tg(e.graph3dViewGridColor),k._axisXColor=Tg(e.graph3dViewAxisXColor),k._axisYColor=Tg(e.graph3dViewAxisYColor),k._axisZColor=Tg(e.graph3dViewAxisZColor),k._editSizeColor=Tg(e.graph3dViewEditSizeColor),k._eye=Tg(e.graph3dViewEye),k._center=Tg(e.graph3dViewCenter),k._up=Tg(e.graph3dViewUp),k._lightDirection=Tg(e.graph3dViewLightDirection),k.dm(W?W:new Oj),k.setInteractors([new gi(k)])};Bb("Graph3dView",V,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_ac:["boundaries","moveStep","rotateStep","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable",al,po,"firstPersonMode",Zm,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","ortho","orthoWidth","fovy","near","far",co,lg,"up","aspect","lightDirection"],_editable:!1,_boundaries:v,_moveStep:e.graph3dViewMoveStep,_rotateStep:e.graph3dViewRotateStep,_pannable:e.graph3dViewPannable,_rotatable:e.graph3dViewRotatable,_walkable:e.graph3dViewWalkable,_resettable:e.graph3dViewResettable,_zoomable:e.graph3dViewZoomable,_firstPersonMode:e.graph3dViewFirstPersonMode,_mouseRoamable:e.graph3dViewMouseRoamable,_gridVisible:e.graph3dViewGridVisible,_gridSize:e.graph3dViewGridSize,_gridGap:e.graph3dViewGridGap,_originAxisVisible:e.graph3dViewOriginAxisVisible,_centerAxisVisible:e.graph3dViewCenterAxisVisible,_ortho:e.graph3dViewOrtho,_orthoWidth:e.graph3dViewOrthoWidth,_fovy:e.graph3dViewFovy,_near:e.graph3dViewNear,_far:e.graph3dViewFar,_rectSelectable:e.graph3dViewRectSelectable,_rectSelectBackground:e.graph3dViewRectSelectBackground,_autoMakeVisible:Si,setEye:function(z,F,P){1===arguments.length&&(F=z[1],P=z[2],z=z[0]);var m=this._eye;m[0]=z,m[1]=F,m[2]=P,this.fp(co,v,m)},setCenter:function(E,N,S){1===arguments.length&&(N=E[1],S=E[2],E=E[0]);var t=this._center;t[0]=E,t[1]=N,t[2]=S,this.fp(lg,v,t)},setUp:function(g,$,O){1===arguments.length&&($=g[1],O=g[2],g=g[0]);var t=this._up;t[0]=g,t[1]=$,t[2]=O,this.fp("up",v,t)},setLightDirection:function(z,E,o){1===arguments.length&&(E=z[1],o=z[2],z=z[0]);var i=this._lightDirection;i[0]=z,i[1]=E,i[2]=o,this.fp("lightDirection",v,i)},isTransparentMask:function(n){return n.s("transparent.mask")},getAspect:function(){var N=this,S=N._aspect;return S?S:N.getWidth()/N.getHeight()},getCanvas:function(){return this._canvas},setDataModel:function(n){var F=this,s=F._dataModel,f=F._3o;s!==n&&(s&&(s.umm(F.handleDataModelChange,F),s.umd(F.handleDataPropertyChange,F),f||s.sm().ums(F._16o,F)),F._dataModel=n,n.mm(F.handleDataModelChange,F),n.md(F.handleDataPropertyChange,F),f?f._21I(n):n.sm().ms(F._16o,F),F.invalidateAll(!0),F.fp(jo,s,n))},onPropertyChanged:function(){this.iv(),this._18Q=v},_5O:function(d){var K=d._22Q();return K?new K(this,d):v},getData3dUI:function(C){var v=this._25I[C._id];return v===U&&(v=this._5O(C),this._25I[C._id]=v),v},invalidateAll:function(S){var u=this;if(S){for(var c in u._25I){var s=u._25I[c];s&&s.dispose()}u._25I={},u.iv(),xs(u)}else u.dm().each(function(h){u.invalidateData(h)})},invalidateSelection:function(){var h=this;h.sm().each(function(R){h.invalidateData(R)})},invalidateData:function(H){var M=this,J=M.getData3dUI(H);J&&(J.iv(),M.iv()),xs(M,H)},handleDataModelChange:function(O){var i=this,N=O.kind,G=O.data;if("add"===N)i.invalidateData(G),bs(G)&&G.getEdgeGroup()&&G.getEdgeGroup().eachSiblingEdge(i.invalidateData,i);else if(N===Uq){var R=G._id,Q=i._25I[R];Q&&(Q.dispose(),delete i._25I[R],i.iv()),G===i._currentSubGraph&&i.setCurrentSubGraph(v),xs(i,G)}else N===_q&&(i.invalidateAll(!0),i.setCurrentSubGraph(v),xs(i))},toCanvas:function(r){var E=this,h=E.getGL();if(r){var b=h.getParameter(h.COLOR_CLEAR_VALUE);Mf(h,r)}E._42();var x=E.getWidth(),G=E.getHeight(),k=new Uint8Array(4*x*G),V=Pd(),s=V.getContext("2d");h.readPixels(0,0,x,G,h.RGBA,h.UNSIGNED_BYTE,k),V.width=x,V.height=G;for(var W=s.getImageData(0,0,x,G),K=W.data,q=0;q<K.length;q+=4){var N=q/4,i=o(N/x),d=N-i*x;N=4*((G-1-i)*x+d),K[N]=k[q],K[N+1]=k[q+1],K[N+2]=k[q+2],K[N+3]=k[q+3]}return s.putImageData(W,0,0),r&&(Mf(h,b),E._42()),V},toDataURL:function(B){var e=this,O=e.getGL();if(e.validate(),B){var Z=O.getParameter(O.COLOR_CLEAR_VALUE);Mf(O,B)}e._42();var S=e._canvas.toDataURL();return B&&(Mf(O,Z),e._42()),S},getGL:function(){var k=this;if(k._26I)return k._26I;var d=k._canvas,q=k._attributes;try{var J=k._26I=d.getContext("webgl",q)||d.getContext("experimental-webgl",q)}catch(j){}if(k._2O={},J){var w=k._prg=J.createProgram(),M=["aNormal","aUv","uUvOffset","uUvScale","uPMatrix","uMVMatrix","uNMatrix","uDiffuse","uShininess","uAmbient","uSpecular","uLightDirection","uLight","uBlend","uBlendColor","uBright","uBrightness","uPartBright","uPartBrightness","uTransparent","uOp","uOpacity","uPartOp","uPartOpacity","uFix","uFixColor","uPick","uPickColor","uPoint","uPointSize","uIs","uTexture","uSampler","uOTexture","uOSampler","uReverseFlip","uReverseColor","uBatchBrightness","aBatchBrightness","uBatchColor","aBatchColor","uBatchBlend","aBatchBlend"];Mf(J,e.graph3dViewClearColor),J.clearDepth(1),J.enable(J.DEPTH_TEST),J.depthFunc(J.LEQUAL),J.enable(J.BLEND),J.blendFunc(J.SRC_ALPHA,J.ONE_MINUS_SRC_ALPHA),Hp||(nm=_l(nm.substring(0,nm.indexOf("^#"))),vj=_l(vj).replace("PRECISION","#ifdef GL_ES\n"+e.graph3dViewPrecision+"\n#endif\n"),Hp=!0),ks(J,w,J.VERTEX_SHADER,nm),ks(J,w,J.FRAGMENT_SHADER,vj),z?M.push("aPosition"):(w.aPosition=0,J.bindAttribLocation(w,0,"aPosition")),J.linkProgram(w),M.forEach(function(V){w[V]=/^u/.test(V)?J.getUniformLocation(w,V):J.getAttribLocation(w,V)}),J.useProgram(w),k._buffer={vs:Yg(J),ns:Yg(J),is:Yg(J),uv:Yg(J),batchColor:Yg(J),batchBlend:Yg(J),batchBrightness:Yg(J)},k._1O=Vb(J);var Y=k._cube={vs:Yg(J),ns:Yg(J),is:Yg(J),uv:Yg(J)};nf(J,Y.vs,io),nf(J,Y.ns,Lg),nf(J,Y.uv,ki),Br(J,Y.is,Zp)}return J},getBrightness:function(Y){var X=Y.s("brightness"),Z=this.isSelected(Y)?Y.s("select.brightness"):v;return X==v?Z:Z==v?X:X*Z},getWireframe:function(){return v},getBodyColor:function(S){return S.s("body.color")},getMat:function(B){return B.getMat?B.getMat():B.s("mat")},getFaceMat:function(C,L){return C.getFaceMat?C.getFaceMat(L):C.s(L+".mat")},getFaceBlend:function(e,k){return e.s(k+".blend")||e.s("all.blend")},getFaceColor:function(N,g){return N.s(g+".color")||N.s("all.color")},getFaceImage:function(u,V){return u.s(V+".image")||u.s("all.image")},getFaceOpacityImage:function(U,q){return U.s(q+".opacity.image")||U.s("all.opacity.image")},getFaceUv:function(c,j){return c.s(j+".uv")||c.s("all.uv")},getFaceUvOffset:function(e,B){return e.s(B+".uv.offset")||e.s("all.uv.offset")},getFaceUvScale:function(L,f){return L.s(f+".uv.scale")||L.s("all.uv.scale")},getFaceLight:function(b,u){var G=b.s(u+".light");return G==v?b.s("all.light"):G},getFaceVisible:function(H,L){var D=H.s(L+".visible");return D==v?H.s("all.visible"):D},getFaceBrightness:function(B,p){var U=B.s(p+".brightness");return U==v?B.s("all.brightness"):U},getFaceOpacity:function(l,C){var O=l.s(C+".opacity");return O==v?l.s("all.opacity"):O},getFaceTransparent:function(U,r){var A=U.s(r+".transparent");return A==v?U.s("all.transparent"):A},getFaceReverseColor:function(T,Y){return T.s(Y+".reverse.color")||T.s("all.reverse.color")},getFaceReverseFlip:function(u,G){var E=u.s(G+".reverse.flip");return E==v?u.s("all.reverse.flip"):E},getFaceReverseCull:function(b,r){var S=b.s(r+".reverse.cull");return S==v?b.s("all.reverse.cull"):S},getFaceAmbient:function(B,b){return B.s(b+".ambient")||B.s("all.ambient")},getFaceSpecular:function(h,g){return h.s(g+".specular")||h.s("all.specular")},getFaceShininess:function(O,c){var A=O.s(c+".shininess");return A==v?O.s("all.shininess"):A},getTextureMap:function(){return this._2O},getTexture:function(s,a){if(!s)return v;var d=this,f=d.getGL(),D=d._2O[s];if(!D){var w=mc(s);if(w){if(!w.tagName){var y=Ri(w,a),J=ie(w,a),P=Cm(y,J);return ni(P,w,0,0,y,J,a,d),P.restore(),Vb(f,Bo,d._1O)}D=d._2O[s]=Vb(f,w)}}return D},validateImpl:function(){this._42(),this._1o.iv()},redraw:function(){this.iv()},_42:function(j,t){var f=this;if(!f._35O&&(!Ig||ug(Ig))){var R=f._canvas,B=f.getWidth(),A=f.getHeight(),s=f.getGL(),Q=f._prg;if(s){if((B!==R.clientWidth||A!==R.clientHeight)&&(R.width=B,R.height=A),f._81O=v,s.viewport(0,0,B,A),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),fl(s,Q.uLightDirection,f._lightDirection),fl(s,Q.uPoint,!1),fl(s,Q.uTexture,!1),fl(s,Q.uOTexture,!1),fl(s,Q.uFix,!1),fl(s,Q.uBright,!1),fl(s,Q.uOp,!1),fl(s,Q.uTransparent,!1),fl(s,Q.uPick,!!j),fl(s,Q.uBatchColor,!1),fl(s,Q.uBatchBlend,!1),fl(s,Q.uBatchBrightness,!1),Kp(s,Q.aPosition),Kp(s,Q.aNormal),ic(s,Q.aUv),ic(s,Q.aBatchColor),ic(s,Q.aBatchBlend),ic(s,Q.aBatchBrightness),fl(s,Q.uPMatrix,Ei(f)),Vc(f,f._7O),t)pk(s,Q),nf(s,f._cube.vs,v,Q.aPosition),Br(s,f._cube.is),Li(t,f,r,0),Li(t,f,m,6),Li(t,f,N,12),Li(t,f,W,18),Li(t,f,cn,24),Li(t,f,Yp,30),ec(s,Q);else if(j){j.value=2;var $=s.getParameter(s.COLOR_CLEAR_VALUE);s.clearColor(0,0,0,0),s.disable(s.BLEND),f._95I(s,Q,j,!1),$b(f,j),fl(s,Q.uTransparent,!0),f._95I(s,Q,j,!0),fl(s,Q.uTransparent,!1),s.disable(s.DEPTH_TEST),f._30O._42(s,Q,j),s.enable(s.DEPTH_TEST),s.enable(s.BLEND),Mf(s,$)}else s.disable(s.BLEND),f._31O._42(s,Q),f._95I(s,Q,v,!1),$b(f,v),s.enable(s.BLEND),s.depthMask(!1),fl(s,Q.uTransparent,!0),f._95I(s,Q,v,!0),fl(s,Q.uTransparent,!1),s.depthMask(!0),s.disable(s.DEPTH_TEST),f._32O._42(s,Q),f._30O._42(s,Q),s.enable(s.DEPTH_TEST);nf(s,v),Br(s,v)}}},_95I:function(W,$,B,u){var Y=this,w=function(P){return u?P:!P};Y.dm().each(function(u){if(Y.isVisible(u)){if(!B&&Y.isTransparentMask(u))return;var s=Y.getData3dUI(u);s&&s._42(W,$,B,w)}})},getLogicalPoint:function($){return Rp($,this._view)},getHitFaceInfo:function(N){N.target&&(N=this.lp(N));var W=this.getDataInfoAt(N);if(W){var F=this._1o.face(W.data,mj(N.x,N.y));if(F)return{data:W.data,face:F}}return v},getDataAt:function(c){var R=this.getDataInfoAt(c);return R?R.data:v},getDataInfoAt:function(w){return w.target&&(w=this.lp(w)),this._1o.get(mj(w.x,w.y),!0)},getDatasInRect:function(v){return this._1o.get(v)},setEditable:function(M){var y=this,_=y._editable;y._editable=M,this.fp(Dq,_,M)},isEditable:function(q){var O=this;return O._editable?Zk(q)?O._editableFunc?O._editableFunc(q):!0:!1:!1},isMovable:function(j){return Zk(j)?this._movableFunc?this._movableFunc(j):!0:!1},isSizeEditable:function(F){return Zk(F)?this._sizeEditableFunc?this._sizeEditableFunc(F):!0:!1},isRotationEditable:function(e){return Zk(e)&&e.IRotatable!==!1?this._rotationEditableFunc?this._rotationEditableFunc(e):!0:!1},handleDelete:function(){this._editable&&this.removeSelection()},zoomIn:function(g){this.setZoom(If,g)},zoomOut:function(V){this.setZoom(1/If,V)},setZoom:function(g,t){if(1!==g){var N=this;if(N._ortho)return N.setOrthoZoom(g,t),void 0;N._14o&&N._14o.stop(!0);var I=1/g,D=N._eye,F=N._center,z=F[0]+(D[0]-F[0])*I-D[0],q=F[1]+(D[1]-F[1])*I-D[1],M=F[2]+(D[2]-F[2])*I-D[2];if(!(Lp(D,F)<N._moveStep&&1>I)){if(t=Cs(t)){var y=Tg(D);return t.action=function(P){N.fi({kind:N._zooming?"betweenZoom":"beginZoom"}),N._zooming=1,D[0]=y[0]+z*P,D[1]=y[1]+q*P,D[2]=y[2]+M*P,N.fp(co,v,D)},t._37o=function(){delete N._14o,delete N._zooming,N.fi({kind:"endZoom"}),N.onZoomEnded()},N._14o=tc(t)}D[0]+=z,D[1]+=q,D[2]+=M,N.fp(co,v,D)}}},setOrthoZoom:function(k,y){if(1!==k){var e=this;e._14o&&e._14o.stop(!0);var W=e._orthoWidth,m=W/k-W;if(!(W<e._moveStep&&k>1))return(y=Cs(y))?(y.action=function(H){e.fi({kind:e._zooming?"betweenZoom":"beginZoom"}),e._zooming=1,e.setOrthoWidth(W+m*H)},y._37o=function(){delete e._14o,delete e._zooming,e.fi({kind:"endZoom"}),e.onZoomEnded()},e._14o=tc(y)):(e.setOrthoWidth(W/k),void 0)}},getPositionInfo:function(M){var D=this,d=D._eye,V=D._center,T=D.getAspect(),Y=M?Wk(jf(V,d,!0),jf(M,d)):Lp(d,V);if(D._ortho){var m=D._orthoWidth;return{length:Y,height:m/T,width:m}}var H=2*L(D._fovy/2)*Y;return{length:Y,height:H,width:H*T}},getCenterInfo:function(){var M=this;return M._81O||(M._81O=M.getPositionInfo()),Tg(M._81O)},rotate:function(u,w,F,y){var _=this;if(u||w){y==v&&(y=_._firstPersonMode),_._88O&&_._88O.stop(!0);var A=_._center,l=_._eye,T=_.getCenterInfo().length,f=y?A:l,J=y?l:A,e=jf(f,J),n=Y(e[0],e[2]),m=Y(t(e[0]*e[0]+e[2]*e[2]),e[1]),r=y?lg:co;return y&&(w=-w),(F=Cs(F))?(F.action=function(D){_.fi({kind:_._rotating?"betweenRotate":"beginRotate"}),_._rotating=1;var B=n+u*D,$=m+w*D;$=Sd($),e[0]=T*a($)*a(B),e[1]=T*h($),e[2]=T*a($)*h(B),f[0]=J[0]+e[0],f[1]=J[1]+e[1],f[2]=J[2]+e[2],_.fp(r,v,f)},F._37o=function(){delete _._88O,delete _._rotating,_.fi({kind:"endRotate"}),_.onRotateEnded()},_._88O=tc(F)):(n+=u,m+=w,m=Sd(m),e[0]=T*a(m)*a(n),e[1]=T*h(m),e[2]=T*a(m)*h(n),f[0]=J[0]+e[0],f[1]=J[1]+e[1],f[2]=J[2]+e[2],_.fp(r,v,f),void 0)}},pan:function(J,D,f,l){if(J||D){var w=this;l==v&&(l=w._firstPersonMode),w._89O&&w._89O.stop(!0);var P=Vc(w),s=[P[0]*J,P[4]*J,P[8]*J],i=[P[1]*D,P[5]*D,P[9]*D],y=s[0]+i[0],U=s[1]+i[1],B=s[2]+i[2],r=w._center,H=w._eye;if(l){var n=pf(w.getBoundaries(),H[0],H[2],H[0]+y,H[2]+B,t(y*y+B*B));y=n[0],B=n[1]}if(f=Cs(f)){var p=Tg(H),b=Tg(r);return f.action=function(R){w.fi({kind:w._panning?"betweenPan":"beginPan"}),w._panning=1,r[0]=b[0]+y*R,r[1]=b[1]+U*R,r[2]=b[2]+B*R,H[0]=p[0]+y*R,H[1]=p[1]+U*R,H[2]=p[2]+B*R,w.fp(co,v,H),w.fp(lg,v,r)},f._37o=function(){delete w._89O,delete w._panning,w.fi({kind:"endPan"}),w.onPanEnded()},w._89O=tc(f)}r[0]+=y,r[1]+=U,r[2]+=B,H[0]+=y,H[1]+=U,H[2]+=B,w.fp(co,v,H),w.fp(lg,v,r)}},walk:function(T,Y,Q){if(T){var f=this;Q==v&&(Q=f._firstPersonMode),f._90O&&f._90O.stop(!0);var L=f._center,Z=f._eye,c=jf(L,Z,!0);if(Q){var b=pf(f.getBoundaries(),Z[0],Z[2],Z[0]+c[0]*T,Z[2]+c[2]*T,y(T));if(T=Lp(b),!T)return;c=[b[0]/T,0,b[1]/T]}if(Y=Cs(Y)){var t=Tg(Z),a=Tg(L);return Y.action=function(k){f.fi({kind:f._walking?"betweenWalk":"beginWalk"}),f._walking=1;var X=T*k;Z[0]=t[0]+c[0]*X,Z[1]=t[1]+c[1]*X,Z[2]=t[2]+c[2]*X,L[0]=a[0]+c[0]*X,L[1]=a[1]+c[1]*X,L[2]=a[2]+c[2]*X,f.fp(co,v,Z),f.fp(lg,v,L)},Y._37o=function(){delete f._90O,delete f._walking,f.fi({kind:"endWalk"}),f.onWalkEnded()},f._90O=tc(Y)}Z[0]+=c[0]*T,Z[1]+=c[1]*T,Z[2]+=c[2]*T,L[0]+=c[0]*T,L[1]+=c[1]*T,L[2]+=c[2]*T,f.fp(co,v,Z),f.fp(lg,v,L)}},handleScroll:function(r,i){r.preventDefault();var q=this,Q=q._moveStep;q.isFirstPersonMode()?q.isPannable()&&q.pan(0,i>0?Q:-Q):q.isZoomable()&&q.setZoom(0>i?1/rl:rl)},handlePinch:function(r,C){this.isZoomable()&&this.setZoom(C>r?1/xq:xq)},reset:function(){this.setCenter(e.graph3dViewCenter),this.setEye(e.graph3dViewEye),this.setUp(e.graph3dViewUp)},moveSelection:function(w,L,S){eo(this.sm().toSelection(this.isMovable,this),w,L,S)},getMoveMode:function(u){var o="88",w="89",T="90";return Xk(u)||Ep[o]&&Ep[w]&&Ep[T]?"xyz":Ep[o]&&Ep[w]?"xy":Ep[o]&&Ep[T]?"xz":Ep[w]&&Ep[T]?"yz":Ep[o]?"x":Ep[w]?"y":Ep[T]?"z":"xz"},handleTick:function(){var C=this,R=!1,f=C._moveStep,W=f,T=!1,G=!0,D=C._rotateStep*(G?-1:1);C.isWalkable()||(W=0),C.isPannable()||(f=0),C.isRotatable()||(D=0),C._tickTimer&&(pl(C._tickTimer),delete C._tickTimer),ej()&&(R=!0,C.pan(-f,0,T,G)),Xj()&&(R=!0,C.pan(f,0,T,G)),Km()&&(R=!0,Xk()?C.pan(0,f,T,G):C.walk(W,T,G)),Tk()&&(R=!0,Xk()?C.pan(0,-f,T,G):C.walk(-W,T,G)),Fi()&&(R=!0,C.rotate(-D,0,T,G)),pc()&&(R=!0,C.rotate(D,0,T,G)),bf()&&(R=!0,C.rotate(0,-D/2,T,G)),xf()&&(R=!0,C.rotate(0,D/2,T,G)),R&&(C._tickTimer=Hj(C.handleTick,C,v,50))},handleKeyDown:function(B){var E=this;!Zr(B)&&kk[B.keyCode]?E.handleTick():dk(B)?E.selectAll():up(B)?E.handleDelete(B):op(B)&&this.isResettable()&&E.reset()},checkDoubleClickOnNote:function(X,N,R){var _=this;if(R===fr){if(N.s("note.toggleable"))return N.s(Pm,!N.s(Pm)),_.fi({kind:"toggleNote",event:X,data:N,part:R}),!0}else if(R===gm&&N.s("note2.toggleable"))return N.s(eh,!N.s(eh)),_.fi({kind:"toggleNote2",event:X,data:N,part:R}),!0;return!1},checkDoubleClickOnRotation:function(i,a,k){return k===Bm?(a.setRotationX(0),!0):k===_e?(a.setRotationY(0),!0):k===Vn?(a.setRotationZ(0),!0):!1},onRotateEnded:function(){},onWalkEnded:function(){},handleContextLost:function(C){C.preventDefault(),this._35O=!0},handleContextRestored:function(){var R=this;R._35O=!1,R._26I=v,R.iv()},toViewPosition:function(I){var T=this,z=T.getWidth()/2,o=T.getHeight()/2,F=T._18Q;return F||(F=Ei(T),T._18Q=wi(F,F,Vc(T))),I=Ji([I[0],I[1],I[2],1],F),{x:z+z*I[0]/I[3],y:o-o*I[1]/I[3]}},getHitPosition:function(F,f,S){var k=this,t=k.getWidth(),d=k.getHeight(),j=F.target?k.lp(F):F,m=j.x-t/2,g=j.y-d/2,C=k.getCenterInfo(),l=Vc(k);f=f?f:[0,0,0],S=S?S:[0,1,0],m=m/t*C.width,g=-1*g/d*C.height;var b=[l[0]*m,l[4]*m,l[8]*m],$=[l[1]*g,l[5]*g,l[9]*g],R=[b[0]+$[0],b[1]+$[1],b[2]+$[2]],W=k.getCenter(),Y=Wq(k,f,S,[R[0]+W[0],R[1]+W[1],R[2]+W[2]]);return Y?Y:[0,0,0]}});var Md=function(j){this.gv=j};Qq(Md,V,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()}});var gi=function(w){Cq(gi,this,[w])};Qq(gi,Md,{handle_contextmenu:function(l){Ye(l)},handle_mousewheel:function(m){this.gv.handleScroll(m,m.wheelDelta/40)},handle_DOMMouseScroll:function(Y){2===Y.axis&&this.gv.handleScroll(Y,-Y.detail)},handle_keydown:function(u){this.gv.handleKeyDown(u)},handle_mousedown:function(z){this.handle_touchstart(z)},handle_touchstart:function(d){Ye(d);var D=this,B=D.gv,q=Mm(d),l=B.getDataInfoAt(d),O=l?l.data:v,j=l?l.part:v,F=B.sm(),J=Cf(d),t=Ke(d);B.setFocus(d)&&(D._62O=v,D._57I=v,O?Zr(d)?F.co(O)?F.rs(O):F.as(O):F.co(O)||F.ss(O):q&&(Zr(d)?B.isRectSelectable()&&(D._62O=lr):D._57I=ij(d)),D.timer&&(pl(D.timer),delete D.timer),D._62O||(B.isFirstPersonMode()&&(Xk(d)||t>2?D._62O="pan":B.isMouseRoamable()||P?(D._62O="roaming",D.foward=J&&Mm(d),D.timer=Hj(D.tick,D,v,500)):q||(D._62O="roaming")),D._62O||(q&&J&&qr[j]?(D._62O=j,D.p3=O.p3()):q&&J&&Zk(O)&&B.isSelected(O)&&B.isMovable(O)?(D._62O="move",D.p3=O.p3()):P&&(t>2?D._62O="pan":2===t&&(D.dist=mr(d),D._62O="pinch")))),D.point=B.lp(d),mm(D,d),tq(d)?B.handleDoubleClick(d,O,j):B.handleClick(d,O,j))},tick:function(){var l=this,L=l.gv,e=L._moveStep;l.point&&L.isWalkable()&&(L.walk(l.foward?e:-e),l.timer=Hj(l.tick,l,v,50))},handle_mouseup:function(l){this.handle_touchend(l)},handle_touchend:function(I){var o=this._57I;o&&(Lp(o,ij(I))<=1&&this.gv.sm().cs(),this._57I=v)},handleWindowMouseMove:function(F){this.handleWindowTouchMove(F)},handleWindowTouchMove:function(o){var Z,v,R=this,s=R.gv,B=R._62O,A=R.point,P=s.lp(o),n=P.x-A.x,g=P.y-A.y,l=-O*n/s.getWidth(),Y=-O*g/s.getHeight();if("roaming"===B)R.rotate(o,l/2,Y/2);else if(B===Bm||B===_e||B===Vn)s.fi({kind:s._86O?"betweenEditRotation":"beginEditRotation",event:o}),s._86O=1,s.sm().each(function(c){if(Zk(c)&&s.isRotationEditable(c)){var t=y(l)>y(Y)?l:Y;B===Bm?c.setRotationX(c.getRotationX()+t):B===_e?c.setRotationY(c.getRotationY()+t):B===Vn&&c.setRotationZ(c.getRotationZ()+t)}});else if("move"===B||qr[B]){B===hj||B===ci||B===Tn?(s.fi({kind:s._87O?"betweenEditSize":"beginEditSize",event:o}),s._87O=1):(s.fi({kind:s._moving?"betweenMove":"beginMove",event:o}),s._moving=1);var D,h=R.p3,Q=s.getPositionInfo(h),x=Vc(s);D=B===en?"x":B===Hc?"y":B===Ve?"z":B===hj?"sx":B===ci?"sy":B===Tn?"sz":s.getMoveMode(o),n=n/s.getWidth()*Q.width,g=-1*g/s.getHeight()*Q.height;var c,M,K=[x[0]*n,x[4]*n,x[8]*n],N=[x[1]*g,x[5]*g,x[9]*g],V=K[0]+N[0],J=K[1]+N[1],j=K[2]+N[2],_=[h[0]+V,h[1]+J,h[2]+j],L=jf(s.getEye(),_,!0);if("xyz"===D?(c=_,s.moveSelection(V,J,j)):"xz"===D?(c=Wq(s,h,[0,1,0],_),c&&s.moveSelection(c[0]-h[0],0,c[2]-h[2])):"xy"===D?(c=Wq(s,h,[0,0,1],_),c&&s.moveSelection(c[0]-h[0],c[1]-h[1],0)):"yz"===D?(c=Wq(s,h,[1,0,0],_),c&&s.moveSelection(0,c[1]-h[1],c[2]-h[2])):"x"===D||"sx"===D?(L[0]=0,c=Wq(s,h,L,_),c&&(M=c[0]-h[0],"x"===D?s.moveSelection(M,0,0):s.sm().each(function(w){Zk(w)&&s.isSizeEditable(w)&&(Z=k(Kg,w.getWidth()+M),v=Z/w.getWidth(),w.setWidth(Z),Xk(o)&&(w.setHeight(w.getHeight()*v),w.setTall(w.getTall()*v)))
}))):"y"===D||"sy"===D?(L[1]=0,c=Wq(s,h,L,_),c&&(M=c[1]-h[1],"y"===D?s.moveSelection(0,M,0):s.sm().each(function(b){Zk(b)&&s.isSizeEditable(b)&&(Z=k(Kg,b.getTall()+M),v=Z/b.getTall(),b.setTall(Z),Xk(o)&&(b.setHeight(b.getHeight()*v),b.setWidth(b.getWidth()*v)))}))):("z"===D||"sz"===D)&&(L[2]=0,c=Wq(s,h,L,_),c&&(M=c[2]-h[2],"z"===D?s.moveSelection(0,0,M):s.sm().each(function(i){Zk(i)&&s.isSizeEditable(i)&&(Z=k(Kg,i.getHeight()+M),v=Z/i.getHeight(),i.setHeight(Z),Xk(o)&&(i.setTall(i.getTall()*v),i.setWidth(i.getWidth()*v)))}))),!c)return;R.p3=c}else if(B===lr){var t=R.div;t||(t=R.div=zj(),hq(R.getView(),t),t.op=A,t.style.background=s.getRectSelectBackground()),s.fi({kind:s._rectSelecting?"betweenRectSelect":"beginRectSelect",event:o}),s._rectSelecting=1,t.rect=vn(t.op,P),Ro(t,t.rect)}else if("pinch"===B&&2===Ke(o)){s.fi({kind:s._pinching?"betweenPinch":"beginPinch",event:o}),s._pinching=1;var M=mr(o);s.handlePinch(M,R.dist),R.dist=M}else"pan"===B||Xk(o)?R.pan(o,n,g):s.isFirstPersonMode()||(Mm(o)?R.rotate(o,l,Y):(R.pan(o,n,0),s.isWalkable()&&(s.fi({kind:s._walking?"betweenWalk":"beginWalk",event:o}),s._walking=1,s.walk(g/s.getHeight()*s.getCenterInfo().height))));R.point=P},pan:function(E,H,r){var m=this.gv;if(m.isPannable()){var y=m.getCenterInfo(),u=H/m.getWidth()*y.width,K=-1*r/m.getHeight()*y.height;m.fi({kind:m._panning?"betweenPan":"beginPan",event:E}),m._panning=1,m.pan(-u,-K)}},rotate:function(H,f,U){var $=this.gv;$.isRotatable()&&($.fi({kind:$._rotating?"betweenRotate":"beginRotate",event:H}),$._rotating=1,$.rotate(f,U))},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(q){var p=this,C=p.gv,I=p.div;if(I){var e=C.getDatasInRect(I.rect);if(!e.isEmpty()){var K=C.sm(),M=K.toSelection();e.each(function(r){K.co(r)?M.remove(r):M.add(r)}),K.ss(M)}sr(I)}C._moving&&(delete C._moving,C.fi({kind:"endMove",event:q}),C.onMoveEnded()),C._panning&&(delete C._panning,C.fi({kind:"endPan",event:q}),C.onPanEnded()),C._rotating&&(delete C._rotating,C.fi({kind:"endRotate",event:q}),C.onRotateEnded()),C._86O&&(delete C._86O,C.fi({kind:"endEditRotation",event:q})),C._87O&&(delete C._87O,C.fi({kind:"endEditSize",event:q})),C._pinching&&(delete C._pinching,C.fi({kind:"endPinch",event:q}),C.onPinchEnded()),C._rectSelecting&&(delete C._rectSelecting,C.fi({kind:"endRectSelect",event:q}),C.onRectSelectEnded()),C._walking&&(delete C._walking,C.fi({kind:"endWalk",event:q}),C.onWalkEnded()),p.dist=p.point=p._62O=p.p3=p.div=p._57I=p.timer=p.foward=v}});var qf=function(h){this.gv=h};Qq(qf,V,{_iv:!0,iv:function(){this._iv=!0},face:function(t,O){var k=this,c=k.gv.getGL();if(!c||!t)return v;var Y=O.x,Z=O.width,F=O.height,z=k.height-O.y-F,H=o(Z/2),u=new Uint8Array(4*Z*F),g=0;for(k.iv(),k.validate(t),De(c,k.frame),c.readPixels(Y,z,Z,F,c.RGBA,c.UNSIGNED_BYTE,u),De(c,v),k.iv();H>=g;g++)for(var D=H-g,a=H+g,U=D;a>=U;U++)for(var T=D;a>=T;T++)if(U===D||U===a||T===D||T===a){var L=Fh.m[u[4*(U*Z+T)]];if(L)return L}},get:function(C,l){this.validate();var I=this,R=I.gv.getGL();if(!R)return v;var Q,K,A=C.x,J=C.width,q=C.height,O=I.height-C.y-q,M=o(J/2),_=new Uint8Array(4*J*q),B=0,U=_.length,a=l?v:new Eb,T=l?v:{};if(De(R,I.frame),R.readPixels(A,O,J,q,R.RGBA,R.UNSIGNED_BYTE,_),De(R,v),l){for(;M>=B;B++)for(var c=M-B,x=M+B,X=c;x>=X;X++)for(var n=c;x>=n;n++)if((X===c||X===x||n===c||n===x)&&(Q=I.info(_,4*(X*J+n))))return Q}else for(;U>B;B+=4)Q=I.info(_,B),Q&&(K=Q.data,T[K._id]||(a.add(K),T[K._id]=K));return a},info:function(s,p){return this.colorMap[(s[p]<<16)+(s[p+1]<<8)+s[p+2]]},validate:function(X){var x=this,J=x.gv,F=J.getGL();if(F){var y=J.getWidth(),L=J.getHeight(),Z=F.RGBA,P=F.TEXTURE_2D,U=F.RENDERBUFFER,Y=F.FRAMEBUFFER;x.texture||(x.texture=Vb(F),x.render=F.createRenderbuffer(),x.frame=F.createFramebuffer()),(x.width!==y||x.height!==L)&&(ge(F,x.texture),F.texImage2D(P,0,Z,y,L,0,Z,F.UNSIGNED_BYTE,v),F.bindRenderbuffer(U,x.render),F.renderbufferStorage(U,F.DEPTH_COMPONENT16,y,L),De(F,x.frame),F.framebufferTexture2D(Y,F.COLOR_ATTACHMENT0,P,x.texture,0),F.framebufferRenderbuffer(Y,F.DEPTH_ATTACHMENT,U,x.render),ge(F,v),F.bindRenderbuffer(U,v),De(F,v),x.width=y,x.height=L),x._iv&&(x._iv=!1,De(F,x.frame),X?J._42(v,X):J._42(x.colorMap={}),De(F,v))}}});var Yq=function(p){this.gv=p};Qq(Yq,V,{gap:0,size:0,_42:function(k,p){var U=this,K=U.gv,D=K._gridGap,s=K._gridSize;if(K._gridVisible){if(U.gap!==D||U.size!==s){for(var g=[],L=K._gridSize/2,G=D*L,I=0;2*L+1>I;I++){var H=6*I,M=6*(2*L+1)+H;g[H]=-G,g[H+1]=0,g[H+2]=-G+I*D,g[H+3]=G,g[H+4]=0,g[H+5]=-G+I*D,g[M]=-G+I*D,g[M+1]=0,g[M+2]=-G,g[M+3]=-G+I*D,g[M+4]=0,g[M+5]=G}U.vs=new Mg(g),U.gap=D,U.size=s}Yn(K),pk(k,p),Em(k,p,1,K._gridColor,K._buffer.vs,U.vs),Yb(k,0,U.vs.length/3,k.LINES),ec(k,p)}else U.vs=U.gap=U.size=v}});var mn=function(F){this.gv=F};Qq(mn,V,{_42:function(e,C){var D=this.gv,M=D._buffer.vs,S=D._axisXColor,o=D._axisYColor,R=D._axisZColor,U=D._originAxisVisible,t=D._centerAxisVisible;if(U||t){var W=z?e.TRIANGLES:e.TRIANGLE_FAN,j=e.LINES;if(Yn(D),pk(e,C),U){var s=D.getCenterInfo(),Z=I(s.width,s.height)/5,q=.8*Z,K=.05*Z;Em(e,C,1.5,S,M,new Mg([0,0,0,Z,0,0,q,K,0,q,0,K,q,-K,0,q,0,-K,q,K,0,0,0,0,0,Z,0,K,q,0,0,q,K,-K,q,0,0,q,-K,K,q,0,0,0,0,0,0,Z,K,0,q,0,K,q,-K,0,q,0,-K,q,K,0,q])),Yb(e,0,2,j),Yb(e,1,6,W),Em(e,C,v,o),Yb(e,7,2,j),Yb(e,8,6,W),Em(e,C,v,R),Yb(e,14,2,j),Yb(e,15,6,W)}if(t){var x=D._center,X=x[0],l=x[1],T=x[2],s=D.getPositionInfo(x);Z=I(s.width,s.height)/20,Em(e,C,1.5,S,M,new Mg([X,l,T,X+Z,l,T,X,l,T,X,l+Z,T,X,l,T,X,l,T+Z])),Yb(e,0,2,j),Em(e,C,v,o),Yb(e,2,2,j),Em(e,C,v,R),Yb(e,4,2,j)}ec(e,C)}}});var Od=function(_){this.gv=_},en="edit_tx",Hc="edit_ty",Ve="edit_tz",Bm="edit_rx",_e="edit_ry",Vn="edit_rz",hj="edit_sx",ci="edit_sy",Tn="edit_sz",qr={};qr[en]=1,qr[Hc]=1,qr[Ve]=1,qr[Bm]=1,qr[_e]=1,qr[Vn]=1,qr[hj]=1,qr[ci]=1,qr[Tn]=1,Qq(Od,V,{_42:function(Y,J,h){var w=this,C=w.gv,V=C.sm().ld();if(C.isEditable(V)&&Zk(V)&&(!C.isFirstPersonMode()||!C.isMouseRoamable()&&!P)){Yn(C);var N,T,A=C.isMovable(V),K=C.isRotationEditable(V),q=C.isSizeEditable(V),O=C._axisXColor,f=C._axisYColor,z=C._axisZColor,D=C._editSizeColor,i=C.getCenterInfo(),u=I(i.width,i.height)/10,_=u/(h?5:10),l=.7*u,m=.4*l,j=V.p3(),y=j[0],t=j[1],n=j[2];N=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],A&&w._17O(Y,J,V,h,en,O,N,[y,t-_,n,y+l,t-_,n,y+l,t,n,y+l,t,n,y,t,n,y,t-_,n,y,t-_,n+_,y+l,t-_,n+_,y+l,t-_,n,y+l,t-_,n,y,t-_,n,y,t-_,n+_]),T=y+l,q&&w._17O(Y,J,V,h,hj,D,N,[T,t-_,n,T+m,t-_,n,T+m,t,n,T+m,t,n,T,t,n,T,t-_,n,T,t-_,n+_,T+m,t-_,n+_,T+m,t-_,n,T+m,t-_,n,T,t-_,n,T,t-_,n+_]),T+=m,K&&w._17O(Y,J,V,h,Bm,O,N,[T,t-_,n,T+m,t-_,n,T+m,t,n,T+m,t,n,T,t,n,T,t-_,n,T,t-_,n+_,T+m,t-_,n+_,T+m,t-_,n,T+m,t-_,n,T,t-_,n,T,t-_,n+_]),N=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],A&&w._17O(Y,J,V,h,Hc,f,N,[y,t,n,y,t+l,n,y-_,t+l,n,y-_,t+l,n,y-_,t,n,y,t,n,y,t,n,y,t,n-_,y,t+l,n-_,y,t+l,n-_,y,t+l,n,y,t,n]),T=t+l,q&&w._17O(Y,J,V,h,ci,D,N,[y,T,n,y,T+m,n,y-_,T+m,n,y-_,T+m,n,y-_,T,n,y,T,n,y,T,n,y,T,n-_,y,T+m,n-_,y,T+m,n-_,y,T+m,n,y,T,n]),T+=m,K&&w._17O(Y,J,V,h,_e,f,N,[y,T,n,y,T+m,n,y-_,T+m,n,y-_,T+m,n,y-_,T,n,y,T,n,y,T,n,y,T,n-_,y,T+m,n-_,y,T+m,n-_,y,T+m,n,y,T,n]),N=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],A&&w._17O(Y,J,V,h,Ve,z,N,[y,t,n,y,t,n+l,y,t-_,n+l,y,t-_,n+l,y,t-_,n,y,t,n,y,t-_,n,y-_,t-_,n,y-_,t-_,n+l,y-_,t-_,n+l,y,t-_,n+l,y,t-_,n]),T=n+l,q&&w._17O(Y,J,V,h,Tn,D,N,[y,t,T,y,t,T+m,y,t-_,T+m,y,t-_,T+m,y,t-_,T,y,t,T,y,t-_,T,y-_,t-_,T,y-_,t-_,T+m,y-_,t-_,T+m,y,t-_,T+m,y,t-_,T]),T+=m,K&&w._17O(Y,J,V,h,Vn,z,N,[y,t,T,y,t,T+m,y,t-_,T+m,y,t-_,T+m,y,t-_,T,y,t,T,y,t-_,T,y-_,t-_,T,y-_,t-_,T+m,y-_,t-_,T+m,y,t-_,T+m,y,t-_,T])}},_17O:function(x,u,y,O,b,$,E,d){var L=this.gv._buffer;wk(x,u,O,!0,y,b),oj(x,u,v,!0,v,v,!0,v,!1),fl(x,u.uDiffuse,$),nf(x,L.vs,new Mg(d),u.aPosition),nf(x,L.ns,new Mg(E),u.aNormal),Yb(x,0,12,x.TRIANGLES),Yc(x,u)}});var ur=function(x,L){this.gv=x,this.s=function(z,Y,j){return Y==v&&(Y=j),Y==v?L.getStyle(z):cl(Y,L,x)},this.data=L};Qq(ur,V,{I3d:!0,ms_icons:1,_iv:!0,iv:function(){this._iv=!0},_42:function(K,T,S,x){var Q,f,P,E,$,r,d,U=this,l=U.gv,z=U.data,W=z._id,J=U.s("batch"),N=l._34O,L=l._33O,y=l.isSelectable(z),k=l.getBrightness(z),h=k!=v&&1!==k,G=l.getOpacity(z),i=G!=v&&1!==G;if(U._iv){if(U.labelInfo=U.label2Info=U.noteInfo=U.note2Info=U._38o=v,U._24O(Am,"getLabel"),U._24O(Pi,"getLabel2"),U._26O(fr,"getNote"),U._26O(gm,"getNote2"),U._15O(),P=db(N,L,z,J),U.validate(P,J?Yh[J]||dd:v),P&&(E=N[W],$=E.size=P.vs.length/3-E.begin,d=P.rs))for(k=h?k:1,r=0;$>r;r++)d.push(k);if(Zk(z)){var e=l.getWireframe(z);e&&e.width&&e.color?(U.wireframe=e,U._36o=Th(z,e.mat)):U.wireframe=U._36o=v}U._iv=!1}if(h&&(fl(K,T.uBright,!0),fl(K,T.uBrightness,k)),i&&(fl(K,T.uOp,!0),fl(K,T.uOpacity,G)),f=wk(K,T,S,y,z,Gh),E=N[W]){if(f){var X=3*E.begin,F=L[J].ps;for(r=0;r<E.size;r++)F[X++]=f[0],F[X++]=f[1],F[X++]=f[2]}}else U._80o(K,T,x);U.drawWireframe(K,T,x),(Q=U.labelInfo)&&(wk(K,T,S,y,z,Am),U._28O(Q,Am,x)),(Q=U.label2Info)&&(wk(K,T,S,y,z,Pi),U._28O(Q,Pi,x)),(Q=U.noteInfo)&&(wk(K,T,S,y,z,fr),U._29O(Q,fr,x)),(Q=U.note2Info)&&(wk(K,T,S,y,z,gm),U._29O(Q,gm,x)),(Q=U._38o)&&U._99O(K,T,Q,S,y,x),h&&fl(K,T.uBright,!1),i&&fl(K,T.uOp,!1)},validate:function(){},_16O:function(){return ak},_80o:function(){},drawWireframe:function(P,x,G){var $=this,g=$.gv,V=$.wireframe;if(V&&G(!1)){Yn(g,$._36o);var T=g._buffer,H=V.width,U=V.color;pk(P,x),V.short?(Em(P,x,H,U,T.vs,_j),Yb(P,0,_j.length/3,P.LINES)):(Em(P,x,H,U,T.vs,vf),Br(P,T.is,Ii),wn(P,0,Ii.length,P.LINE_STRIP)),ec(P,x),od(g)}},dispose:function(){},getBodyColor:function(s){var W=this.data,r=this.gv.getBodyColor(W);return r?r:s?W.getStyle(s):v},_24O:function(n,m){var $=this,i=$.data,E=$.gv,x=$.s,b=E[m](i);if(b!=v){var J=x(n+".max"),z=this[n+"Info"]={label:b,color:E[m+"Color"](i),font:x(n+".font"),background:E[m+"Background"](i)},j=z.rect=Sc(z.font,b);J>0&&J<j.width&&(z.labelWidth=j.width,j.width=J),j.x=j.y=0,z.mat=$._16O(x(n+".autorotate"),x(n+".position"),j,x(n+".face"),x(n+".t3"),x(n+".r3"),x(n+".rotationMode"),x(n+".offset.x"),x(n+".offset.y"));var O=j.width/2,Y=j.height/2;z.vs=new Mg([-O,Y,0,-O,-Y,0,O,-Y,0,O,Y,0])}},_26O:function(h,f){var C=this,D=C.data,r=C.gv,F=C.s,d=r[f](D);if(d!=v){var I=this[h+"Info"]={note:d,expanded:F(h+".expanded"),font:F(h+".font"),color:F(h+".color"),borderWidth:F(h+".border.width"),borderColor:F(h+".border.color"),background:r[f+"Background"](D)};if(I.expanded){var u=F(h+".max"),E=Sc(I.font,I.note);E.width+=6,E.height+=2,u>0&&u<E.width&&(I.labelWidth=E.width,E.width=u);var T={x:-E.width/2,y:-8-E.height,width:E.width,height:E.height+8}}else T={x:-6,y:-18,width:12,height:18};I.mat=C._16O(F(h+".autorotate"),F(h+".position"),v,F(h+".face"),F(h+".t3"),F(h+".r3"),F(h+".rotationMode"),F(h+".offset.x"),F(h+".offset.y")),I.rect=T;var s=T.x,W=T.y,G=T.width,m=T.height;I.vs=new Mg([s,-W,0,s,-W-m,0,s+G,-W-m,0,s+G,-W,0])}},_28O:function(d,P,X){if(X(this.s(P+".transparent"))){var V=d.rect,D=Cm(V.width,V.height);Ko(D,d),D.restore(),_p(this,P,d.mat,d.vs)}},_29O:function(K,o,b){if(b(this.s(o+".transparent"))){var u=K.rect,D=u.x,f=u.y;u.x=u.y=0;var M=Cm(u.width,u.height);Bj(M,K),M.restore(),u.x=D,u.y=f,_p(this,o,K.mat,K.vs)}},_99O:function(e,Z,I,z,T,n){if(I){var g=this,u=g.gv,N=g.data,P=u._buffer,m=u._1O,h=I.icons;for(var f in h){var L=h[f],D=I.rects[f];if(D&&n(L.transparent)){wk(e,Z,z,T,N,f);var M=L.names,B=M.length;oj(e,Z,L.blend,L.light,L.brightness,L.opacity,L.reverseFlip,L.reverseColor,L.reverseCull,L.ambient,L.specular,L.shininess);for(var b=0;B>b;b++){var U=M[b],Q=mc(U),j=D[b],O=j.width,v=j.height,S=Cm(O,v);dh(S,Q,L.stretch,0,0,O,v,N,u),S.restore(),Vb(e,Bo,m),Af(g,j.mat),wf(e,Z,m,u.getTexture(L.opacityImage,N),P.uv,Ir),nf(e,P.vs,j.vs,Z.aPosition),nf(e,P.ns,gk,Z.aNormal),Br(e,P.is,rb),wn(e,0,rb.length,e.TRIANGLES),Vg(e,Z,m),od(u)}Yc(e,Z)}}}}});var hd=function(b,x){Cq(hd,this,[b,x])};Qq(hd,ur,{_16O:function(e,Q,n,t,F,_,s,x,U,f){var G=jl(),A=this.data,I=A.s3(),L=A.p3(),g=A.r3(),b=A.getRotationMode(),j=cf(Q,I,n,t,x,U);if(F&&(j[0]+=F[0],j[1]+=F[1],j[2]+=F[2]),sn(G,L),e){var d=jl();if(Jr(d,g,b),Pn(j,d),sn(G,j),G.auto=e,G.pos=Pn([0,0,0],G),_||f){var R=G.mat2=jl();Jr(R,_,s),f&&Kq(R,-f)}}else Jr(G,g,b),sn(G,j),t===r?jh(G,-E):t===N?jh(G,E):t===cn?im(G,-E):t===Yp?im(G,E):t===W&&jh(G,H),Jr(G,_,s),f&&Kq(G,-f);return G},clear:function(){var p=this;p.faceMat=p.mat=p.shapeModel=p.left=p.right=p.front=p.back=p.top=p.bottom=p.csg=v},validate:function(B,M){var Z=this,P=Z.gv,L=Z.data,v=Sh(Z.s),p=Th(L,P.getMat(L));if(Z.clear(),B){var k=[];v?Qf(P,L,v,Z.s,Z.getBodyColor(),[p],B,k):(Qi(P,L,B,M,p,r,k,Pf),Qi(P,L,B,M,p,N,k,Dh),Qi(P,L,B,M,p,cn,k,Vf),Qi(P,L,B,M,p,Yp,k,Ub),Qi(P,L,B,M,p,m,k,Ck),Qi(P,L,B,M,p,W,k,sp)),k.length&&(Kr(B.vs,k),Kr(B.ns,Qj(k)))}else Z.mat=p,(Z.shapeModel=v)||(Z.vf(r),Z.vf(N),Z.vf(m),Z.vf(W),Z.vf(cn),Z.vf(Yp))},vf:function(I){var L=this;if(L.gv.getFaceVisible(L.data,I)){var e=ed(L,I);return e.mat&&(L.faceMat=!0),e}},_80o:function(w,z,R){var y=this,x=y.gv,H=y.data,U=x._cube,o=y.shapeModel;Yn(x,y.mat),o?Mi(x,H,o,y.s,y.getBodyColor(),R):(nf(w,U.vs,v,z.aPosition),nf(w,U.ns,v,z.aNormal),Br(w,U.is),y._18O(w,z,y.left,0,R),y._18O(w,z,y.front,6,R),y._18O(w,z,y.right,12,R),y._18O(w,z,y.back,18,R),y._18O(w,z,y.top,24,R),y._18O(w,z,y.bottom,30,R)),od(x),y.faceMat&&(y._18O(w,z,y.left,0,R,!0),y._18O(w,z,y.front,6,R,!0),y._18O(w,z,y.right,12,R,!0),y._18O(w,z,y.back,18,R,!0),y._18O(w,z,y.top,24,R,!0),y._18O(w,z,y.bottom,30,R,!0))},_18O:function(x,O,_,D,e,B){if(_){if(!e(_.transparent))return;if(B&&!_.mat||!B&&_.mat)return;B&&Yn(this.gv,_.mat);var q=this,R=q.data,J=q.gv,d=J.getTexture(_.texture,R),M=J.getTexture(_.oTexture,R),U=_.uv,c=_.uvScale,o=_.uvOffset;if(d)if(U){for(var Q=8*(D/6),t=0;8>t;t++)hl[Q+t]=U[t];wf(x,O,d,M,J._buffer.uv,hl,o,c)}else wf(x,O,d,M,J._cube.uv,v,o,c);oj(x,O,_.blend,_.light,_.brightness,_.opacity,_.reverseFlip,_.reverseColor,_.reverseCull,_.ambient,_.specular,_.shininess),fl(x,O.uDiffuse,_.color),wn(x,D,6,x.TRIANGLES),Yc(x,O),Vg(x,O,d),B&&od(J)}}});var Bp=function(S,I){Cq(Bp,this,[S,I])};Qq(Bp,ur,{validate:function(){var s=this,n=s.data,E=s.s,r=n._40I,$=n._41I;if(s.width=s.mat=s.vs=v,r&&$){var H=s.width=E("edge.width"),t=E("edge.offset"),z=r.p3(),l=$.p3(),Y=jf(l,z,!0),g=Lp(z,l);t=g>2*t?t:g/2,Y[0]*=t,Y[1]*=t,Y[2]*=t,z[0]+=Y[0],z[1]+=Y[1],z[2]+=Y[2],l[0]-=Y[0],l[1]-=Y[1],l[2]-=Y[2],E("edge.3d")?s.mat=ng(z,l,H):s.vs=new Mg(z.concat(l))}},_80o:function(Q,v,K){var I=this,t=I.s,n=I.width;if(n&&K(t("shape3d.transparent"))){var r=I.gv,s=I.gv._buffer;I.vs?(Yn(r),pk(Q,v),Em(Q,v,n,I.getBodyColor("edge.color"),s.vs,I.vs),Yb(Q,0,2,Q.LINES),ec(Q,v)):(Yn(r,I.mat),Mi(r,I.data,Pj,t,I.getBodyColor(),K),od(r))}}});var ke=function(b,B){Cq(ke,this,[b,B])};Qq(ke,hd,{_80o:function(P,B,l){var O=this,m=O.gv,d=O.shapeModel;Yn(m,O.mat),d?Mi(m,O.data,d,O.s,O.getBodyColor(),l):(Tm(O,P,B,O.left,l),Tm(O,P,B,O.front,l),Tm(O,P,B,O.right,l),Tm(O,P,B,O.back,l),Tm(O,P,B,O.top,l),Tm(O,P,B,O.bottom,l)),od(m)},validate:function(d,E){var X,Q=this,P=Q.s,F=Q.data,V=F.p3(),e=F._thickness/2,G=F.isClosePath(),R=Cg(F.getPoints(),F.getSegments(),P("shape3d.resolution"),G),Z=d&&d.uv;if(Q.clear(),0>e||P("shape3d")===ql)X=Q.shapeModel={vs:[]},P("shape3d.image")&&(X.uv=[],X.sum=Te(R),X.len=0),P(Hr)&&(0>e||!G)&&(X.top_vs=[],P("shape3d.top.image")&&(X.top_uv=[])),P(gh)&&(0>e||!G)&&(X.bottom_vs=[],P("shape3d.bottom.image")&&(X.bottom_uv=[])),0>e&&!G&&(P(ld)&&(X.from_vs=[],P("shape3d.from.image")&&(X.from_uv=[])),P(Hg)&&(X.to_vs=[],P("shape3d.to.image")&&(X.to_uv=[]))),Q._12O(R,e);else{var M,f,y,S,o,k,s,O,w,H;o=Q.vf(m,Z),e&&(k=Q.vf(W,Z),s=G?v:Q.vf(r,Z),O=G?v:Q.vf(N,Z),w=Q.vf(cn,Z),H=Q.vf(Yp,Z)),e?Q._12O(R,e):o&&R.forEach(function(U){if(S=U.length,S>0)for(M=U[0],y=1;S>y;y++)f=U[y],Q.addV(o.vs,M,f),M=f}),Q._20Q(R),d||(o&&(o.ns=Qj(o.vs),tm(o,"vs"),tm(o,Lk)),e&&(k&&(k.ns=Qj(k.vs),tm(k,"vs"),tm(k,Lk)),s&&(s.ns=Qj(s.vs),tm(s,"vs"),tm(s,Lk)),O&&(O.ns=Qj(O.vs),tm(O,"vs"),tm(O,Lk)),w&&(w.ns=Qj(w.vs),tm(w,"vs"),tm(w,Lk)),H&&(H.ns=Qj(H.vs),tm(H,"vs"),tm(H,Lk))))}var h=Q.mat=jl();sn(h,V),Jr(h,F.r3(),F.getRotationMode()),sn(h,Kf(V)),d&&(ar(Q,h,d,E,X),Q.clear())},_20Q:function(E){var o,l,Z,y,X,W,k,Q=this,D=Q.front,e=Q.back,O=Q.top,d=Q.bottom,q=D?D.tuv:v,A=e?e.tuv:v,M=O?O.tuv:v,t=d?d.tuv:v,N=0;(q||A||M||t)&&(o=Te(E),0===o&&(o=1),E.forEach(function(E){if(l=E.length,l>0)for(W=E[0],Z=1;l>Z;Z++)k=E[Z],y=N/o,N+=Lp(W,k),X=N/o,Q._14O(D,y,X),Q._14O(e,1-X,1-y),Q._14O(O,y,X),Q._14O(d,y,X),W=k}))},_14O:function(E,i,d){if(E){var O=E.uv,p=E.tuv;if(p){if(O)var V=O[0]+(O[6]-O[0])*i,g=O[1]+(O[7]-O[1])*i,k=O[2]+(O[4]-O[2])*i,r=O[3]+(O[5]-O[3])*i,C=O[2]+(O[4]-O[2])*d,z=O[3]+(O[5]-O[3])*d,P=O[0]+(O[6]-O[0])*d,v=O[1]+(O[7]-O[1])*d;else V=i,g=0,k=i,r=1,C=d,z=1,P=d,v=0;p.push(k,r,C,z,P,v,P,v,V,g,k,r)}}},_13O:function(f){var l=f.uv,m=f.tuv;m&&(l?m.push(l[2],l[3],l[4],l[5],l[6],l[7],l[6],l[7],l[0],l[1],l[2],l[3]):m.push(0,1,1,1,1,0,1,0,0,0,0,1))},_12O:function(n,P){var w,j,i,U,X,Z=this;if(0>P)var F=Z.data,f=F.p(),M=F.getWidth(),V=F.getHeight(),W=f.x-M/2,I=f.y-V/2,O=F.getControlPoint(),_=O.x,R=O.y,S=(_-W)/M,q=(R-I)/V;n.forEach(function(T){if(X=T.length,X>0)for(w={p:T[0],n:!0},U=1;X>U;U++)j=T[U],i=X-1>U?T[U+1]:v,0>P?Z._11O(w,j,i,_,R,S,q,W,I,M,V):Z.addPoint(w,j,i,P,T)})},_11O:function(z,M,n,k,O,r,j,K,$,e,a){var T,v,g,h,Q=this,S=Q.data,U=Q.shapeModel,i=z.p,q=S.getTall()/2,R=S.getElevation(),q=S.getTall()/2+R,y=-S.getTall()/2+R,C=U.vs,u=U.top_vs,f=U.bottom_vs,E=U.from_vs,H=U.to_vs,x=U.sum,b=U.uv,m=U.top_uv,G=U.bottom_uv,X=U.from_uv,L=U.to_uv;z.n&&(z.n=!1,E&&(E.push(i.x,q,i.y,i.x,y,i.y,k,y,O,k,y,O,k,q,O,i.x,q,i.y),X&&X.push(0,0,0,1,1,1,1,1,1,0,0,0))),n||H&&(H.push(M.x,q,M.y,k,y,O,M.x,y,M.y,k,y,O,M.x,q,M.y,k,q,O),L&&L.push(1,0,0,1,1,1,0,1,1,0,0,0)),u&&u.push(i.x,q,i.y,k,q,O,M.x,q,M.y),f&&f.push(i.x,y,i.y,M.x,y,M.y,k,y,O),(m||G)&&(T=(i.x-K)/e,g=(i.y-$)/a,v=(M.x-K)/e,h=(M.y-$)/a,m&&m.push(T,g,r,j,v,h),G&&G.push(T,1-g,v,1-h,r,1-j)),C.push(i.x,q,i.y,M.x,q,M.y,M.x,y,M.y,M.x,y,M.y,i.x,y,i.y,i.x,q,i.y),b&&(T=U.len/x,U.len+=Lp(i,M),v=U.len/x,b.push(T,0,v,0,v,1,v,1,T,1,T,0)),z.p=M},addPoint:function(o,c,k,r,E){var O,i,C,z,T,x,D,g,Q,q=this,m=o.p,X=o.f,U=o.b,s=q.s("shape3d.side")||Jb,W=q.shapeModel,w=q.data.isClosePath();if(o.n&&(o.n=!1,X=w&&E.length>2?$r(E[E.length-2],m,c,r):$r(v,m,c,r),U=tk(m,X),W?W.top_vs&&q._10O(U,X,s,W.top_vs,W.top_uv):(O=q.left)&&(q.addV(O.vs,U,X),q._13O(O))),i=k?$r(m,c,k,r):w&&E.length>2?$r(m,c,E[1],r):$r(m,c,v,r),C=tk(c,i),W){var $,j,Y=W.vs,f=W.uv,h=W.sum;for(f&&($=W.len/h,W.len+=Lp(m,c),j=W.len/h),x=q._9O(U,X,s),D=q._9O(C,i,s),g=0;s>g;g++)Q=g+1,Kr(Y,x[Q]),Kr(Y,D[g]),Kr(Y,x[g]),Kr(Y,D[g]),Kr(Y,x[Q]),Kr(Y,D[Q]),f&&(z=g/s,T=Q/s,f.push($,T,j,z,$,z,j,z,$,T,j,T));!k&&W.bottom_vs&&q._10O(i,C,s,W.bottom_vs,W.bottom_uv)}else!k&&(O=q.right)&&(q.addV(O.vs,i,C),q._13O(O)),(O=q.front)&&q.addV(O.vs,X,i),(O=q.back)&&q.addV(O.vs,C,U),(O=q.top)&&q.addH(O.vs,X,i,C,U,!0),(O=q.bottom)&&q.addH(O.vs,U,C,i,X);o.p=c,o.f=i,o.b=C},_10O:function(E,M,o,D,y){var U,c,p=this,k=p.data,w=p._9O(E,M,o),x=(E.x+M.x)/2,v=(E.y+M.y)/2,Q=k.getElevation(),K=0;for(K=0;o>K;K++)Kr(D,w[K+1]),Kr(D,w[K]),Kr(D,[x,Q,v]),y&&(U=O*K/o,c=O*(K+1)/o,y.push(.5-.5*h(c),.5-.5*a(c),.5-.5*h(U),.5-.5*a(U),.5,.5))},_9O:function(X,F,j){for(var R,f,s=this,G=s.data,l=[],B=(X.x+F.x)/2,q=(X.y+F.y)/2,W=G.getTall()/2,Q=G.getElevation(),p=0;j>=p;p++)R=O*p/j,f=h(R),l.push([B+(X.x-B)*f,Q+W*a(R),q+(X.y-q)*f]);return l},addV:function(F,N,k){var _=N.x,T=N.y,g=k.x,X=k.y,Z=this.data,c=Z.getElevation(),z=Z.getTall()/2;F.push(_,c-z,T,g,c-z,X,g,c+z,X,g,c+z,X,_,c+z,T,_,c-z,T)},addH:function(I,w,y,K,T,l){var V=this.data,m=V.getTall()/2,J=V.getElevation()+(l?m:-m);I.push(w.x,J,w.y,y.x,J,y.y,K.x,J,K.y,K.x,J,K.y,T.x,J,T.y,w.x,J,w.y)},vf:function(n,y,A){var h,D=this,c=D.gv.getFaceVisible(D.data,n);return(A||c)&&(h=ed(D,n),h.vs=[],h.tuv=c&&(h.texture||y)?[]:v,h.visible=c),h}}),sq(e,{accordionViewExpandIcon:os(zq),accordionViewCollapseIcon:os(zq,!0),accordionViewLabelColor:Bh,accordionViewLabelFont:Hm,accordionViewTitleBackground:Pc,accordionViewSelectBackground:Co,accordionViewSelectWidth:3,accordionViewSeparatorColor:U,splitViewDividerSize:1,splitViewDividerBackground:Pc,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:Zo,rect:[2,2,12,12],background:zq}]},propertyViewLabelColor:uj,propertyViewLabelSelectColor:Bh,propertyViewLabelFont:Hm,propertyViewExpandIcon:os(Nl),propertyViewCollapseIcon:os(Nl,!0),propertyViewBackground:zb,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:Gi,propertyViewColumnLineColor:Gi,propertyViewSelectBackground:Co,listViewLabelColor:uj,listViewLabelSelectColor:Bh,listViewLabelFont:Hm,listViewRowLineVisible:!1,listViewRowLineColor:Gi,listViewSelectBackground:Co,treeViewLabelColor:uj,treeViewLabelSelectColor:Bh,treeViewLabelFont:Hm,treeViewExpandIcon:os(Dg),treeViewCollapseIcon:os(Dg,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:Gi,treeViewSelectBackground:Co,tableViewLabelColor:uj,tableViewLabelSelectColor:Bh,tableViewLabelFont:Hm,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:Gi,tableViewColumnLineColor:Gi,tableViewSelectBackground:Co,treeTableViewLabelColor:uj,treeTableViewLabelSelectColor:Bh,treeTableViewLabelFont:Hm,treeTableViewExpandIcon:os(Dg),treeTableViewCollapseIcon:os(Dg,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:Gi,treeTableViewColumnLineColor:Gi,treeTableViewSelectBackground:Co,tableHeaderLabelColor:uj,tableHeaderLabelFont:Hm,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:wd,tableHeaderBackground:zb,tableHeaderMoveBackground:Vh,tableHeaderInsertColor:Co,tableHeaderSortDescIcon:kc(Nl,!0),tableHeaderSortAscIcon:kc(Nl),tabViewTabGap:1,tabViewLabelColor:Bh,tabViewLabelFont:Hm,tabViewTabBackground:Pc,tabViewSelectWidth:3,tabViewSelectBackground:Co,tabViewMoveBackground:Vh,tabViewInsertColor:Co,toolbarLabelColor:uj,toolbarLabelSelectColor:Bh,toolbarLabelFont:Hm,toolbarBackground:zb,toolbarSelectBackground:Co,toolbarItemGap:8,toolbarSeparatorColor:Gn},!0);var bg={translateX:1,sortColumn:1},xp={sortable:1,sortOrder:1,sortFunc:1},ls={focusData:1},lq={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},Up={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},pe=function(K,g){g.add(K),K.hasChildren()&&K.eachChild(function(c){pe(c,g)})},he=function(L,n,I,z,d,D,j,J,e,w,u){var Y,U=I.getValueType();if(I.getEnumValues()){var E=I.toEnumLabel(n);return Y=mc(I.toEnumIcon(n)),Y&&(Ll(L,Y,D+Fb/2,j+e/2),D+=Fb),E!=v&&pq(L,E,z,d,D,j,0,e),void 0}return n=I.formatValue(n),n!=v?U===Op?(mg(L,D,j,J,e,n),void 0):U===ok||!U&&vb(n)?(Y=mc(n?fe:de),Ll(L,Y,D+J/2,j+e/2,w,u),void 0):(pq(L,n,z,d,D,j,J,e,I._align),void 0):void 0},Ac=function(P,v){var E=v.view,D=Qn(P),s=v.column||v.property;v.editor=P,P.info=v,E.setCurrentEditor(P),E.getView().insertBefore(D,E._79O),Ro(P,v.editorRect),P.setFocus?P.setFocus():Xp(P),P.commitValue=function(){P._17Q&&(P=P._17Q),E.setValue(v.data,s,P.getValue?P.getValue():P.value),P.close&&P.close(),sr(D)},s.onEditorCreated&&s.onEditorCreated(v)},xj=function(X,C,P,U,l){var Z=er(X,P),S=C.value,V=C.view,r=l.getValueType();return Z.onblur=Z.onchange=function(){V.endEditing()},"input"===X?(S!=v&&(Z.value=S),Z.onkeydown=function(F){Rn(F)&&V.endEditing()},("int"===r||"number"===r)&&Z.addEventListener("keydown",e.numberListener,!1)):X===lr&&U.forEach(function(p){var v=K.createElement("option");v.innerHTML=l.toEnumLabel(p),v.value=p,l.isEnumEqual(S,p)&&(v.selected=!0),hq(Z,v)}),Ac(Z,C),Z},Lb=b.widget={},Cc=function(k,p,L){Qq(G+".widget."+k,p,L)};sq(Xi,{ms_value:function(Z){Z.getValue=function(L){var e=this.getItemById(L),U=e.element;return U?U.getValue?U.getValue():U.value:e.selected},Z.setValue=function(g,v){var $=this.getItemById(g),F=$.element;F?F.setValue?F.setValue(v):F.value=v:($.selected=v,this.iv())},Z.v=function(g,q){var A=this;if(2===arguments.length)A.setValue(g,q);else{if(!sg(g))return A.getValue(g);for(var W in g)A.setValue(W,g[W])}return A}},_46o:function(C){C._icon=v,C._accessType=v,C._valueType=v,C._editable=!1,C._batchEditable=!0,C._align=r,C._nullable=!0,C._emptiable=!1,C.setParent=jq,C.formatValue=function(H){var I=this,L=I._valueType;if(I.getEnumValues())return I.toEnumLabel(H);if(L===ok)return!!H;if(H!=v){if(L===gd)return B(H);if(L===Oh)return qe(H)}return H},C.setEnum=function(M,Y,X,f,F){var y=this;M&&M.values&&(f=M.editable,X=M.icons,Y=M.labels,F=M.strict,M=M.values),br(M)&&(M=M._as),br(Y)&&(Y=Y._as),br(X)&&(X=X._as),y._enumValues=M,y._enumLabels=Y,y._enumIcons=X,y._enumEditable=f,y._enumStrict=F==v?!0:F,M&&M.length&&Nf(M[0])&&(y._valueType=Oh),y.fp("enum",!1,!0)},C.isEnumEditable=function(){return this._enumEditable},C.getEnumValues=function(){return this._enumValues},C.getEnumLabels=function(){return this._enumLabels},C.getEnumIcons=function(){return this._enumIcons},C.isEnumStrict=function(){return this._enumStrict},C.isEnumEqual=function(p,t){return this._enumStrict?p===t:p==t},C.toEnumLabel=function(x){var $=this,i=$._enumValues,h=$._enumLabels;if(i&&h)for(var q=0;q<i.length;q++)if($.isEnumEqual(x,i[q]))return h[q];return x},C.toEnumIcon=function(w){var C=this,K=C._enumValues,x=C._enumIcons;if(K&&x)for(var N=0;N<K.length;N++)if(C.isEnumEqual(w,K[N]))return x[N];return U}},_45o:function(U){U._87o=function(j,f,a,q,l,v){if(j){var N=this,t=N._90I,B=zj(1);N._columnLineVisible&&(l-=1),N._rowLineVisible&&(v-=1),0>=l||0>=v||(N._90I||(t=N._90I={}),t[f]||(t[f]=new Eb),Ro(B,N.tx()+a,N.ty()+q,l,v),hq(B,j),N._view.insertBefore(B,N._79O),j.onParentAdded&&j.onParentAdded(B),t[f].add(B))}},U._76o=function(){var r=this,N=r._90I;if(N){for(var a in N)N[a].each(function(I){sr(I)});delete r._90I}},U._77o=function(C){var k=this;if(k._90I){var i=k._90I[C];i&&(i.each(function(b){sr(b)}),delete k._90I[C])}}},_47o:function(K){K.getValue=function(x,u){return u.getValue?u.getValue(x,u,this):fm(x,u.getAccessType(),u.getName())},K.setValue=function(m,i,T){if(i.isEmptiable()||""!==T||(T=U),i.isNullable()||T!=v){var b=this,J=i.getName(),f=i.getAccessType(),d=i.getValueType();d===gd&&Ur(T)?T=Z(T):d===Oh&&Ur(T)?T=parseFloat(T):d===ok&&Ur(T)&&(T="true"===T),b._batchEditable&&i._batchEditable?b.sm().each(function(H){i.setValue?i.setValue(H,i,T,b):rk(H,f,J,T)}):i.setValue?i.setValue(m,i,T,b):rk(m,f,J,T)}},K.setCurrentEditor=function(C){this.endEditing(),this._currentEditor=C,this.redraw()},K.isEditing=function(W,J){var G=this,X=G._currentEditor;if(!X)return!1;if(J){var v=X.info;return v?(v.column||v.property)===J&&v.data===W:!1}return!0},K.endEditing=function(){var p=this,K=p._currentEditor;K&&(delete p._currentEditor,K.commitValue&&K.commitValue(K.info),p.redraw())},K.beginEditing=function(r){this.endEditing();var X=this,x=r.column||r.property;if(x.beginEditing)x.beginEditing(r);else{var o=r.data,y=r.value,e=X.getSelectBackground(o),q=x.getEnumValues(),h=x.getSlider();if(h){var B=Vi(Lb.Slider,h);return B.setValue(y),B.getView().onblur=function(){X.endEditing()},B.isInstant()&&(B.onValueChanged=function(){X.setValue(o,x,B.getValue())}),Ac(B,r),void 0}if(q){if(Lb.ComboBox){var T=new Lb.ComboBox;T.setValue(y),T.setValues(q),T.setLabels(x.getEnumLabels()),T.setIcons(x.getEnumIcons()),T.setEditable(x.isEnumEditable()),T.setStrict(x.isEnumStrict()),T.onClosed=function(){X.endEditing()},Ac(T,r),T.open()}else xj(lr,r,e,q,x);return}var u=x.getValueType();if(u===ok||vb(y))return X.setValue(o,x,!y),void 0;if(x.getItemEditor()){var t=Gj(x.getItemEditor()),m=new t(o,x,X,r),C=m.getView(),F=C.style;return C._17Q=m,m.setValue(y),F.position=lk,F.boxSizing="border-box",F.mozBoxSizing="border-box",Ac(C,r),m.editBeginning&&m.editBeginning(),void 0}xj("input",r,e,v,x)}}},_44o:function(r){r.init=function(R){var $=this,n=$.th=new Qh(R),X=$._view=zj(1);$.tv=$._tableView=R,hq(X,n.getView()),hq(X,R.getView()),n.mp(function(n){n.property===Oo&&$.iv()}),$.iv()},r.getTableView=function(){return this.tv},r.getTableHeader=function(){return this.th},r.getDataModel=function(){return this.tv.dm()},r.getColumnModel=function(){return this.tv.getColumnModel()},r.setColumns=function(y){this.tv.setColumns(y)},r.addColumns=function(m){this.tv.addColumns(m)},r.endEditing=function(){this.tv.endEditing()},r.validateImpl=function(){var f=this,O=f.th,j=Rc(O),J={x:0,y:0,width:f.getWidth(),height:j};Ro(O,J),J.y=j,J.height=k(0,f.getHeight()-j),Ro(f.tv,J)}},ms_vs:function(I){I._41o=function(){return this._29I.height<this._59I},I._43o=function(){var k=this;k._41o()&&(k._58I||(l(function(){k._94O()},jd),k.iv()),k._58I=new Date)},I._94O=function(){var g=this;if(g._58I){var G=new Date;G.getTime()-g._58I.getTime()>=jd?(delete g._58I,g.iv()):l(function(){g._94O()},jd)}},I._93I=function(){var L=this,I=L._27I;if(L._58I||!L._autoHideScrollBar){I||hq(L._79O,I=L._27I=zj());var v=L._29I,y=v.height,C=L._59I,B=L.getScrollBarSize(),j=v.width-B-2,l=y*(-L.ty()/C),H=y*(y/C),c=I.style;C>y?(Zd>H&&(l=l+H/2-Zd/2,0>l&&(l=0),l+Zd>y&&(l=y-Zd),H=Zd),c.visibility=Gc,c.background=L.getScrollBarColor(),c.borderRadius=B/2+eb,Ro(I,j,l,B,H)):c.visibility=xd}else I&&(I.style.visibility=xd)}},ms_hs:function(j){j._40o=function(){return this._29I.width<this._91I},j._42o=function(){var z=this;z._40o()&&(z._95O||(l(function(){z._94I()},jd),z.iv()),z._95O=new Date)},j._94I=function(){var h=this;if(h._95O){var B=new Date;B.getTime()-h._95O.getTime()>=jd?(delete h._95O,h.iv()):l(function(){h._94I()},jd)}},j._92I=function(){var R=this,C=R._28I;if(R._95O||!R._autoHideScrollBar){C||hq(R._79O,C=R._28I=zj());var p=R._29I,o=p.width,_=R._91I,c=R.getScrollBarSize(),q=p.height-c-2,Z=o*(-R.tx()/_),J=o*(o/_),f=C.style;_>o?(Zd>J&&(Z=Z+J/2-Zd/2,0>Z&&(Z=0),Z+Zd>o&&(Z=o-Zd),J=Zd),f.visibility=Gc,f.background=R.getScrollBarColor(),f.borderRadius=c/2+eb,Ro(C,Z,q,J,c)):f.visibility=xd}else C&&(C.style.visibility=xd)}}}),Xq(fe,jb(16,16,[{type:wp,rect:[1,1,14,14],width:1,color:Wo},{type:$e,points:[13,3,7,12,4,8],borderWidth:2,borderColor:Yr}])),Xq(de,jb(16,16,{type:wp,rect:[1,1,14,14],width:1,color:Wo})),Xq(No,jb(16,16,[{type:Im,rect:[2,2,12,12],borderWidth:1,borderColor:Wo},{type:Im,rect:[4,4,8,8],borderWidth:1,borderColor:Yr,gradient:zn,gradientColor:Fp,background:Yr}])),Xq(yj,jb(16,16,{type:Im,rect:[2,2,12,12],borderWidth:1,borderColor:Wo})),Xi._15Q=function(F){F._29I=je,F._59I=0,F._91I=0,F._5o=function(M){var Q=this;Q._30I=new Eb,Q._rows=new Eb,Q._rowMap={},Q._31I=0,Q._14I=0,Q._view=zj(1),Q._canvas=Pd(Q._view),hq(Q._view,Q._79O=zj()),Q.dm(M?M:new Oj)},F.getCheckIcon=function(r){var f=this.sm(),T=f.co(r);return f.sg()?mc(T?No:yj):mc(T?fe:de)},F.checkData=function(w){var Y=this.sm(),c=Y.co(w);Y.sg()&&c||(this._32o=1,c?Y.rs(w):Y.as(w),delete this._32o)},F.getDataAt=function(h){h.target&&(h=this.lp(h));var S=o(h.y/this._rowHeight),M=this._rows;return 0>S||S>=M.size()?v:M.get(S)},F.onDataDoubleClicked=function(){},F.onDataClicked=function(){},F.adjustTranslateX=function(){return 0},F.adjustTranslateY=function(d){var i=this.getHeight()-this._59I;return i>d&&(d=i),d>0?0:B(d)},F.onPropertyChanged=function(h){var M=this,B=h.property;lq[B]?M.ivm():ls[B]||M.redraw(),B===ss?M._42o():B===Ol&&M._43o()},F.getLabel=function(j){return j.toLabel()},F.getLabelFont=function(){return this._labelFont},F.getLabelColor=function(j){var L=this;if(L.isCheckMode()){if(L._focusData===j)return L._labelSelectColor}else if(L.isSelected(j))return L._labelSelectColor;return L._labelColor},F.getStartRowIndex=function(){return this._31I},F.getEndRowIndex=function(){return this._14I},F.getRowDatas=function(){return this._rows},F.getRowIndex=function(f){return this._rowMap[f._id]},F.getRowSize=function(){return this._rows.size()},F.getViewRect=function(){return Tg(this._29I)},F.isVisible=function(h){return this._visibleFunc?this._visibleFunc(h):!0},F.getCurrentSortFunc=function(){return this._sortFunc},F.setDataModel=function(Y){var J=this,$=J._dataModel,A=J._3o;$!==Y&&($&&($.umm(J.handleDataModelChange,J),$.umd(J.handleDataPropertyChange,J),$.umh(J._15o,J),A||$.sm().ums(J._16o,J)),J._dataModel=Y,Y.mm(J.handleDataModelChange,J),Y.md(J.handleDataPropertyChange,J),Y.mh(J._15o,J),A?A._21I(Y):Y.sm().ms(J._16o,J),J.fp("dataModel",$,Y))},F.validateModel=function(){var z=this;z._rows.clear(),z._rowMap={},z.buildChildren(z._dataModel._roots);
var M=z._rows=z._rows.toList(z.isVisible,z),K=0,k=z.getCurrentSortFunc(),r=M.size();for(k&&M.sort(k);r>K;K++)z._rowMap[M.get(K)._id]=K},F.buildChildren=function(I){var l=this;I.each(function(S){l._rows.add(S),l.buildChildren(S._children)})},F.handleDataModelChange=function(){this.ivm()},F.handleDataPropertyChange=function(o){"parent"===o.property?this.ivm():this.invalidateData(o.data)},F._15o=function(){this.ivm()},F._16o=function(E){E.datas.each(this.invalidateData,this),this.onSelectionChanged(E)},F.onSelectionChanged=function(M){var c=this,s=c.sm();!c.isAutoMakeVisible()||1!==s.size()||"set"!==M.kind&&"append"!==M.kind||c._32o||c.makeVisible(s.ld())},F.makeVisible=function(w){w&&(this._23I=w,this.iv())},F.scrollToIndex=function(p){var N=this,y=N._29I,C=y.height,R=N._rowHeight,G=R*p;p>=0&&p<N._rows.size()&&C>0&&(G+R>y.y+C?N.ty(-G+C-R):G<y.y&&N.ty(-G))},F.ivm=function(){this.invalidateModel()},F.invalidateModel=function(){var k=this;k._96I||(k._96I=1,k._32I=1,delete k._24I,k.iv())},F.redraw=function(){var A=this;A._32I||(A._32I=1,delete A._24I,A.iv())},F.invalidateData=function(I){var K=this;d?K.redraw():K._32I||(K._24I||(K._24I={}),K._24I[I._id]=I,K.iv())},F.getFocusData=function(){return this._focusData},F.setFocusDataById=function(g){this.setFocusData(this.dm().getDataById(g))},F.setFocusData=function(q){var L=this,s=L._focusData;s!==q&&(L._focusData=q,L.fp("focusData",s,q),s&&L.invalidateData(s),q&&(L.invalidateData(q),L.isAutoMakeVisible()&&L.makeVisible(q)))},F.drawRowBackground=function(N,d,Z,a,C,k,z){var V=this,T=V.isCheckMode();(d===V._focusData&&T||Z&&!T)&&mg(N,a,C,k,z,V.getSelectBackground(d))},F.drawData=function(f,N,z){var p=this,S=p._rowHeight,J=S*z,M=p._29I,e=M.x,D=M.width;f.save(),f.beginPath(),f.rect(e,J,D,S),f.clip(),p._87o(p.drawRow(f,N,p.isSelected(N),e,J,D,S),z,e,J,D,S),f.restore(),p._rowLineVisible&&mg(f,e,J+S-1,D,1,p._rowLineColor)},F._12I=function(D){var k=this,e=k._31I,U=k._29I,n=U.x,i=U.y,t=U.width,Z=U.height;for(D.beginPath(),D.rect(n,i,t,Z),D.clip(),D.clearRect(n,i,t,Z),k._76o(),k._93db(D);e<k._14I;e++)k.drawData(D,k._rows.get(e),e);k._92db(D)},F._13I=function(V){for(var T,K=this,S=K._rowHeight,b=K._29I,X=b.x,m=b.width,t=K._31I,p=K._30I;t<K._14I;t++)T=K._rows.get(t),K._24I[T._id]&&p.add({data:T,index:t});p.isEmpty()||(V.beginPath(),p.each(function(D){V.rect(X,D.index*S,m,S)}),V.clip(),p.each(function(D){V.clearRect(X,D.index*S,m,S)}),p.each(function(T){K._77o(T.index)}),K._93db(V),p.each(function(Z){K.drawData(V,Z.data,Z.index)}),K._92db(V),p.clear())},F.validateImpl=function(){var s=this,z=s._canvas,h=s.getWidth(),K=s.getHeight(),Q=s._rowHeight,E=s._32I;(h!==z.clientWidth||K!==z.clientHeight)&&(Vm(z,h,K),E=1),s._96I&&s.validateModel();var c=s._29I,W={x:-s.tx(),y:-s.ty(),width:h,height:K},G=s._rows.size(),O=ei(z),T=s._23I;E||$n(W,c)||(E=1),s._29I=W,s._59I=G*Q,s._31I=o(W.y/Q),s._14I=X((W.y+W.height)/Q),s._31I<0&&(s._31I=0),s._14I>G&&(s._14I=G),s._99I&&E&&s._99I(),bc(O,s.tx(),s.ty(),1),E?s._12I(O):s._24I&&s._13I(O),s._93I(),s._92I(),O.restore(),s._32I=s._24I=s._96I=v,T&&(s.scrollToIndex(s.getRowIndex(T)),delete s._23I),s.tx(s.tx()),s.ty(s.ty())}},Xi._48o=function(R){R._rootVisible=!0,R._rootData=v,R._35o=function(){this._expandMap={},this._levelMap={}},R.validateModel=function(){var Q=this,x=Q._rootData;Q._rows.clear(),Q._levelMap={},Q._rowMap={},Q._currentLevel=0,x?Q._rootVisible?Q.isVisible(x)&&Q.buildData(x):Q.buildChildren(x):Q.buildChildren(),delete Q._currentLevel},R.buildData=function(D){var J=this,u=D._id,m=J._rows;J._rowMap[u]=m.size(),m.add(D),J._levelMap[u]=J._currentLevel,J.isExpanded(D)&&(J._currentLevel++,J.buildChildren(D),J._currentLevel--)},R.buildChildren=function(I){var K=this,N=I?I._children:K._dataModel._roots,r=K.getCurrentSortFunc();r&&K.isChildrenSortable(I)?N.toList(K.isVisible,K).sort(r).each(K.buildData,K):N.each(function(k){K.isVisible(k)&&K.buildData(k)})},R.getLevel=function($){return this._levelMap[$._id]},R.getToggleIcon=function(h){var O=this,u=O._loader,l=O._collapseIcon;return u&&!u.isLoaded(h)?l:h.hasChildren()?O.isExpanded(h)?O._expandIcon:l:v},R.isCheckMode=function(){return this._checkMode!=v},R.isChildrenSortable=function(){return!0},R.handleDataModelChange=function(D){var B=this;D.kind===Uq?delete B._expandMap[D.data._id]:D.kind===_q&&(B._expandMap={}),B.ivm()},R.toggle=function(C){var R=this;R.isExpanded(C)?R.collapse(C):R.expand(C)},R.isExpanded=function(x){return 1===this._expandMap[x._id]},R.expand=function(g){var H=this,i=H._loader;H.isExpanded(g)||(i&&!i.isLoaded(g)&&i.load(g),H._expandMap[g._id]=1,H.ivm(),H.onExpanded(g))},R.onExpanded=function(){},R.collapse=function(C){var l=this;l.isExpanded(C)&&(delete l._expandMap[C._id],l.ivm(),l.onCollapsed(C))},R.onCollapsed=function(){},R.expandAll=function(){var H=this;H._dataModel.each(function(q){q.hasChildren()&&(H._expandMap[q._id]=1)}),H.ivm()},R.collapseAll=function(){this._expandMap={},this.ivm()},R.makeVisible=function(Y){if(Y){var L=this;if(!L._rootData||Y.isDescendantOf(L._rootData)){for(var k=Y._parent;k;)L.expand(k),k=k._parent;L._23I=Y,L.iv()}}},R.checkData=function(d){var k,Z=this,L=Z._checkMode,n=Z.sm(),x=n.co(d);if(!n.sg()||!x){if(Z._32o=1,L===A)x?n.rs(d):n.as(d);else if(L===pm)k=new Eb(d),k.addAll(d._children);else if("descendant"===L)k=new Eb,pe(d,k);else if("all"===L&&(k=new Eb,pe(d,k),!x))for(var q=d._parent;q;)k.add(q),q=q._parent;k&&(x?n.rs(k):n.as(k)),delete Z._32o}},R._97I=function(c,l,P,A,G,O,Z){var U=this,q=U._indent,W=U._levelMap[l._id],y=U.getIconWidth(l),g=mc(U.getToggleIcon(l));g?(A+=q*W,Ll(c,g,A+q/2,G+Z/2,l,U),A+=q):A+=q*(W+1),U._checkMode&&(Ll(c,U.getCheckIcon(l),A+q/2,G+Z/2,l,U),A+=q),U.drawIcon(c,l,A,G,y,Z),U.drawLabel(c,l,A+y,G,Z)}},Xi._14Q=function(Z){Z.getIcon=function(H){return H.getIcon()},Z.getIconWidth=function(k){return this.getIcon(k)?this._indent:0},Z.drawIcon=function(x,A,e,c,m,k){if(m){var b=this,F=b.getBodyColor(A),P=mc(b.getIcon(A),F);P&&(k-=b.isRowLineVisible()?1:0,dh(x,P,wq,e,c,m,k,A,b,F),bo(x,b.getBorderColor(A),e,c,m,k))}},Z.drawLabel=function(J,S,D,P,M){var o=this;pq(J,o.getLabel(S),o.getLabelFont(S),o.getLabelColor(S),D,P,0,M)}},Xi._50o=function(X){X._98I=function(){var N=this,q=N._39o=new Oj;N._60I=new Eb,q.mm(N._17o,N),q.md(N._18o,N),q.mh(N._19o,N)},X.setColumns=function(i){this._39o.clear(),this.addColumns(i)},X.addColumns=function(q){var e=this._39o;q.forEach(function(t){if(!(t instanceof Ud)){var u=Gj(t.className);t=Vi(u?u:Ud,t)}e.add(t)})},X.onColumnClicked=function(){},X._3Q=function(B){for(var q,W=0,U=this._60I,f=U.size();f>W;W++)if(q=U.get(W),q.column===B)return q;return v},X.getColumnAt=function(L){var J=this._4Q(L);return J?J.column:v},X._4Q=function(j){for(var S=this,g=j.target?S.lp(j).x:j.x,R=S._60I,K=0;K<R.size();K++){var z=R.get(K),u=z.startX;if(g>=u&&g<u+z.column.getWidth())return z}return v},X.getToolTip=function(J){var l=this,Q=l.getDataAt(J),p=l.getColumnAt(J);return Q&&p?p.getToolTip(Q,l):v},X.adjustTranslateX=function(M){var s=this.getWidth()-this._91I;return s>M&&(M=s),M>0?0:B(M)},X._99I=function(){var Q=this,T=Q._29I,M=Q._60I;M.clear(),Q._91I=0,Q._39o._roots.each(function(E){if(E.isVisible()){var U=Q._91I+E.getWidth();Q._91I<=T.x+T.width&&U>=T.x&&M.add({column:E,startX:Q._91I}),Q._91I=U}})},X.drawData=function(H,L,v){var i=this,d=i._rowHeight,M=d*v,w=i.isSelected(L),T=i._29I,q=T.x,$=T.width;i.drawRowBackground(H,L,w,q,M,$,d),i._60I.each(function(Q){var g=Q.column,N=Q.startX,K=g.getWidth();K>0&&!i.isEditing(L,g)&&(H.save(),H.beginPath(),H.rect(N,M,K,d),H.clip(),i._87o(i.drawCell(H,L,w,g,N,M,K,d),v,N,M,K,d),i._columnLineVisible&&mg(H,N+K-1,M,1,d,i._columnLineColor),H.restore())}),i._rowLineVisible&&mg(H,q,M+d-1,$,1,i._rowLineColor)},X.drawCell=function($,d,E,L,o,e,W,m){var Y=this;if(L.drawCell)return L.drawCell($,d,E,L,o,e,W,m,Y);var X=Y.getValue(d,L);he($,X,L,Y.getLabelFont(d,L,X),Y.getLabelColor(d,L,X),o,e,W,m,d,Y)},X.getColumnModel=function(){return this._39o},X._17o=function(){this.redraw()},X._18o=function(Y){var t=this;Y.data===t._sortColumn&&xp[Y.property]?t.ivm():(t._42o(),t.redraw())},X._19o=function(){this.redraw()},X.getCurrentSortFunc=function(){var h=this,J=h._sortColumn;if(J&&J.isSortable()){var X=J.getSortFunc(),A=Eq===J.getSortOrder()?1:-1;return X||(X=Aj),function(q,g){return X.call(h,h.getValue(q,J),h.getValue(g,J),q,g)*A}}return h._sortFunc},X.isCellEditable=function(H,E){return E.isEditable()&&this.isEditable()},X._37O=function(o,W){if(Mm(W))for(var u=this,e=u.lp(W),l=u._60I,T=u._rowHeight,r=u._29I,I=r.x,K=r.y,m=r.width,V=r.height,y=0;y<l.size();y++){var G=l.get(y),s=G.startX,Y=G.column,x=Y.getWidth();if(Y!==u._31o&&Y!==u._4o&&u.isCellEditable(o,Y)&&e.x>=s&&e.x<s+x){var A={x:s,y:u.getRowIndex(o)*T,width:x,height:T},N={x:A.x+u.tx(),y:A.y+u.ty(),width:A.width,height:A.height},c=0,P=0;return A.x<I?c=A.x-I:A.x+A.width>I+m&&(c=A.x+A.width-I-m),c&&(u.tx(u.tx()-c),N.x-=c),A.y<K?P=A.y-K:A.y+T>K+V&&(P=A.y+T-K-V),P&&(u.ty(u.ty()-P),N.y-=P),u.beginEditing({data:o,column:Y,value:u.getValue(o,Y),event:W,rect:A,editorRect:N,view:u}),void 0}}}},Lb.BaseItemEditor=function(W,J,u,K){this._data=W,this._column=J,this._master=u,this._editInfo=K},Cc("BaseItemEditor",V,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}});var uk=b.Tab=function(){Cq(uk,this)};$m("Tab",ko,{ms_ac:["view","closable","disabled"],_icon:v,_closable:!1,_disabled:!1,setParent:jq});var Ud=b.Column=function(){Cq(Ud,this)};$m("Column",ko,{_46o:1,ms_ac:["accessType","valueType",Gc,Dq,sc,qg,"align",Op,"sortOrder",Sp,"sortable","nullable","emptiable","slider","itemEditor"],_visible:!0,_width:80,_sortOrder:Eq,_sortFunc:v,_sortable:!0,setWidth:function(P){16>P&&(P=16);var v=this._width;this._width=P,this.fp(qg,v,P)},getToolTip:function(y,t){return this.formatValue(t.getValue(y,this))}});var Zl=b.Property=function(){Cq(Zl,this)};$m("Property",ko,{_46o:1,ms_ac:["accessType","valueType",Dq,sc,"categoryName",Op,"align","nullable","emptiable","slider","itemEditor"],_categoryName:v,getToolTip:function(q,Z,h){var O=this;return Z?O.formatValue(h.getValue(q,O)):h.getPropertyName(O)}}),Lb.AccordionView=function(){var H=this;H._20o={},H._21o=new Eb,H._10o=v,H._9o=v,H._11o=v,H._view=zj(),H.iv()},Cc("AccordionView",V,{ms_v:1,ms_fire:1,ms_ac:[np,Cb,"titleHeight",or,Ch,"titleBackground","selectWidth",Me,"orientation","separatorColor"],_expandIcon:e.accordionViewExpandIcon,_collapseIcon:e.accordionViewCollapseIcon,_titleHeight:ds,_labelColor:e.accordionViewLabelColor,_labelFont:e.accordionViewLabelFont,_titleBackground:e.accordionViewTitleBackground,_selectBackground:e.accordionViewSelectBackground,_selectWidth:e.accordionViewSelectWidth,_orientation:"v",_separatorColor:e.accordionViewSeparatorColor,onPropertyChanged:function(){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(Z,z,q,b){var j=this,C=zj();if(j._20o[Z])throw Z+" already exists";C.onmousedown=Ye,C.style.cursor=yl,C.addEventListener(P?Mr:bq,function(l){Ye(l)},!1),C.addEventListener(P?rr:ch,function(Y){Ye(Y),Mm(Y)&&(j._10o===Z?j.collapse():j.expand(Z))},!1),hq(j._view,C),j._20o[Z]={content:z,div:C,canvas:Pd(C),icon:b},j._21o.add(Z),q&&j.expand(Z),j.iv()},remove:function(D){var H=this,q=H._20o[D];q&&(sr(q.div),delete H._20o[D],H._21o.remove(D),H.iv())},clear:function(){var i=this;i._20o={},i._21o.clear(),i.iv()},isExpanded:function(y){return this._10o===y},expand:function(j){var Q=this;Q._20o[j]&&Q._10o!==j&&(Q._10o=j,Q.onExpanded(j),Q.iv())},onExpanded:function(){},collapse:function(){var y=this;y._10o&&(y.onCollapsed(y._10o),delete y._10o,y.iv())},onCollapsed:function(){},initCanvas:function(O,G,c){Vm(O,G,c);var I=ei(O);return bc(I,0,0,1),I.clearRect(0,0,G,c),I},drawTitle:function(x,N,Q,t,S){var $=this,f=mc(S.icon),c=$.isExpanded(N),b=$._titleHeight,Y=$._titleBackground,M=$._selectWidth,K=$._separatorColor,X=mc(c?$._expandIcon:$._collapseIcon),R=M+4;mg(x,0,0,Q,t,Y),c&&M&&mg(x,0,0,M,t,$._selectBackground),(c||$._21o.get($._21o.size()-1)!==N)&&mg(x,0,t-1,Q,1,K?K:gq(Y)),f&&(Ll(x,f,R+Ri(f)/2,b/2),R+=Ri(f)+2),pq(x,N,$.getLabelFont(N),$.getLabelColor(N),R,0,0,b),X&&Ll(x,X,Q-Ri(X)/2-4,b/2)},validateImpl:function(){var q=this,C=q._view,t=0,i=0,T=q.getWidth(),P=q.getHeight(),Z=q._titleHeight,o=q._21o.size()*Z,j=q._11o,F=q._9o;delete q._11o,delete q._9o,q._21o.each(function(O){var Y,B,H=q._20o[O],a=H.content,A=q._10o===O;hs(q)?(Ro(H.div,t,0,Z,P),Y=q.initCanvas(H.canvas,Z,P),zr(Y,0,P),lc(Y,-E),q.drawTitle(Y,O,P,Z,H),Y.restore(),A?(B=k(0,T-o),a&&(q._11o=a,q._9o=Qn(a),Ro(a,t+Z,0,B,P)),t+=Z+B):t+=Z):(Ro(H.div,0,i,T,Z),Y=q.initCanvas(H.canvas,T,Z),q.drawTitle(Y,O,T,Z,H),Y.restore(),A?(B=k(0,P-o),a&&(q._11o=a,q._9o=Qn(a),Ro(a,0,i+Z,T,B)),i+=Z+B):i+=Z)});var O=q._9o;j&&j!==q._11o&&j.endEditing&&j.endEditing(),O&&O!==F&&hq(C,O),F&&F!==O&&sr(F)}}),Lb.SplitView=function(A,t,j,d){var E=this,q=E._dividerDiv=zj(),m=E._60O=Pd(),N=E._61O=Pd(),s=m.style,P=N.style;E._view=zj(1),hq(E._view,q),s.msTouchAction=vi,s.pointerEvents=vi,s.cursor=yl,P.msTouchAction=vi,P.pointerEvents=vi,P.cursor=yl,A&&E.setLeftView(A),t&&E.setRightView(t),j&&E.setOrientation(j),d!=v&&E.setPosition(d),E.setStatus(Ai),new ml(E)},Cc("SplitView",V,{ms_v:1,ms_fire:1,ms_ac:["dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:e.splitViewDividerSize,_dividerBackground:e.splitViewDividerBackground,_dragOpacity:e.splitViewDragOpacity,_toggleIcon:e.splitViewToggleIcon,onPropertyChanged:function(){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(m,r){var c=this,I=c._position;isNaN(m)||(r||(c._82O=0>m?-1:m>1?1:0),c._position=m,c.fp(Ln,I,m))},getLeftView:function(){return this._leftView},setLeftView:function(L){var m=this,P=m._leftView,O=m._view;if(m._leftView!==L){if(P&&P!==m._rightView){var S=Qn(P);S.parentNode===O&&sr(S)}if(m._leftView=L,L){var q=Qn(L);q.parentNode!==O&&O.insertBefore(q,m._dividerDiv)}m.fp("leftView",P,L)}},getRightView:function(){return this._rightView},setRightView:function(E){var A=this,Q=A._rightView,x=A._view;if(A._rightView!==E){if(Q&&Q!==A._leftView){var h=Qn(Q);h.parentNode===x&&sr(h)}if(A._rightView=E,E){var I=Qn(E);I.parentNode!==x&&x.insertBefore(I,A._dividerDiv)}A.fp("rightView",Q,E)}},validateImpl:function(){var x=this,l=x._draggable,T=x._position,w=x.getWidth(),L=x.getHeight(),q=x._dividerSize,X=x._dividerBackground,Y=P?18:8,d=x._dividerDiv,h=x._82O,c=x._60O,D=x._61O,U=x._toggleIcon,p=x._status,a=d.style,I=null,K=P?20:4,Q=U.comps[0];q>=Y||0===q?x._coverDiv&&(sr(x._coverDiv),delete x._coverDiv):x._coverDiv||(x._coverDiv=zj(),z&&(x._coverDiv.style.background=km),hq(d,x._coverDiv)),x._togglable?c.parentNode||(hq(d,c),hq(d,D)):(sr(c),sr(D));var r=x._coverDiv,A=x._leftView,R=x._rightView;if(hs(x)){if(q>w&&(q=w),p===Ai)if(1===h)var N=T,m=k(0,w-q-N);else-1===h?(m=-T,N=k(0,w-q-m)):(N=B((w-q)*T),m=k(0,w-q-N));else"cl"===p?(N=0,m=k(0,w-q)):"cr"===p&&(m=0,N=k(0,w-q));A&&Ro(A,0,0,N,L),R&&Ro(R,N+q,0,m,L),Ro(d,N,0,q,L),x._22o=N,r&&(Ro(r,q/2-Y/2,0,Y,L),r.style.cursor=l?xn:""),d.style.cursor=l?xn:"";var u=d.clientHeight/2,C=d.clientWidth;Vm(c,C,C),Ro(c,0,u-C-K,C,C),I=ei(c),bc(I,0,0,1),Q.rotation=-E,ni(I,U,0,0,C,C),I.restore(),Vm(D,C,C),Ro(D,0,u+K,C,C),I=ei(D),bc(I,0,0,1),Q.rotation=E,ni(I,U,0,0,C,C),I.restore()}else{if(q>L&&(q=L),p===Ai)if(1===h)var M=T,e=k(0,L-q-M);else-1===h?(e=-T,M=k(0,L-q-e)):(M=B((L-q)*T),e=k(0,L-q-M));else"cl"===p?(M=0,e=k(0,L-q)):"cr"===p&&(e=0,M=k(0,L-q));A&&Ro(A,0,0,w,M),R&&Ro(R,0,M+q,w,e),Ro(d,0,M,w,q),x._22o=M,r&&(Ro(r,0,q/2-Y/2,w,Y),r.style.cursor=l?sm:""),a.cursor=l?sm:"";var i=d.clientWidth/2,C=d.clientHeight;Vm(c,C,C),Ro(c,i-C-K,0,C,C),I=ei(c),bc(I,0,0,1),Q.rotation=0,ni(I,U,0,0,C,C),I.restore(),Vm(D,C,C),Ro(D,i+K,0,C,C),I=ei(D),bc(I,0,0,1),Q.rotation=H,ni(I,U,0,0,C,C),I.restore()}a.background=X}});var ml=function(S){this.sv=S,this.addListeners()};Qq(ml,V,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(H){var q=this,O=q.sv,P=O._dividerDiv,m=O._60O,h=O._61O,R=O._status,g=H.target;if(g===m)R===Ai?O.setStatus("cl"):"cr"===R&&O.setStatus(Ai);else if(g===h)R===Ai?O.setStatus("cr"):"cl"===R&&O.setStatus(Ai);else if(Cf(H)&&(g===P||g===O._coverDiv)&&(Ye(H),O.isDraggable())){q.resizeDiv=zj();var K=q.resizeDiv.style,G=P.style;K.left=G.left,K.top=G.top,K.width=G.width,K.height=G.height,K.opacity=O.getDragOpacity(),K.background=O.getDividerBackground(),q._85o=q._86o=hs(O)?ij(H).x:ij(H).y,hq(q.getView(),q.resizeDiv),q._clientPoint=ij(H),mm(q,H)}},handleWindowTouchMove:function(i){if(Cf(i)){var v=this,Y=v.sv,T=Y._dividerSize,h=v.resizeDiv.style,o=Y.getWidth(),j=Y.getHeight(),E=Y._22o-v._86o;hs(Y)?(v._85o=ij(i).x,E+=v._85o,E>o-T&&(E=o-T),0>E&&(E=0),h.left=E+eb):(v._85o=ij(i).y,E+=v._85o,E>j-T&&(E=j-T),0>E&&(E=0),h.top=E+eb)}},handleWindowTouchEnd:function(e){var T=this,x=T.sv,R=x._22o-T._86o+T._85o,C=x._dividerSize,S=hs(x)?x.getWidth():x.getHeight(),f=x._82O,c=Lp(T._clientPoint,ij(e));c>1&&(x.setStatus(Ai),0>R&&(R=0),R>S-C&&(R=S-C),S!==C&&(1===f?x.setPosition(R,1):-1===f?x.setPosition(R-S+C,1):x.setPosition(R/(S-C),1))),sr(T.resizeDiv),T.resizeDiv=T._85o=T._clientPoint=v},handle_mousedown:function(n){Mm(n)&&this.handle_touchstart(n)},handleWindowMouseMove:function(P){this.handleWindowTouchMove(P)},handleWindowMouseUp:function(B){this.handleWindowTouchEnd(B)}}),Lb.TabView=function(){var P=this,w=P._view=zj(1),t=P._91O=zj(1),v=P._tabModel=new Oj,K=v.sm(),X=P.invalidate;P._7o=new Eb,P._canvas=Pd(t),hq(w,t),hq(w,P._92O=zj(1)),K.setSelectionMode(x),K.ms(X,P),v.mm(X,P),v.md(X,P),v.mh(X,P),new Jc(P),P.iv()},Cc("TabView",V,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",or,Ch,"tabBackground","selectWidth",Me,"moveBackground","insertColor"],_tabPosition:cn,_tabHeight:ds,_tabGap:e.tabViewTabGap,_labelColor:e.tabViewLabelColor,_labelFont:e.tabViewLabelFont,_tabBackground:e.tabViewTabBackground,_selectWidth:e.tabViewSelectWidth,_selectBackground:e.tabViewSelectBackground,_moveBackground:e.tabViewMoveBackground,_insertColor:e.tabViewInsertColor,_movable:!0,getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(N,d,R){var v=new uk,i=this._tabModel;return v.setName(N),v.setView(d),i.add(v),R&&i.sm().ss(v),v},getLabel:function(W){return W.toLabel()},onPropertyChanged:function(){this.iv()},_7Q:function(Z){this._23o=Z,this.iv()},get:function(U){var t=this,T=t._tabModel;if(Nf(U))return T._roots.get(U);if(Ur(U)){var E;return T.each(function(Z){U===t.getLabel(Z)&&(E=Z)}),E}return U instanceof uk?U:v},select:function(p){this._tabModel.sm().ss(this.get(p))},remove:function(C){var c=this,C=c.get(C);if(C){var h=c._tabModel,R=h._roots.indexOf(C);c._tabModel.remove(C),c._12Q(--R)}},getCurrentTab:function(){return this._8o},hideTabView:function(M,P){P.parentNode===this._92O&&(Bs(P)?(P.style.display="none",P._tab_=M):sr(P),$f())},showTabView:function(u,t){Bs(t)&&(t.style.display="block",t._tab_=u),t.parentNode!==this._92O&&(hq(this._92O,t),$f())},_24o:function(){var $,z=this,Z=z._8o,E=z._9o,m=z._tabModel.sm().ld();m&&($=Qn(m.getView())),$!==E&&(E&&(Z.getView().endEditing&&Z.getView().endEditing(),z.hideTabView(Z,E)),$&&z.showTabView(m,$)),z._8o=m,z._9o=$,Z!==m&&z.onTabChanged(Z,m)},onTabChanged:function(){},onTabClosed:function(k,D){this._12Q(--D)},_12Q:function(P){var V=this,k=V._tabModel,U=k.size();if(U&&!k.sm().ld()){P==v&&(P=0),P>=U&&(P=U-1),0>P&&(P=0);for(var s=P;s>=0;s--){var Y=V.get(s);if(!Y.isDisabled())return V.select(Y),Y}for(s=P+1;U>s;s++)if(Y=V.get(s),!Y.isDisabled())return V.select(Y),Y}},_9Q:function(K){var F=4,b=mc(K.getIcon());b&&(F+=Ri(b,K)+4);var k=this.getLabel(K);return k&&(F+=Sc(this.getLabelFont(K),k).width+4),K.isClosable()&&(F+=10),F},_10Q:function(D,W,f,C,S,L,_){var O,z=this,K=z._tabPosition,G=f+4,A=z._selectWidth,U=mc(W.getIcon()),k=W.isDisabled(),I=z.getLabelColor(W),B=z.getLabelFont(W),y=z.getLabel(W),$=z._selectBackground,j=K===r+"-vertical",P=K===N+"-vertical";(j||P)&&(G=C+4),k&&(D.globalAlpha=zc),mg(D,f,C,S,L,_),W===z._8o&&A&&(K===cn?mg(D,f,C+L-A,S,A,$):K===r?mg(D,f+S-A,C,A,L,$):K===N?mg(D,f,C,A,L,$):j?mg(D,f+S-A,C,A,L,$):P?mg(D,f,C,A,L,$):mg(D,f,C,S,A,$));var s=S/2;if(j&&(zr(D,s,C+L/2),lc(D,H),zr(D,-s,-C-L/2)),U){var h=ie(U,W),a=Ri(U,W);if(j||P){var J=f+S/2,w=G+h/2;zr(D,J,w),lc(D,E),zr(D,-J,-w),Ll(D,U,f+S/2,G+h/2,W,z),zr(D,J,w),lc(D,-E),zr(D,-J,-w),G+=h+4}else Ll(D,U,G+a/2,C+L/2,W,z),G+=a+4}return j||P?(zr(D,S/2,G+S/2),lc(D,E),zr(D,-S/2,-G-S/2),pq(D,y,B,I,f,G,L,S),zr(D,S/2,G+S/2),lc(D,-E),zr(D,-S/2,-G-S/2)):pq(D,y,B,I,G,C,S,L),j&&(zr(D,s,C+L/2),lc(D,-H),zr(D,-s,-C-L/2)),W.isClosable()&&(D.strokeStyle=I,D.lineWidth=1,D.beginPath(),P?(D.moveTo(f+S-10,C+L-4),D.lineTo(f+S-4,C+L-10),D.moveTo(f+S-4,C+L-4),D.lineTo(f+S-10,C+L-10),D.stroke(),O={x:f+S-12,y:C+L-12,width:12,height:12}):(D.moveTo(f+S-10,C+4),D.lineTo(f+S-4,C+10),D.moveTo(f+S-4,C+4),D.lineTo(f+S-10,C+10),D.stroke(),O={x:f+S-12,y:C,width:12,height:12})),k&&(D.globalAlpha=1),O},validateImpl:function(){var Q=this;Q._24o();var x,L=Q._canvas,b=Q._tabPosition,P=Q._91O,v=Q._92O,i=Q._tabModel,E=Q.getWidth(),s=Q.getHeight(),n=Q._tabHeight,F=Q._7o,J=Q._tabGap,O=b===cn,d=b===r,w=b===Yp,C=b===N,e=b===r+"-vertical",a=b===N+"-vertical",K=Q._23o,I=0;if((d||C)&&i._roots.each(function(i){I=k(Q._9Q(i),I)}),O?(Ro(P,0,0,E,n),x={x:0,y:n,width:E,height:k(0,s-n)}):d?(Ro(P,0,0,I,s),x={x:I,y:0,width:k(0,E-I),height:s}):C?(Ro(P,E-I,0,I,s),x={x:0,y:0,width:k(0,E-I),height:s}):e?(Ro(P,0,0,n,s),x={x:n,y:0,width:k(0,E-n),height:s}):a?(Ro(P,E-n,0,n,s),x={x:0,y:0,width:k(0,E-n),height:s}):(Ro(P,0,s-n,E,n),x={x:0,y:0,width:E,height:k(0,s-n)}),Ro(v,x),e||a){Q._9o&&(x.x=0,Ro(Q._8o.getView(),x)),Vm(L,n,s);var G=ei(L),V=0;if(bc(G,0,Q.ty(),1),G.clearRect(0,0,n,s),F.clear(),i._roots.each(function(N){var r,m=Q._9Q(N);K&&K.tab===N||(r=Q._10Q(G,N,0,V,n,m,Q._tabBackground),r&&a&&(r.x=E-12)),F.add({_75o:r,tab:N,startY:V,endY:V+m,height:m}),V+=m+J}),Q._23Q=k(0,V-J),K){var z=K.position;Q._10Q(G,K.tab,0,K.startY,n,K.height,Q._moveBackground),mg(G,0,z,n,1,Q._insertColor)}G.restore(),Q.ty(Q.ty())}else if(d||C){Q._9o&&(x.x=0,Ro(Q._8o.getView(),x)),Vm(L,I,s);var G=ei(L),V=0;if(bc(G,0,Q.ty(),1),G.clearRect(0,0,I,s),F.clear(),i._roots.each(function(T){var W;K&&K.tab===T||(W=Q._10Q(G,T,0,V,I,n,Q._tabBackground),W&&C&&(W.x=E-12)),F.add({_75o:W,tab:T,startY:V,endY:V+n,height:n}),V+=n+J}),Q._23Q=k(0,V-J),K){var z=K.position;Q._10Q(G,K.tab,0,K.startY,I,K.height,Q._moveBackground),mg(G,0,z,I,1,Q._insertColor)}G.restore(),Q.ty(Q.ty())}else{Q._9o&&(x.y=0,Ro(Q._8o.getView(),x)),Vm(L,E,n);var G=ei(L),h=0;if(bc(G,Q.tx(),0,1),G.clearRect(0,0,E,n),F.clear(),i._roots.each(function(T){var X,d=Q._9Q(T);K&&K.tab===T||(X=Q._10Q(G,T,h,0,d,n,Q._tabBackground),X&&w&&(X.y=s-n)),F.add({_75o:X,tab:T,startX:h,endX:h+d,width:d}),h+=d+J}),Q._64I=k(0,h-J),K){var z=K.position;Q._10Q(G,K.tab,K.startX,0,K.width,n,Q._moveBackground),Ag(G,Q._insertColor,z,0,n)}G.restore(),Q.tx(Q.tx())}for(var D=[],q=v.children,p=0;p<q.length;p++){var c=q[p],Z=c._tab_;Z&&!i.contains(Z)&&D.push(c)}D.forEach(function(H){v.removeChild(H)})}});var Jc=function(X){this.tv=X,this.addListeners()};Qq(Jc,V,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(e){this.handleScroll(e,10*(e.wheelDelta/40))},handle_DOMMouseScroll:function(W){this.handleScroll(W,10*-W.detail)},handleScroll:function(V,_){Ye(V);var G=this.tv,o=G._tabPosition;!G._40o()||o!==cn&&o!==Yp||G.tx(this.tv.tx()+_),!G._41o()||o!==r&&o!==N&&o!==r+"-vertical"&&o!==N+"-vertical"||G.ty(this.tv.ty()+_)},_8Q:function(d){var p,R,g=this.tv,K=g._tabPosition,l=g._7o;if(K===cn||K===Yp){var i=g.lp(d).x;for(p=0;p<l.size();p++)if(R=l.get(p),R.startX<=i&&i<=R.endX)return R}else if(K===r||K===N||K===r+"-vertical"||K===N+"-vertical"){var h=g.lp(d).y;for(p=0;p<l.size();p++)if(R=l.get(p),R.startY<=h&&h<=R.endY)return R}return v},isClickable:function(Z){var V=this.tv,Q=V._tabPosition,J=this._73o=this._8Q(Z);return!V._40o()||Q!==cn&&Q!==Yp?!V._41o()||Q!==r&&Q!==N&&Q!==r+"-vertical"&&Q!==N+"-vertical"?J&&(!J.tab.isDisabled()||V.isMovable()):!0:!0},handle_mousemove:function(S){var e=this;pg?e._74o=e._8Q(S):e.getView().style.cursor=e.isClickable(S)?yl:""},handle_mousedown:function(p){this.handle_mousemove(p),this.handle_touchstart(p)},handle_touchstart:function(W){var q=this,M=q.tv,$=M._tabPosition;Ye(W),q.isClickable(W)&&($===cn||$===Yp?(q.x=ij(W).x,q.lp=M.lp(W),q.tx=M.tx()):(q.y=ij(W).y,q.lp=M.lp(W),q.ty=M.ty()),mm(q,W))},handleWindowMouseMove:function(_){this.handleWindowTouchMove(_)},handleWindowTouchMove:function(J){var U,P=this,g=P.tv,e=g._tabPosition,T=P._73o;if(e===cn||e===Yp){if(U=ij(J).x-P.x,!P._25o&&!P.moving&&y(U)>2&&(g._40o()&&!Zr(J)?P._25o=1:T&&g.isMovable()&&(P.moving=1)),P._25o)g.tx(P.tx+U);else if(P.moving){var B=P.lp.x+U,D=g._tabGap/2;g._7o.each(function(o){var t=o.endX,S=B-o.startX<t-B;B>=o.startX&&t>=B&&g._7Q({tab:T.tab,startX:T.startX+U,width:T.width,front:S,insertTab:o.tab,position:S?k(0,o.startX-D):I(g._64I,t+D)})})}}else if(U=ij(J).y-P.y,!P._25o&&!P.moving&&y(U)>2&&(g._41o()&&!Zr(J)?P._25o=1:T&&g.isMovable()&&(P.moving=1)),P._25o)g.ty(P.ty+U);else if(P.moving){var H=P.lp.y+U,D=g._tabGap/2;g._7o.each(function(n){var W=n.endY,K=H-n.startY<W-H;H>=n.startY&&W>=H&&g._7Q({tab:T.tab,startY:T.startY+U,height:T.height,front:K,insertTab:n.tab,position:K?k(0,n.startY-D):I(g._23Q,W+D)})})}},handleWindowMouseUp:function(K){this.handleWindowTouchEnd(K)},handleWindowTouchEnd:function(){var b=this,H=b.tv,F=H._tabPosition,L=H.getTabModel(),k=L._roots,N=b._73o;if(b.moving){var t=H._23o;if(t&&t.insertTab!==t.tab){var Z=t.tab,m=k.remove(Z),P=k.indexOf(t.insertTab);P>=0&&(t.front||P++,P<=k.size()&&(k.add(Z,P),L._38I(Z,m,P)))}H._7Q(v),delete b.moving}else if(!b._25o&&N){Z=N.tab;var K=b._74o;if(!K||K.tab===Z)if(!Z.isDisabled()&&Jm(N._75o,b.lp)){var V=k.indexOf(Z);L.remove(Z),H.onTabClosed(Z,V)}else Z.isDisabled()||H._8o===Z||L.sm().ss(Z)}b._25o=b._73o=b._74o=F===cn||F===Yp?b.x=b.lp=b.tx=v:b.y=b.lp=b.ty=v}}),Lb.PropertyView=function(W){var u=this;u._view=zj(1),u._canvas=Pd(u._view),hq(u._view,u._79O=zj()),u._rows=new Eb,u._28o=new Eb,u._26o={};var C=u._propertyModel=new Oj,l=u.ivm;C.mm(l,u),C.md(l,u),C.mh(l,u),u.dm(W?W:new Oj),new Wb(u)},Cc("PropertyView",V,{ms_ac:[or,Sj,Ch,Dq,sc,"categorizable",Er,Sp,Zm,np,Cb,_n,Dj,Ok,"selectRowIndex",Me,"background",Vd,Ij,ys,Zi,ae],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:je,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:Fb,_background:e.propertyViewBackground,_expandIcon:e.propertyViewExpandIcon,_collapseIcon:e.propertyViewCollapseIcon,_scrollBarColor:Ab,_scrollBarSize:am,_autoHideScrollBar:dj,_selectBackground:e.propertyViewSelectBackground,_rowHeight:Eo,_rowLineVisible:e.propertyViewRowLineVisible,_rowLineColor:e.propertyViewRowLineColor,_10I:.5,_columnLineVisible:e.propertyViewColumnLineVisible,_columnLineColor:e.propertyViewColumnLineColor,_labelColor:e.propertyViewLabelColor,_labelSelectColor:e.propertyViewLabelSelectColor,_labelFont:e.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(c){0>c&&(c=0),c>1&&(c=1);var q=this,N=q._10I;q._10I=c,q.fp("columnPosition",N,c)},getPropertyName:function(y){return y.toLabel()},getLabelFont:function(){return this._labelFont},getLabelColor:function(P,V,i){return i===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(){return this._labelFont},getPropertyColor:function(w,Q){return Q===this._selectRowIndex?this._labelSelectColor:w.getColor()||this._labelColor},getCategoryFont:function(){return this._labelFont},getCategoryColor:function(){return this._labelColor},adjustTranslateX:function(){return 0},adjustTranslateY:function(n){var f=this.getHeight()-this._59I;return f>n&&(n=f),n>0?0:B(n)},isExpanded:function(u){if(!u)return!0;var X=this._26o[u];return X?X.isExpanded:!0},toggle:function(v){var h=this;h.isExpanded(v)?h.collapse(v):h.expand(v)},expand:function(F){if(F){var V=this,d=V._26o[F];d&&!d.isExpanded&&(d.isExpanded=!0,V.onExpanded(F),V.ivm())}},onExpanded:function(){},collapse:function(f){if(f){var Y=this,$=Y._26o[f];$&&$.isExpanded&&($.isExpanded=!1,Y.onCollapsed(f),Y.ivm())}},onCollapsed:function(){},getCategoryName:function(_){if(!this.isCategorizable())return Yi;var p=_.getCategoryName();return p?p:Yi},getPropertyModel:function(){return this._propertyModel},setDataModel:function(p){var R=this,x=R._dataModel;x!==p&&(x&&(x.umd(R.handlePropertyChange,R),R._3o||x.sm().ums(R.ivm,R)),R._dataModel=p,p.md(R.handlePropertyChange,R),R._3o?R._3o._21I(p):p.sm().ms(R.ivm,R),R.fp(jo,x,p))},isVisible:function(_){return this._visibleFunc?this._visibleFunc(_):!0},onPropertyChanged:function(F){var o=this,M=F.property;Up[M]?o.ivm():o.iv(),M===Ol&&o._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:lm},handlePropertyChange:function(M){this._27o===M.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){var q=this;q._96I||(q.setSelectRowIndex(-1),q._96I=1,q.iv())},redraw:function(){this.iv()},validateModel:function(){var j=this,b=j._rows,U=j._28o,W={},Q=new Eb,D=j._27o;j.updateCurrentData(),D!==j._27o&&j.endEditing(),b.clear(),U.clear(),j.getRawProperties().each(function(H){if(j.isVisible(H)){Q.add(H);var e=j.getCategoryName(H);W[e]||(U.add(e),W[e]={isExpanded:j.isExpanded(e),properties:new Eb})}}),j._sortFunc&&Q.sort(j._sortFunc),j._26o=W,U.each(function(i){i!==Yi&&b.add(i);var r=W[i];r.isExpanded&&Q.each(function(v){j.getCategoryName(v)===i&&(r.properties.add(v),b.add({property:v,data:j._27o}))},j)})},validateImpl:function(){var M=this;M._76o(),M._96I&&(M.validateModel(),delete M._96I);var c=M._canvas,U=M.getWidth(),p=M.getHeight(),s=-M.ty(),m=M._rowHeight,D=M._indent,t=U-D,y=M._rows,B=y.size(),Y=M._9I=D+t*M._10I,A=M._59I=B*m;Vm(c,U,p),M._29I={x:0,y:s,width:U,height:p},M._31I=o(s/m),M._14I=X((s+p)/m),M._31I<0&&(M._31I=0),M._14I>B&&(M._14I=B);var i,S=ei(c),f=M._background;bc(S,0,-s,1),S.beginPath(),S.rect(0,s,U,p),S.clip(),S.clearRect(0,s,U,p),M._93db(S),f&&mg(S,0,0,D,A,f);for(var h=M._31I;h<M._14I;h++){var q=y.get(h),s=m*h;if(Ur(q))f&&mg(S,D,s,t,m,f),i=mc(M.isExpanded(q)?M._expandIcon:M._collapseIcon),i&&dh(S,i,wq,0,s,D,m),S.save(),S.beginPath(),S.rect(D,s,t,m),S.clip(),M.drawCategoryName(S,q,h,D,s,t,m),S.restore();else{var $=q.property,P=q.data,i=mc($.getIcon()),E=M._selectRowIndex===h?M.getSelectBackground():v;if(i&&dh(S,i,wq,0,s,D,m),E&&mg(S,D,s,t,m,E),S.save(),S.beginPath(),S.rect(D,s,Y-D,m),S.clip(),M.drawPropertyName(S,$,h,D,s,Y-D,m),S.restore(),!M.isEditing(P,$)){var Z=Y+1,x=U-Y-1;S.save(),S.beginPath(),S.rect(Z,s,x,m),S.clip(),M._87o(M.drawPropertyValue(S,$,M.getValue(P,$),h,Z,s,x,m,P),h,Z,s,x,m),S.restore()}}M._rowLineVisible&&mg(S,D,s+m-1,t,1,M._rowLineColor)}M._columnLineVisible&&(mg(S,Y,0,1,A,M._columnLineColor),mg(S,U-1,0,1,A)),M._92db(S),M._93I(),S.restore(),M.ty(M.ty())},drawCategoryName:function(E,y,x,J,b,N,V){pq(E,y,this.getCategoryFont(y),this.getCategoryColor(y),J,b,N,V)},drawPropertyName:function(W,Q,x,C,A,Y,i){return Q.drawPropertyName?(Q.drawPropertyName(W,Q,x,C,A,Y,i,this),void 0):(pq(W,this.getPropertyName(Q),this.getPropertyFont(Q,x),this.getPropertyColor(Q,x),C,A,Y,i),void 0)},drawPropertyValue:function(i,f,$,x,P,k,M,G,V){return f.drawPropertyValue?f.drawPropertyValue(i,f,$,x,P,k,M,G,V,this):(he(i,$,f,this.getLabelFont(f,$,x),this.getLabelColor(f,$,x),P,k,M,G,V,this),void 0)},isPropertyEditable:function(s){return s.isEditable()&&this.isEditable()},setProperties:function(H){this._propertyModel.clear(),this.addProperties(H)},addProperties:function(Z){if(Z){var y=this._propertyModel;Z.forEach(function(p){if(!(p instanceof Zl)){var S=Gj(p.className);
p=Vi(S?S:Zl,p)}y.add(p)})}},getRowIndexAt:function(v){var W=this,e=o(W.lp(v).y/W._rowHeight);return e>=0&&e<W._rows.size()?e:-1},getPropertyAt:function(r){var d=this,x=d.getRowIndexAt(r);return x>=0?d._rows.get(x).property:v},getToolTip:function(G){var C=this,L=C.getPropertyAt(G),P=C._27o;return L&&P?L.getToolTip(P,C._9I<C.lp(G).x,C):v}});var Wb=function(O){this.pv=O,this.addListeners()};Qq(Wb,V,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(s){this.getView().style.cursor=s},clear:function(){var w=this;w._62O=w.cp=w.ty=w.p=v,w.setCursor(A)},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(N){var q=this,I=q.pv;Ye(N),I.setFocus(N)&&(Mm(N)?(q.cp=ij(N),q.ty=I.ty(),q.p=I.getColumnPosition(),q.handle_touchmove(N)):I.setSelectRowIndex(I.getRowIndexAt(N)))},handleWindowMouseUp:function(){this.clear()},handleWindowTouchEnd:function(){this.clear()},handle_mouseup:function(x){this.handle_touchend(x)},handle_touchend:function($){var W=this;if(W.cp&&!W._62O){var o=W.pv,P=o.lp($),Z=P.x,k=P.y,n=o._indent,I=o.getRowIndexAt($),r=o._9I;if(I>=0){var s=o._rowHeight,G=s*I,O=o._rows.get(I),F=O.property;if(Ur(O))mc(o.isExpanded(O)?o._expandIcon:o._collapseIcon)&&Z>=0&&n>=Z&&k>=G&&G+s>=k?o.toggle(O):tq($)&&o.toggle(O);else if(Z>r&&o.isPropertyEditable(F)){var C={x:r+1,y:G,width:o.getWidth()-r-1,height:s},b={x:C.x+o.tx(),y:C.y+o.ty(),width:C.width,height:C.height};o.beginEditing({data:O.data,property:F,value:o.getValue(O.data,F),event:$,rect:C,editorRect:b,view:o})}}o.setSelectRowIndex(I)}W.clear()},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(b){var N=this,t=N.pv,Y=N.ty,U=N.cp,p=ij(b),$=N._62O;if("p"===$)t.setTranslateY(Y+p.y-U.y);else if("c"===$){var k=t.getWidth()-t._indent;if(k>16){var B=N.p-(U.x-p.x)/k,A=16/k;A>B&&(B=A),B>1-A&&(B=1-A),t.setColumnPosition(B)}}else"s"===$&&t.setTranslateY(Y+(U.y-p.y)*t._59I/t._29I.height)},handle_mousemove:function(o){this.handle_touchmove(o)},handle_touchmove:function(G){if(!pg&&Mm(G)){var q=this,g=q.pv,K=y(g.lp(G).x-g._9I)<=(P?8:3);q.cp?q._62O||(K?(q._62O="c",mm(q)):y(ij(G).y-q.cp.y)>=2&&(q._62O=q.isV(G)?"s":"p",mm(q))):(K?q.setCursor(xn):q.setCursor(A),q.isV(G)&&g._43o())}},isV:function(s){var L=this.pv,g=L._29I;return L._41o()&&g.x+g.width-L.lp(s).x<ui},handle_mousewheel:function(p){this.handleScroll(p,p.wheelDelta/40)},handle_DOMMouseScroll:function(D){2===D.axis&&this.handleScroll(D,-D.detail)},handleScroll:function(X,W){var z=this.pv;Ye(X),z.endEditing(),z.translate(0,W*z.getRowHeight())},handle_keydown:function(z){var B=this.pv,p=B._rows.size(),Z=B._selectRowIndex+(bf(z)?-1:1);(bf(z)||xf(z))&&(0>Z&&(Z=0),Z>=p&&(Z=p-1),B.setSelectRowIndex(Z))}}),Lb.ListView=function(C){this._5o(C),new Nq(this)},Cc("ListView",V,{ms_ac:[or,Sj,Ch,Vd,Er,Ij,ys,Sp,Zm,_n,Dj,Ok,po,Me],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:Fb,_rowHeight:Eo,_rowLineVisible:e.listViewRowLineVisible,_rowLineColor:e.listViewRowLineColor,_scrollBarColor:Ab,_scrollBarSize:am,_autoMakeVisible:Si,_autoHideScrollBar:dj,_selectBackground:e.listViewSelectBackground,_labelColor:e.listViewLabelColor,_labelSelectColor:e.listViewLabelSelectColor,_labelFont:e.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(R){var d=this,_=d._checkMode;d._checkMode=R,d.fp(vr,_,R)},drawRow:function(m,L,x,u,k,U,y){var C=this,A=0,S=C._indent,b=C.getIconWidth(L);C.drawRowBackground(m,L,x,u,k,U,y),C._checkMode&&(Ll(m,C.getCheckIcon(L),A+S/2,k+y/2,L,C),A+=S),C.drawIcon(m,L,A,k,b,y),C.drawLabel(m,L,A+b,k,y)}});var Nq=function(W){this.list=W,this.addListeners()};Qq(Nq,V,{ms_listener:1,getView:function(){return this.list._view},clear:function(r){var X=this;r&&"d"===X._62O&&X.list.handleDragAndDrop(r,"end"),X._62O=X.cp=X.tx=X.ty=v},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(G){var y=this,t=y.list;if(Ye(G),t.setFocus(G))if(y.cp=ij(G),y.tx=t.tx(),y.ty=t.ty(),Mm(G))y.isV(G)||y.isH(G)||!t.handleDragAndDrop||t.handleDragAndDrop(G,"prepare");else{var q=t.getDataAt(G);q&&y._33o(G,q),y.clear(G)}},handleWindowMouseUp:function(k){this.clear(k)},handleWindowTouchEnd:function(m){this.clear(m)},handle_mouseup:function(F){this.handle_touchend(F)},handle_touchend:function(c){var W=this,H=W.list;if(W.cp&&!W._62O){var Z=H.getDataAt(c);Z&&(H.isCheckMode()?W._34o(c,Z):W._33o(c,Z),tq(c)?H.onDataDoubleClicked(Z,c):H.onDataClicked(Z,c))}W.clear(c)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(H){var W=this,S=W.list,p=W._62O,u=W.tx,I=W.ty,V=W.cp,e=ij(H),g=S._29I;"p"===p?S.setTranslate(u+e.x-V.x,I+e.y-V.y):"v"===p?S.ty(I+(V.y-e.y)*S._59I/g.height):"h"===p?S.tx(u+(V.x-e.x)*S._91I/g.width):"d"===p&&S.handleDragAndDrop(H,"between")},handle_mousemove:function(R){this.handle_touchmove(R)},handle_touchmove:function(W){if(!pg&&Mm(W)){var F=this,k=F.list,Q=F.isV(W),x=F.isH(W);if(F.cp){if(!F._62O){if(Lp(ij(W),F.cp)<2)return;Q?F._62O="v":x?F._62O="h":k.handleDragAndDrop?(F._62O="d",k.handleDragAndDrop(W,"begin")):F._62O="p",mm(F)}}else Q&&k._43o(),x&&k._42o()}},isV:function(w){var G=this.list,b=G._29I;return G._41o()&&b.x+b.width-G.lp(w).x<ui},isH:function(o){var l=this.list,r=l._29I;return l._40o()&&r.y+r.height-l.lp(o).y<ui},handle_mousewheel:function(D){this.handleScroll(D,D.wheelDelta/40,D.wheelDelta!==D.wheelDeltaX)},handle_DOMMouseScroll:function(A){this.handleScroll(A,-A.detail,1)},handleScroll:function(r,f,L){var c=this.list;Ye(r),c.endEditing&&c.endEditing(),L&&c._41o()?c.translate(0,f*c.getRowHeight()):c._40o()&&c.translate(10*f,0)},handle_keydown:function(k){var u,G=this.list,w=G.sm(),d=G._rows,c=d.size();if(dk(k))G.selectAll();else if(up(k))G.handleDelete&&G.handleDelete(k);else if(op(k))G.isCheckMode()&&(u=G.getFocusData(),u&&G.checkData(u));else if(bf(k)||xf(k)){var K=G.isCheckMode();if(u=K?G.getFocusData():w.ld()){var N=G.getRowIndex(u);N>=0&&(bf(k)?0!==N&&(u=d.get(N-1),K?G.setFocusData(u):w.ss(u)):N!==c-1&&(u=d.get(N+1),K?G.setFocusData(u):w.ss(u)))}else c>0&&(u=d.get(0),K?G.setFocusData(u):w.ss(u))}},_34o:function(n,g){var S=this.list,P=S.lp(n).x;return P>=0&&P<=S._indent?(S.checkData(g),void 0):(S.setFocusData(g),void 0)},_33o:function(j,u){var n=this.list,I=n.sm(),J=I.ld();if(Zr(j))n.isSelected(u)?I.rs(u):I.as(u);else if(Xk(j))if(J)for(var z=n.getRowIndex(J),s=n.getRowIndex(u);z!==s;)z+=s>z?1:-1,I.as(n._rows.get(z));else I.ss(u);else(Mm(j)||!I.contains(u))&&I.ss(u)}}),Lb.TreeView=function(b){var B=this;B._35o(),B._5o(b),new mp(B)},Cc("TreeView",V,{ms_ac:[or,Sj,Ch,"rootVisible",vr,"rootData",Sp,Zm,_n,Dj,Ok,Er,Vd,Ij,ys,np,Cb,po,Me,"loader"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:v,_indent:Fb,_rowHeight:Eo,_rowLineVisible:e.treeViewRowLineVisible,_rowLineColor:e.treeViewRowLineColor,_scrollBarColor:Ab,_scrollBarSize:am,_autoHideScrollBar:dj,_expandIcon:e.treeViewExpandIcon,_collapseIcon:e.treeViewCollapseIcon,_autoMakeVisible:Si,_selectBackground:e.treeViewSelectBackground,_labelColor:e.treeViewLabelColor,_labelSelectColor:e.treeViewLabelSelectColor,_labelFont:e.treeViewLabelFont,drawRow:function(z,_,N,m,V,g,v){var D=this;D.drawRowBackground(z,_,N,m,V,g,v),D._97I(z,_,N,0,V,g,v)}});var mp=function(Q){Cq(mp,this,[Q])};Qq(mp,Nq,{toggle:function(b,L,c,P){var J=this.list,Y=J.lp(b).x;if(mc(J.getToggleIcon(L))){var B=c*P;if(Y>=B&&B+c>=Y)return J.toggle(L),!0}return tq(b)?(J.toggle(L),!0):!1},_34o:function(o,q){var u=this.list,O=u.lp(o).x,z=u._levelMap[q._id],t=u._indent,i=t*(z+1);return O>=i&&i+t>=O?(u.checkData(q),void 0):(this.toggle(o,q,t,z)||u.setFocusData(q),void 0)},_33o:function(K,n){var i=this,$=i.list;i.toggle(K,n,$._indent,$.getLevel(n))||mp.superClass._33o.call(i,K,n)},handle_keydown:function(L){if(Fi(L)||pc(L)){var Y=this.list,J=Y._rows,m=Y.isCheckMode(),M=Y.sm(),S=m?Y.getFocusData():M.ld();S?S.hasChildren()&&(Fi(L)?Y.collapse(S):Y.expand(S)):J.size()>0&&(S=J.get(0),m?Y.setFocusData(S):M.ss(S))}else mp.superClass.handle_keydown.call(this,L)}});var df=Lb.TableView=function(F){this._98I(),this._5o(F),new Zf(this)};Cc("TableView",V,{ms_ac:[or,Sj,Ch,"sortMode",Dq,sc,Vd,Ij,ys,Zi,ae,"sortColumn",Sp,Zm,_n,Dj,Ok,po,Me],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:fo,_editable:!0,_batchEditable:!1,_rowHeight:Eo,_rowLineVisible:e.tableViewRowLineVisible,_rowLineColor:e.tableViewRowLineColor,_columnLineVisible:e.tableViewColumnLineVisible,_columnLineColor:e.tableViewColumnLineColor,_scrollBarColor:Ab,_scrollBarSize:am,_autoHideScrollBar:dj,_autoMakeVisible:Si,_selectBackground:e.tableViewSelectBackground,_labelColor:e.tableViewLabelColor,_labelSelectColor:e.tableViewLabelSelectColor,_labelFont:e.tableViewLabelFont,getCheckColumn:function(){var R=this;if(!R._31o){var F=R._31o=new Ud;F.setEditable(!0),F.setWidth(40),F.getValue=R.getCheckColumValue,F.drawCell=R.drawCheckColumnCell}return R._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(m){var Q=this,I=Q._39o,E=Q.getCheckColumn();m!==Q.isCheckMode()&&(m?I.add(E,0):I.remove(E),Q.fp(vr,!m,m))},getCheckColumValue:function(Q,c,L){return L.isSelected(Q)},drawCheckColumnCell:function(c,u,_,h,x,m,y,X,C){Ll(c,C.getCheckIcon(u),x+y/2,m+X/2,u,C)}});var Zf=function(v){Cq(Zf,this,[v])};Qq(Zf,Nq,{_34o:function(y,T){var r=this.list,Z=r._31o;if(r.isCellEditable(T,Z)){var l=r._3Q(Z),a=r.lp(y).x;if(l&&a>=l.startX&&a<l.startX+Z.getWidth())return r.checkData(T),void 0}r.setFocusData(T),r._37O(T,y)},_33o:function(u,j){Zf.superClass._33o.apply(this,arguments),this.list._37O(j,u)}});var ep=Lb.TreeTableView=function($){var B=this,n=B._4o=new Ud;B._35o(),B._98I(),B._5o($),n.setDisplayName("Name"),n.setEditable(!0),n.setWidth(180),n.drawCell=Se,n.getValue=We,B._39o.add(n),new Cp(B)},Se=function(Q,M,X,H,y,n,i,D,m){m._97I(Q,M,X,y,n,i,D)},We=function(R,w,D){return D.getLabel(R)};Cc("TreeTableView",V,{ms_ac:[or,Sj,Ch,"sortMode",Dq,sc,Er,vr,"rootData","rootVisible",Sp,Zm,"sortColumn",np,Cb,_n,Dj,Ok,po,ys,Vd,Ij,Zi,ae,Me,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:fo,_checkMode:v,_editable:!0,_batchEditable:!1,_indent:Fb,_rowHeight:Eo,_rowLineVisible:e.treeTableViewRowLineVisible,_rowLineColor:e.treeTableViewRowLineColor,_columnLineVisible:e.treeTableViewColumnLineVisible,_columnLineColor:e.treeTableViewColumnLineColor,_expandIcon:e.treeTableViewExpandIcon,_collapseIcon:e.treeTableViewCollapseIcon,_scrollBarColor:Ab,_scrollBarSize:am,_autoHideScrollBar:dj,_autoMakeVisible:Si,_selectBackground:e.treeTableViewSelectBackground,_labelColor:e.treeTableViewLabelColor,_labelSelectColor:e.treeTableViewLabelSelectColor,_labelFont:e.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}});var Cp=function(H){Cq(Cp,this,[H])};Qq(Cp,Nq,{_34o:function(T,v){var G=this.list,$=G._4o,u=G._3Q($),D=G.lp(T).x;if(u){var o=G._indent,X=u.startX+o*G.getLevel(v);if(mc(G.getToggleIcon(v))&&D>=X&&X+o>=D)return G.toggle(v),void 0;if(G.isCellEditable(v,$)&&(X+=o,D>=X&&X+o>=D))return G.checkData(v),void 0}G.setFocusData(v),G._37O(v,T)},_33o:function(u,R){var D=this.list,O=D.lp(u).x;if(mc(D.getToggleIcon(R))){var H=D._3Q(D._4o);if(H){var P=D._indent,N=H.startX+P*D.getLevel(R);if(O>=N&&N+P>=O)return D.toggle(R),void 0}}Cp.superClass._33o.apply(this,arguments),D._37O(R,u)}});var Qh=Lb.TableHeader=function(c){var Y=this,m=Y._view=zj(1),h=Y._39o=c.getColumnModel(),w=Y.iv;Y.tv=Y._tableView=c,Y._60I=new Eb,Y._canvas=Pd(m),m.style.background=e.tableHeaderBackground||"",m.style.height=gl+eb,h.mm(w,Y),h.md(w,Y),h.mh(w,Y),c.mp(function(M){bg[M.property]&&Y.iv()},Y),new cj(Y),Y.iv()};Cc("TableHeader",V,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",or,Ch,Er,"moveBackground","insertColor",Zi,ae,"resizable","movable"],_checkIcon:de,_movable:!0,_resizable:!0,_labelColor:e.tableHeaderLabelColor,_labelFont:e.tableHeaderLabelFont,_columnLineColor:e.tableHeaderColumnLineColor,_columnLineVisible:e.tableHeaderColumnLineVisible,_sortDescIcon:e.tableHeaderSortDescIcon,_sortAscIcon:e.tableHeaderSortAscIcon,_moveBackground:e.tableHeaderMoveBackground,_insertColor:e.tableHeaderInsertColor,_indent:Fb,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(W){return W.toLabel()},getLabelFont:function(){return this._labelFont},getLabelColor:function(J){return J.getColor()||this._labelColor},getLabelAlign:function(L){return L._align},onPropertyChanged:function(){this.iv()},_5Q:function(E){this._61I=E,this.iv()},getLogicalPoint:function(s){return Rp(s,this._view,this.tv.tx())},validateImpl:function(){var L=this,X=L._canvas,H=L.getWidth(),f=L.getHeight(),_=L.tv,I=L._60I,O=L._61I,$=-_.tx(),G=0;(H!==X.clientWidth||f!==X.clientHeight)&&Vm(X,H,f),I.clear(),L._39o._roots.each(function(L){if(L.isVisible()){var c=G+L.getWidth();$+H>=G&&c>=$&&I.add({column:L,startX:G}),G=c}});var C=ei(X);if(bc(C,-$,0,1),C.beginPath(),C.rect($,0,H,f),C.clip(),C.clearRect($,0,H,f),I.each(function(i){var m=i.column,R=i.startX,U=m.getWidth();U>0&&(C.save(),C.beginPath(),C.rect(R,0,U,f),C.clip(),O&&O.column===m||L.drawColumn(C,m,R,0,U,f),L._columnLineVisible&&mg(C,R+U-1,0,1,f,L._columnLineColor),C.restore())}),O){var h=O.column,G=O.startX,J=O.position,S=h.getWidth();C.save(),C.beginPath(),C.rect(G,0,S,f),C.clip(),C.fillStyle=L._moveBackground,C.fill(),L.drawColumn(C,h,G,0,S,f),C.restore(),Ag(C,L._insertColor,J,0,f)}C.restore()},_6Q:function(s){var Q=this.tv;return Q._31o===s&&Q.sm().getSelectionMode()===i},drawColumn:function(Q,I,O,Z,e,h){var J=this,u=J.tv,L=mc(I.getIcon()),k=J.getLabelAlign(I);if(J._6Q(I)){var V=mc(J._checkIcon);Ll(Q,V,O+e/2,Z+h/2,I,J)}else{var t=J.getLabel(I),S=J.getLabelFont(I),j=J.getLabelColor(I),D=Sc(S,t).width,l=L?J._indent:0,c=h-6;k===r?(L&&dh(Q,L,wq,O,Z,l,h),pq(Q,t,S,j,O+l,Z,e,h,r)):k===N?(L&&dh(Q,L,wq,O+e-D-l,Z,l,h),pq(Q,t,S,j,O,Z,e,h,N)):(L&&dh(Q,L,wq,O+(e-D-l)/2,Z,l,h),pq(Q,t,S,j,O+3+c,Z,e-3-c,h,lg))}if(I.isSortable()&&u.getSortColumn()===I&&(L=mc(I.getSortOrder()===Eq?J._sortAscIcon:J._sortDescIcon))){var d=Ri(L,I)/2+2;Ll(Q,L,k===N?O+d:O+e-d,Z+h/2,I,u)}}});var cj=function(A){var G=this;G.th=A,G.tv=A._tableView,G.addListeners()};Qq(cj,V,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(n){this.getView().style.cursor=n},handle_mousemove:function(e){if(!pg){var s=this;delete s._29o,s.setCursor(A);for(var Q=s.th,S=Q._60I,O=Q.lp(e).x,_=S.size()-1;_>=0;_--){var M=S.get(_),Z=M.column,K=M.startX+Z.getWidth();if(Q.isResizable()&&y(K-O)<=(P?10:3))return s._29o=M,s.setCursor(xn),void 0;(Z.isSortable()||Q.isMovable()||Z===s.tv.getCheckColumn())&&O>=M.startX&&K>=O&&Z.getWidth()>0&&(s._29o=M,s.setCursor(yl))}}},handle_mousedown:function(O){this.handle_touchstart(O)},handle_touchstart:function(I){var m=this;Ye(I),m.tv.endEditing(),m.handle_mousemove(I),m._29o&&(m.x=ij(I).x,m.lx=m.th.lp(I).x,m.w=m._29o.column.getWidth(),mm(m,I))},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(Y){var R=this,U=R.th,L=R.getView().style.cursor,C=R._29o,n=ij(Y).x-R.x;if(R.resizing||R.moving||(L===xn?R.resizing=1:U.isMovable()&&L===yl&&y(n)>2&&(R.moving=1)),R.resizing)C.column.setWidth(R.w+n);else if(R.moving){var g=R.lx+n;U._60I.each(function(l){var B=l.startX,J=B+l.column.getWidth();if(g>=B&&J>=g){var T={column:C.column,startX:C.startX+n,front:J-g>g-B,insertColumn:l.column};T.position=T.front?B:J,U._5Q(T)}})}},_16Q:function(o,_){var W=this,m=W.tv,J=W.th,j=J._checkIcon;if(J._6Q(o)){var A=mc(j),x=W.lx,C=o.getWidth(),U=Ri(A,o);if(x>=_+C/2-U&&_+C/2+U>=x){J.setCheckIcon(j===fe?de:fe);var s=m.sm(),F=m._rows;return j===fe?s.rs(F):s.ss(F),!0}}return!1},handleWindowMouseUp:function(f){this.handleWindowTouchEnd(f)},handleWindowTouchEnd:function(K){var N=this,J=N.tv,h=N.th,q=N._29o;if(N.moving){var a=h._61I;if(a&&a.insertColumn!==a.column){var W=a.column,U=J.getColumnModel()._roots,E=U.remove(W),p=U.indexOf(a.insertColumn);p>=0&&(a.front||p++,p<=U.size()&&(U.add(W,p),J.getColumnModel()._38I(W,E,p)))}h._5Q(v),delete N.moving}else if(!N.resizing&&q){W=q.column;var L=h.lp(K).x,c=q.startX,F=!0;if(h.onColumnClicked){var V=h.onColumnClicked(W,K);V===!1&&(F=!1)}if(F&&L>=c&&L<=c+W.getWidth()&&!N._16Q(W,c)){if(W.isSortable()){var k=J.getSortMode(),S=W.getSortOrder();k===fo?J.getSortColumn()===W?(S===Gg&&J.setSortColumn(v),W.setSortOrder(S===Eq?Gg:Eq)):J.setSortColumn(W):"bistate"===k&&(J.getSortColumn()===W?W.setSortOrder(S===Eq?Gg:Eq):J.setSortColumn(W))}J.onColumnClicked(W,K)}}N._29o=N.resizing=N.x=N.lx=N.w=v}}),Lb.TablePane=function(X){this.init(new df(X))},Cc("TablePane",V,{ms_v:1,_44o:1}),Lb.TreeTablePane=function(H){this.init(new ep(H))},Cc("TreeTablePane",V,{ms_v:1,_44o:1}),Lb.Toolbar=function(O){var z=this,p=z._view=zj(1),b=p.style;b.background=e.toolbarBackground||"",b.height=ds+eb,z._canvas=Pd(p),z._30o=new Eb,z._90I=new Eb,z.setItems(O||[]),p.handleGroupSelectedChanged=function(o){if(o.isSelected()){var l=o.getGroupId();null!=l&&z._items.forEach(function(g){var R=g.element;R&&R!==o&&R.setSelected&&R.getGroupId&&R.getGroupId()===l&&R.setSelected(!1)})}},new Gf(z)},Cc("Toolbar",V,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[cr,or,Ch,Sj,Me,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:e.toolbarLabelColor,_labelSelectColor:e.toolbarLabelSelectColor,_labelFont:e.toolbarLabelFont,_selectBackground:e.toolbarSelectBackground,_itemGap:e.toolbarItemGap,_separatorColor:e.toolbarSeparatorColor,_13Q:!1,getToolTip:function(Z){var B=this.getItemInfoAt(Z);return B?B.item.toolTip:v},getLabelColor:function(C){return C.selected&&C.type!==fe&&C.type!==_m?this._labelSelectColor:this._labelColor},onPropertyChanged:function(I){this.iv(),I.property===cr&&this._items.forEach(function(X){uh(X)})},redraw:function(){this.iv()},addItem:function(V,d){var B=this._items;d==v?B.push(V):B.splice(d,0,V),this.fp(cr,v,B)},removeItem:function(q){if(q)for(var C=this._items,D=0;D<C.length;D++)q===C[D]&&(C.splice(D,1),this.fp(cr,v,C))},removeItemById:function(m){if(m!=v)for(var h=this._items,E=0;E<h.length;E++)m===h[E].id&&(h.splice(E,1),this.fp(cr,v,h))},getItemById:function(E){if(E!=v)for(var u=this._items,D=0;D<u.length;D++){var b=u[D];if(E===b.id)return b}},getItemInfos:function(){return this._30o},getItemInfoAt:function(d){var L=this,m=0,N=L._30o,O=L.lp(d),M=O.x,r=O.y;if(r>=0&&r<=L.getHeight())for(;m<N.size();m++){var c=N.get(m);if(c.startX<=M&&M<=c.endX)return c}return v},drawItem:function(t,I,v,R,Z){if(I.visible===!1)return 0;var F=this,T=I.disabled;T&&(t.globalAlpha=zc);var M=F.drawItemImpl(t,I,v,R,Z),r=F._itemGap;return T&&(t.globalAlpha=1),this._currentItem!==I||"separator"===I||I.unfocusable||bo(t,F._separatorColor,v-r/2,0,M+r,R),M},drawItemImpl:function(D,J,w,G,Y){var x,O=this,N=O._view,a=O._itemGap,B=G/2,X=J.type,e=J.label,H=O.getLabelFont(J),W=O.getLabelColor(J),p=J.selected,c=mc(J.icon),R=Ri(c,J),l=0,s=J.element,t=R+(e?Sc(H,e).width:0);if("separator"===J)return Ag(D,O._separatorColor,w,G/4,B),1;if(s){c&&Ll(D,c,w+R/2,B),pq(D,e,H,W,w+R,0,0,G);var q=Qn(s);Y||O._90I.add(q),q.parentNode!==N&&hq(N,q),s.iv&&s.iv(),s.validate&&s.validate();var k=q.getBoundingClientRect(),f=k.width,r=q.style;return Nn(q),r.left=O.tx()+w+t+eb,r.top=(G-k.height)/2+eb,t+f}return X===_m?x=mc(p?No:yj):X===fe&&(x=mc(p?fe:de)),x?(l=Ri(x,J),Ll(D,x,w+l/2,B),w+=l,t+=l):p&&mg(D,w-a/2,0,t+a,G,O.getSelectBackground(J)),c&&Ll(D,c,w+R/2,B),pq(D,e,H,W,w+R,0,0,G),t},validateImpl:function(){var W=this,e=W._canvas,J=W.getWidth(),R=W.getHeight(),D=W._30o,Q=W._items;Vm(e,J,R);var j=ei(e),q=W._itemGap,d=q/2;bc(j,W.tx(),0,1),j.clearRect(0,0,J,R);var g=W._90I;W._90I=new Eb,D.clear(),Q.forEach(function(b){var K=W.drawItem(j,b,d,R);D.add({item:b,startX:d,endX:d+K,width:K}),d+=K+q}),g.each(function(k){W._90I.contains(k)||sr(k)}),W._64I=k(0,d),j.restore(),W._13Q?(W._65O=0,j=ei(e),d=J-W._64I+q,bc(j,0,0,1),j.clearRect(0,0,J,R),D.clear(),Q.forEach(function(a){var V=W.drawItem(j,a,d,R,!0);D.add({item:a,startX:d,endX:d+V,width:V}),d+=V+q}),j.restore()):W.tx(W.tx())},handleClick:function(O){var P=O.type,x=O.action,U=O.groupId,_=O.selected;O.disabled||(U!=v?_||(O.selected=!0,this._items.forEach(function(u){u.groupId===U&&O!==u&&(u.selected=!1)}),x&&O.action(O)):P===fe||"toggle"===P?(O.selected=!_,x&&O.action(O)):x&&O.action(O)),$f(),this.iv()}});var Gf=function(R){this.tb=R,this.addListeners()};Qq(Gf,V,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(U){this.handleScroll(U,10*(U.wheelDelta/40))},handle_DOMMouseScroll:function(t){this.handleScroll(t,10*-t.detail)},handleScroll:function(v,w){Ye(v);var S=this.tb;S.isScrollable()&&!S._13Q&&(S.tx(S.tx()+w),Jd())},handle_mousemove:function(e){var N=this;pg?N.info2=N.tb.getItemInfoAt(e):N.setItem(e)},handle_mouseout:function(s){var h=this;s.target===h.getView()?h.tb.setCurrentItem(v):h.handle_mousemove(s)},handle_mousedown:function(F){this.handle_mousemove(F),this.handle_touchstart(F)},handle_touchstart:function(V){var T=this,j=T.tb,n=V.target;(n===T.getView()||n===j._canvas)&&(Ye(V),j.setFocus(V)&&(this.setItem(V),(j.isScrollable()||T.info&&!T.info.item.disabled)&&(T.x=ij(V).x,T.tx=j.tx(),mm(T,V))))},handleWindowMouseMove:function(u){this.handleWindowTouchMove(u)},handleWindowTouchMove:function(h){var L=this,q=L.tb;if(!q._13Q){var D=ij(h).x-L.x;!L._25o&&y(D)>2&&q.isScrollable()&&(L._25o=1),L._25o&&q.tx(L.tx+D)}},handleWindowMouseUp:function(D){this.handleWindowTouchEnd(D)},handleWindowTouchEnd:function(){var $=this,X=$.tb,T=$.info,Z=$.info2;if(!$._25o&&T){var G=T.item;Z&&Z.item!==G||X.handleClick(G)}$._25o=$.x=$.tx=$.info2=v,$.setItem(),P&&!X._13Q&&Hj(function(){X.tx(X.tx()+1),Hj(function(){X.tx(X.tx()-1)})})},setItem:function(X){var h=this,A=h.tb,x=h.info=X?A.getItemInfoAt(X):v;A.setCurrentItem(x?x.item:v)}}),Lb.BorderPane=function(){this._view=zj(1),this.iv()},Cc("BorderPane",V,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(G,O){this._12o("leftView",G),O!=v&&this.setLeftWidth(O)},getRightView:function(){return this._rightView},setRightView:function(B,c){this._12o("rightView",B),c!=v&&this.setRightWidth(c)},getTopView:function(){return this._topView},setTopView:function(l,i){this._12o("topView",l),i!=v&&this.setTopHeight(i)},getBottomView:function(){return this._bottomView},setBottomView:function(j,X){this._12o("bottomView",j),X!=v&&this.setBottomHeight(X)},getCenterView:function(){return this._centerView},setCenterView:function(T){this._12o("centerView",T)},_12o:function(l,b){var u=this,C="_"+l,H=u._view,O=u[C];O!==b&&(O&&(O.getView?sr(O.getView()):sr(O)),u[C]=b,b&&(b.getView?hq(H,b.getView(),1):hq(H,b,1)),u.fp(l,O,b))},onPropertyChanged:function(){this.iv()},validateImpl:function(){var a=this,t=a._topView,l=a._bottomView,R=a._leftView,x=a._rightView,$=a._centerView,G=a.getWidth(),_=a.getHeight(),N=0,C=0,Z=G,y=_,h=0,f=0,w=0,g=0;t&&(h=a._topHeight==v?Rc(t):a._topHeight,C=h),l&&(f=a._bottomHeight==v?Rc(l):a._bottomHeight,y=_-f),R&&(w=a._leftWidth==v?Wf(R):a._leftWidth,N=w),x&&(g=a._rightWidth==v?Wf(x):a._rightWidth,Z=G-g);var D=k(0,Z-N),d=k(0,y-C);t&&Ro(t,0,0,G,h),l&&Ro(l,0,y,G,f),R&&Ro(R,0,C,w,d),x&&Ro(x,Z,C,g,d),$&&Ro($,N,C,D,d)}})}}(this,Object);